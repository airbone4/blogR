<!DOCTYPE html>
<html><head>
  <title>1.5 編碼</title>  
      
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href='/blogR/images/favicon.ico'/>
      
    <link rel="stylesheet" href="/blogR/css/atom-one-dark-reasonable.css">
    
    <link href="/blogR/css/syntax.css?1637155718" rel="stylesheet">
    <script src="/blogR/js/jquery-3.3.1.min.js?1637155718"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    
    <script src='/blogR/js/datatables.min.js'></script>    
    <link href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css" rel="stylesheet">    
    
    <link href="/blogR/css/fontawesome-all.min.css?1637155718" rel="stylesheet">
    
    <link href="/blogR/css/theme-mine.css?1637155718" rel="stylesheet">
    
    <link href="/blogR/css/theme.css?1637155718" rel="stylesheet">
    
    
    <link rel="stylesheet" href="https://airbone4.github.io/blogR/scss/notice.7158afc7a24ea3d0073077b3699dbfad7f3df2be8d4e19956e934587413013ee.css" integrity="sha256-cVivx6JOo9AHMHezaZ2/rX898r6NThmVbpNFh0EwE&#43;4=">

    
  </head><body><div id="top-pane" class="navbar  fixed-top ">
  <div class="container-fluid">
  <span >
    <a  href='/blogR/' class="fs-5 accessory"><i class="fas fa-home"></i>R in Class</a>
    <span id="sidebar-toggle-span" class="fs-5"><i class="fas fa-align-justify"></i></span>
  </span><span >
      <span id="toc-menu">
    <label><i class="fas fa-list-alt" ></i> </label>    
<div id="variant-toc-content" >
    <div class="wrapper">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#編碼">編碼</a></li>
    <li><a href="#亂碼常用的判斷查詢">亂碼常用的判斷查詢</a>
      <ul>
        <li><a href="#readcsv">read.csv</a></li>
      </ul>
    </li>
    <li><a href="#輔助">輔助</a></li>
  </ul>
</nav>
    </div>
    <hr class="p-0 m-0" />
    <div class="toa"></div>
</div>
</span>
<span class="fs-5 accessory" data-bs-toggle="tooltip" data-bs-placement="bottom" 
      title='最後修改November 12, 2021'>1.5 編碼</span>
        
    

    </span>
  
  <span></span><span >
    <span >
    <label for="search-query" id="search-button"><i class="fas fa-search"></i></label>
    <input id="search-query" type="search" placeholder="搜尋" autocomplete="off">
</span>    
 
<div id="search-pane">
 <ol id="search-results"></ul>
</div>

    </span>
</div> 
</div>


<div id="content-wrapper"><nav id="sidebar">
  
    <ul class="nav flex-column topics" id="home-topics">
      
        
          
          


 

<li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="基礎R">
     

  <a class="nav-link" 
    href="/blogR/rlang.html"><i class="far fa-folder"></i>基礎R  </a>
    <span class="ps-1" data-bs-toggle="collapse" data-bs-target="#menu_item_92db98bffe2d6697b3536cbbf7b00074" aria-expanded="false">
      <i class="fas fa-caret-up pairicon-open"></i>
      <i class="fas fa-caret-down pairicon-close"></i>
    </span>
  <ul id="menu_item_92db98bffe2d6697b3536cbbf7b00074"  
  class="submenu collapse show" 
  data-bs-parent="#home-topics">

    
  
  
   
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/1_0_requirement.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1 Requirement</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/1_1_%E7%B3%BB%E7%B5%B1.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1 運作環境</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/1_2_filesystem.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2 檔案系統</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/1_3_%E5%9F%B7%E8%A1%8C.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3 執行</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/1_4_rpackages.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4 R Package</a></li>
     
    
        <li class="nav-item active"><a class="nav-link" href="/blogR/rlang/1_5_%E7%B7%A8%E7%A2%BC.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5 編碼</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/2_0_%E8%BC%B8%E5%87%BA%E8%BC%B8%E5%85%A5.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0 基本輸出輸入</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/2_1_%E8%AE%80%E6%AA%94%E5%AF%AB%E6%AA%94.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1 讀檔寫檔</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/2_2_data_explorer.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2 資料探索</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/2_3_data_explorer.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3 資料探索</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/3_quickview1.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3. Quick view 1</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_1_1_type_%E5%9F%BA%E6%9C%AC.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1 基本</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_1_2_type%E7%B7%B4%E7%BF%92.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.2 練習</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_2_type_vector.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.2 向量</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_3_type_matrix.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.3 矩陣</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_4_type_list.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.4 串列 list</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_5_type_string_function.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.5 字串處理函數</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_6_type_dataframe.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.6 資料集 data frame</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_7_type_factor.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.7 因子</a></li>
     
   
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_11_%E6%AD%A3%E8%A6%8F%E8%A1%A8%E9%81%94%E8%AA%9E%E6%B3%95.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.11 正規表達語法</a></li>
     
   
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/4_15_json.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.15 json</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/6_1_programming.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">6.1 Programming basic</a></li>
     
   
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/6_3_apply_family.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">6.3 function - apply family</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/7_1_function.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">7.1 R 函數的基本撰寫</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/7_2_function.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">7.2 R函數進階</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/7_3_function.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">7.3 R 函數定義的幾種分類</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/7_8_objectbasic.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">7.8 R的物件相關概念</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/7_9_%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91s3.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">7.9 物件導向S3</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/9_1_plot.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">9.1 基本繪圖</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/9_2_%E5%A4%9A%E5%9C%96%E7%96%8A%E5%9C%96.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">9.2 多圖疊圖</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/9_3_plot.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">9.3 畫圖練習</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/10_00_dplyrbasic01.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">10. tidyr, dplyr basic</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/11_00_sampling.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">11. sampling</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/11_environments.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">11 Environments</a></li>
     
   
     
   
     
   
        <li>


 

<li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="暫時">
     

  <a class="nav-link" 
    href="/blogR/rlang/demo.html"><i class="far fa-folder"></i>暫時  </a>
    <span class="ps-1" data-bs-toggle="collapse" data-bs-target="#menu_item_f03d3d24b564dd9c39af6eb86300021f" aria-expanded="false">
      <i class="fas fa-caret-up pairicon-open"></i>
      <i class="fas fa-caret-down pairicon-close"></i>
    </span>
  <ul id="menu_item_f03d3d24b564dd9c39af6eb86300021f"  
  class="submenu collapse" 
  data-bs-parent="#menu_item_92db98bffe2d6697b3536cbbf7b00074">

    
  
  
   
   
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/demo/citation.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">引用</a></li>
    </ul>
</li>
     
  
</li>
     
   
        <li>


 

<li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="練習用">
     

  <a class="nav-link" 
    href="/blogR/rlang/hw.html"><i class="far fa-folder"></i>練習用  </a>
    <span class="ps-1" data-bs-toggle="collapse" data-bs-target="#menu_item_b4809f6375b9dda8660e4938c2644e82" aria-expanded="false">
      <i class="fas fa-caret-up pairicon-open"></i>
      <i class="fas fa-caret-down pairicon-close"></i>
    </span>
  <ul id="menu_item_b4809f6375b9dda8660e4938c2644e82"  
  class="submenu collapse" 
  data-bs-parent="#menu_item_92db98bffe2d6697b3536cbbf7b00074">

    
  
  
   
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/hw/hw_basic.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">assignment-1</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/hw/hw_regexp.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">regexpr</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/hw/hw_filesystem.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">檔案系統</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/hw/dataset_class.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">資料集</a></li>
    </ul>
</li>
     
  
</li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/rlang/resources.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">練習相關檔案</a></li>
    </ul>
</li>
     
  

        
          
          


 

<li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="基礎計量">
     

  <a class="nav-link" 
    href="/blogR/econometrics.html"><i class="far fa-folder"></i>基礎計量  </a>
    <span class="ps-1" data-bs-toggle="collapse" data-bs-target="#menu_item_c59a6b16a979dae063e00e4a916e3284" aria-expanded="false">
      <i class="fas fa-caret-up pairicon-open"></i>
      <i class="fas fa-caret-down pairicon-close"></i>
    </span>
  <ul id="menu_item_c59a6b16a979dae063e00e4a916e3284"  
  class="submenu collapse" 
  data-bs-parent="#home-topics">

    
  
  
   
   
        <li class="nav-item"><a class="nav-link" href="/blogR/econometrics/0_prerequest.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0 前置準備</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/econometrics/1_t%E6%AA%A2%E5%AE%9A.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0 t檢定</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/econometrics/2_anova.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2. ANOVA</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/econometrics/a_a_%E8%B3%87%E6%96%99%E8%99%95%E7%90%86.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">A.a 資料處理</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/econometrics/a_b_mpg%E7%82%BA%E4%BE%8B%E7%9A%84ggplot.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">A.b mpg為例的ggplot</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/econometrics/lmm.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">lmm</a></li>
     
   
    </ul>
</li>
     
  

        
          
          


 

<li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="專題">
     

  <a class="nav-link" 
    href="/blogR/topic.html"><i class="far fa-folder"></i>專題  </a>
    <span class="ps-1" data-bs-toggle="collapse" data-bs-target="#menu_item_f7b6d4231ab239a316b7f2d9edf32817" aria-expanded="false">
      <i class="fas fa-caret-up pairicon-open"></i>
      <i class="fas fa-caret-down pairicon-close"></i>
    </span>
  <ul id="menu_item_f7b6d4231ab239a316b7f2d9edf32817"  
  class="submenu collapse" 
  data-bs-parent="#home-topics">

    
  
  
   
   
     
   
        <li>


 

<li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="實驗">
     

  <a class="nav-link" 
    href="/blogR/topic/simulation.html"><i class="far fa-folder"></i>實驗  </a>
    <span class="ps-1" data-bs-toggle="collapse" data-bs-target="#menu_item_e617bdc52da54290f99855ac9d5037aa" aria-expanded="false">
      <i class="fas fa-caret-up pairicon-open"></i>
      <i class="fas fa-caret-down pairicon-close"></i>
    </span>
  <ul id="menu_item_e617bdc52da54290f99855ac9d5037aa"  
  class="submenu collapse" 
  data-bs-parent="#menu_item_f7b6d4231ab239a316b7f2d9edf32817">

    
  
  
   
   
        <li class="nav-item"><a class="nav-link" href="/blogR/topic/simulation/2_1_%E9%9A%A8%E6%A9%9F%E8%AE%8A%E6%95%B8.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1 隨機變數</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/topic/simulation/2_1_%E4%BA%82%E6%95%B8%E5%87%BD%E6%95%B8%E7%B7%B4%E7%BF%92.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.1 亂數函數練習</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/topic/simulation/4_01_sim.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1 模擬基本 1</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/topic/simulation/4_02_sim.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.2 模擬基本 2</a></li>
     
   
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/topic/simulation/mc_%E5%9F%BA%E6%9C%AC.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">MC_基本</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/topic/simulation/poisson%E5%88%86%E9%85%8D.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">Poisson分配</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/topic/simulation/sinytest.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">sinytest</a></li>
     
   
        <li class="nav-item"><a class="nav-link" href="/blogR/topic/simulation/central.html" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">中央</a></li>
    </ul>
</li>
     
  
</li>
     
   
    </ul>
</li>
     
  

          
        
  </ul> 
    
    <hr/>
    <section id="footer">
      最近3篇<br/><ul><li><a href="https://airbone4.github.io/blogR/topic/simulation/sinytest.html"> <i class="far fa-clock" ></i>sinytest[2021-11-17 PM 09:28]</a></li><li><a href="https://airbone4.github.io/blogR/topic/simulation/bootstrap.html"> <i class="far fa-clock" ></i>bootstrap[2021-11-16 PM 09:17]</a></li><li><a href="https://airbone4.github.io/blogR/rlang/4_11_%E6%AD%A3%E8%A6%8F%E8%A1%A8%E9%81%94%E8%AA%9E%E6%B3%95.html"> <i class="far fa-clock" ></i>4.11 正規表達語法[2021-11-16 PM 09:17]</a></li></ul>
    </section>
  
</nav><article class="article mx-2 mt-3" id="body-inner">
    <h2 id="編碼">編碼</h2>
<ul>
<li>
<p>每一種特定的語言，都存在一種或數種的 code page(但是在不同廠商(例如IBM), code page 的數字不同) 。 例如：</p>
<ul>
<li>code page = 950 : 正體中文big5</li>
<li>windows-1252 的 code page = 1252 :西歐的英語系使用</li>
<li>shift_jis 的 code page = 932 : 日語中的漢字使用。</li>
</ul>
</li>
<li>
<p><a href="https://rpubs.com/dcw102213006/R_textmining_chinese">textmining</a></p>
</li>
<li>
<p><a href="https://rstudio-pubs-static.s3.amazonaws.com/279354_f552c4c41852439f910ad620763960b6.html">更多</a></p>
</li>
<li>
<p><a href="http://vito-note.blogspot.com/2012/01/blog-post_86.html">參考</a></p>
</li>
<li>
<p><a href="https://rstudio-pubs-static.s3.amazonaws.com/279354_f552c4c41852439f910ad620763960b6.html">最佳編碼👍</a></p>
</li>
</ul>
<p>看看系統本身的編碼(Current Locale)</p>
<pre><code class="language-r">l10n_info()
#&gt; $MBCS <!--html_preserve--><span id='提示1'>⛳ </span><!--/html_preserve-->
#&gt; [1] TRUE
#&gt; 
#&gt; $`UTF-8` <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="👏在linux系統中,這兩個(UTF-8,Latin-1)有一個是真，意思就是說，不是這個，就是那個，但是在windows中，都是Ｆ🤷‍♀️">🏷</span><!--/html_preserve-->
#&gt; [1] FALSE
#&gt; 
#&gt; $`Latin-1`
#&gt; [1] FALSE
#&gt; 
#&gt; $codepage
#&gt; [1] 950
#&gt; 
#&gt; $system.codepage
#&gt; [1] 950
sessionInfo() # 裡的 local<!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="因為傳回的是結構list因此sessionInfo()$local可以看到結果">🏷</span><!--/html_preserve-->
#&gt; R version 4.1.1 (2021-08-10)
#&gt; Platform: x86_64-w64-mingw32/x64 (64-bit)
#&gt; Running under: Windows 10 x64 (build 19043)
#&gt; 
#&gt; Matrix products: default
#&gt; 
#&gt; locale:
#&gt; [1] LC_COLLATE=Chinese (Traditional)_Taiwan.950 <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="👏當前編碼的排序和比較規則">🏷</span><!--/html_preserve-->
#&gt; [2] LC_CTYPE=Chinese (Traditional)_Taiwan.950   <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="👏 用於字元分類和字串處理，控制所有字元的處理方式，包括字元編碼，字元是單字節還是多位元組，如何列印等">🏷</span><!--/html_preserve-->
#&gt; [3] LC_MONETARY=Chinese (Traditional)_Taiwan.950 <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="👏貨幣格式">🏷</span><!--/html_preserve-->
#&gt; [4] LC_NUMERIC=C  <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="👏 非貨幣的數字顯示格式">🏷</span><!--/html_preserve-->
#&gt; [5] LC_TIME=Chinese (Traditional)_Taiwan.950   <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="👏 時間和日期格式">🏷</span><!--/html_preserve--> 
#&gt; 
#&gt; attached base packages:
#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     
#&gt; 
#&gt; loaded via a namespace (and not attached):
#&gt; [1] compiler_4.1.1 magrittr_2.0.1 tools_4.1.1    glue_1.4.2     stringi_1.7.4 
#&gt; [6] knitr_1.33     stringr_1.4.0  xfun_0.25      evaluate_0.14
Sys.getlocale(&quot;LC_ALL&quot;) # <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="✔由開頭Sys，可以知道這是作業系統變數存取">🏷</span><!--/html_preserve--> <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="✔也可以只打Sys.getlocale()">🏷</span><!--/html_preserve-->
#&gt; [1] &quot;LC_COLLATE=Chinese (Traditional)_Taiwan.950;LC_CTYPE=Chinese (Traditional)_Taiwan.950;LC_MONETARY=Chinese (Traditional)_Taiwan.950;LC_NUMERIC=C;LC_TIME=Chinese (Traditional)_Taiwan.950&quot;
getOption(&quot;encoding&quot;) # <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="✔其實是從前面的options()中的鍵值encoding拿資料，所以options()$encoding也可以">🏷</span><!--/html_preserve--> <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="✔這個選項是用來編碼串流(例如檔案,URL等等)而不是解讀程式碼中的字串向量。內定是 &amp;quot;native.enc&amp;quot; 。白話文的意思就是通訊協定內定是ASCII（因此需要將各種不是ASCII的字元編碼，可以利用UTF-8）,考慮網路協定都是ASCII,因此,不用費腦筋在這裡了,除非要重寫系統">🏷</span><!--/html_preserve-->

#&gt; [1] &quot;native.enc&quot;
</code></pre>
<p>更改系統的語系，以下更改為 UTF-8</p>
<pre><code class="language-r"># for mac
Sys.setlocale(category = &quot;LC_ALL&quot;, locale = &quot;en_US.UTF-8&quot;)
# for windows
Sys.setlocale(category = &quot;LC_ALL&quot;, locale = &quot;UTF-8&quot;)
x=&quot;hello&quot;
# x is a vector
Encoding(x) #<!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="✔不是用來知道系統的編碼,而是Ｒ程式碼變數（例如這裡的x)中的資料編碼">🏷</span><!--/html_preserve-->
</code></pre>
<div class="notices ms-5">
<div class="info"><p><code>Encoding()</code>的使用範例</p>
<blockquote>
<p>👺ascii 字串例如 x="hello" ,Encoding(x)的結果都是 unknown,因為ASCII不用編碼,在所有的編碼系統都一致。</p>
</blockquote>
<pre><code class="language-r">x<- '非白馬' 
Encoding(x) ## [1] "unknown" <!--html_preserve--><a   href="#%e6%8f%90%e7%a4%ba1">註解</a><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="❓為甚麼是unknown❓❓按照說明書,非ASCII內定都是給目前指定的locale語系，就是l10n_info()為TRUE的那個">🏷</span><!--/html_preserve-->
# 如果是big5
x2<- iconv(x, 'big5', 'UTF-8') #轉UTF-8，轉完以後可以用Encoding(x)再次驗證
# 如果是GB2312
x2<- iconv(x, 'GB2312', 'UTF-8') #轉UTF-8
Encoding(x2) ## [1] "UTF-8" 
</code></pre>
<p>讀檔案的時候,如果要自行指定編碼,那麼下面是一些相關程式碼</p>
<pre><code class="language-r">source("myRcode.R", encoding = "utf-8")
readLines("mydata.csv", encoding = "big5")
read.table(..., fileEncoding = "", encoding = "unknown",...)
data <- iconv(data, "big5", "utf8") # 將資料轉成 UTF-8
</code></pre>
</div>
</div>
<h2 id="亂碼常用的判斷查詢">亂碼常用的判斷查詢</h2>
<p>😒只在WIN上測試</p>
<ul>
<li>查看目前R使用的語系: 輸入 <code>Sys.getlocale()</code> 或</li>
<li><code>Sys.getlocale(category = &quot;LC_ALL&quot;)</code>，
<ul>
<li><!--html_preserve--><div class="message">
<button class='expand btn-primary p-1 collapsed' data-bs-toggle="collapse" data-bs-target="#n468951723"></button>我的系統上顯示的是<div  id="n468951723" class="collapse" style="overflow-x:visible"><!--/html_preserve--><pre><code class="language-r">Sys.getlocale()

# &quot;LC_COLLATE=Chinese (Traditional)_Taiwan.950;LC_CTYPE=Chinese (Traditional)_Taiwan.950;LC_MONETARY=Chinese (Traditional)_Taiwan.950;LC_NUMERIC=C;LC_TIME=Chinese (Traditional)_Taiwan.950&quot;
# 😒有些系統是用/分隔，例如
#.UTF-8/C/en_US.UTF-8/en_US.UTF-8&quot; 
</code></pre>
<!--html_preserve--></div></div><!--/html_preserve--></li>
</ul>
</li>
</ul>
<p>如果不是 Chinese (Traditional)_Taiwan.950 者，可以輸入下列指令設定 RStudio/R 的語系</p>
<ul>
<li>英文：
<ul>
<li>Sys.setlocale(category = &quot;LC_ALL&quot;, locale = “UTF-8&quot;)</li>
</ul>
</li>
<li>中文：
<ul>
<li><code>Sys.setlocale(&quot;LC_ALL&quot;,&quot;Chinese (Traditional)_Taiwan.950&quot;)</code></li>
<li>或<code>Sys.setlocale(&quot;LC_ALL&quot;,&quot;cht&quot;)</code>
<ul>
<li><!--html_preserve--><div class="message">
<button class='expand btn-primary p-1 collapsed' data-bs-toggle="collapse" data-bs-target="#n352614879"></button>執行結果<div  id="n352614879" class="collapse" style="overflow-x:visible"><!--/html_preserve--><p>😒設定的結果,就是預設的安裝環境,如下所示</p>
<pre><code class="language-r">Sys.setlocale(category = &quot;LC_ALL&quot;, locale = &quot;cht&quot;) # &lt;!--html_preserve--&gt;&lt;span  data-bs-toggle=&quot;tooltip&quot; data-bs-html=&quot;true&quot; data-bs-placement=&quot;bottom&quot; title=&quot;👏 等同於Sys.setlocale(&amp;amp;quot;LC_ALL&amp;amp;quot;,&amp;amp;quot;Chinese (Traditional)_Taiwan.950&amp;amp;quot;)&quot;&gt;🏷&lt;/span&gt;&lt;!--/html_preserve--&gt;
#&gt; [1] &quot;LC_COLLATE=Chinese (Traditional)_Taiwan.950;LC_CTYPE=Chinese (Traditional)_Taiwan.950;LC_MONETARY=Chinese (Traditional)_Taiwan.950;LC_NUMERIC=C;LC_TIME=Chinese (Traditional)_Taiwan.950&quot;
</code></pre>
<!--html_preserve--></div></div><!--/html_preserve--></li>
</ul>
</li>
<li><code>Sys.setlocale(category = &quot;LC_ALL&quot;, locale = &quot;zh_TW.UTF-8&quot;)</code> 或  <code>Sys.setlocale(category = &quot;LC_ALL&quot;, locale = &quot;zh_TW&quot;)</code>
<ul>
<li>這應該是linux(需要超級使用者) <!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="👏這是linux在視窗中不行">🏷</span><!--/html_preserve--></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>試試看(雖然也沒什麼用)</p>
<ul>
<li>找到Rconsole 檔案（用everything搜尋軟體,可能位置 R的安裝目錄\etc\Rconsole）,。這是一個文字檔。
在其中找到 <code>language</code> 然後改成<code>language = English 或 zh_TW</code></li>
</ul>
<h3 id="readcsv">read.csv</h3>
<ul>
<li><a href="https://stackoverflow.com/questions/18789330/r-on-windows-character-encoding-hell">stack overflow</a></li>
</ul>
<p>在linux 中,如果是UTF-8,這樣就可以
<code>read.csv(&quot;japanese_utf8.csv&quot;)</code>
但是如果不是UTF-8,則指定編碼
<code>read.csv(&quot;japanese_shiftjis.csv&quot;, fileEncoding = &quot;SHIFT-JIS&quot;)</code>
問題是windows:</p>
<pre><code class="language-r?lang=r?class=.source">if(!require(readr)){
    install.packages(&quot;readr&quot;,dependencies=T)
}

options(stringsAsFactors = FALSE)

df&lt;-read_csv(&quot;resources/wh_zh_utf8.csv&quot;,
             comment=&quot;#&quot;,
             locale = locale(encoding = &quot;UTF-8&quot;))
knitr::kable(df)
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:right">身高</th>
<th style="text-align:right">體重</th>
<th style="text-align:left">性別</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">156</td>
<td style="text-align:right">56</td>
<td style="text-align:left">男</td>
</tr>
<tr>
<td style="text-align:right">167</td>
<td style="text-align:right">66</td>
<td style="text-align:left">女</td>
</tr>
<tr>
<td style="text-align:right">189</td>
<td style="text-align:right">70</td>
<td style="text-align:left">男</td>
</tr>
<tr>
<td style="text-align:right">180</td>
<td style="text-align:right">NA</td>
<td style="text-align:left">女</td>
</tr>
</tbody>
</table>
<pre><code class="language-r?lang=r?class=.source">df&lt;-read_csv(&quot;resources/wh_zh_950.csv&quot;,
             comment=&quot;#&quot;,
             locale = locale(encoding = &quot;big5&quot;) )
#<!--html_preserve--><span  data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="bottom" title="❌zh_TW,cht, Chinese (Traditional)_Taiwan.950。✔:big5">🏷</span><!--/html_preserve-->

knitr::kable(df)
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:right">身高</th>
<th style="text-align:right">體重</th>
<th style="text-align:left">性別</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">156</td>
<td style="text-align:right">56</td>
<td style="text-align:left">男</td>
</tr>
<tr>
<td style="text-align:right">167</td>
<td style="text-align:right">66</td>
<td style="text-align:left">女</td>
</tr>
<tr>
<td style="text-align:right">189</td>
<td style="text-align:right">70</td>
<td style="text-align:left">男</td>
</tr>
<tr>
<td style="text-align:right">180</td>
<td style="text-align:right">NA</td>
<td style="text-align:left">女</td>
</tr>
</tbody>
</table>
<h2 id="輔助">輔助</h2>
<pre><code class="language-r?lang=r?class=.source">hugocmd(&quot;expand&quot; ,'title=&quot;&quot; incode=true')
#&gt; <!--html_preserve--><div class="message">
<button class='expand btn-primary p-1 collapsed' data-bs-toggle="collapse" data-bs-target="#n367954281"></button><div  id="n367954281" class="collapse" style="overflow-x:visbile"><!--/html_preserve-->iconvlist()
#&gt;   [1] &#34;437&#34;                     &#34;850&#34;                    
#&gt;   [3] &#34;852&#34;                     &#34;855&#34;                    
#&gt;   [5] &#34;857&#34;                     &#34;860&#34;                    
#&gt;   [7] &#34;861&#34;                     &#34;862&#34;                    
#&gt;   [9] &#34;863&#34;                     &#34;865&#34;                    
#&gt;  [11] &#34;866&#34;                     &#34;869&#34;                    
#&gt;  [13] &#34;ANSI_X3.4-1968&#34;          &#34;ANSI_X3.4-1986&#34;         
#&gt;  [15] &#34;ASCII&#34;                   &#34;ASMO-708&#34;               
#&gt;  [17] &#34;BIG-5&#34;                   &#34;BIG-FIVE&#34;               
#&gt;  [19] &#34;big5&#34;                    &#34;BIG5&#34;                   
#&gt;  [21] &#34;big5-hkscs&#34;              &#34;BIG5-HKSCS&#34;             
#&gt;  [23] &#34;big5hkscs&#34;               &#34;BIG5HKSCS&#34;              
#&gt;  [25] &#34;CP-GR&#34;                   &#34;CP-IS&#34;                  
#&gt;  [27] &#34;cp1025&#34;                  &#34;CP1125&#34;                 
#&gt;  [29] &#34;CP1133&#34;                  &#34;CP1200&#34;                 
#&gt;  [31] &#34;CP12000&#34;                 &#34;CP12001&#34;                
#&gt;  [33] &#34;CP1201&#34;                  &#34;CP1250&#34;                 
#&gt;  [35] &#34;CP1251&#34;                  &#34;CP1252&#34;                 
#&gt;  [37] &#34;CP1253&#34;                  &#34;CP1254&#34;                 
#&gt;  [39] &#34;CP1255&#34;                  &#34;CP1256&#34;                 
#&gt;  [41] &#34;CP1257&#34;                  &#34;CP1258&#34;                 
#&gt;  [43] &#34;CP1361&#34;                  &#34;CP154&#34;                  
#&gt;  [45] &#34;CP367&#34;                   &#34;CP437&#34;                  
#&gt;  [47] &#34;CP50221&#34;                 &#34;CP51932&#34;                
#&gt;  [49] &#34;CP65001&#34;                 &#34;CP737&#34;                  
#&gt;  [51] &#34;CP775&#34;                   &#34;CP819&#34;                  
#&gt;  [53] &#34;CP850&#34;                   &#34;CP852&#34;                  
#&gt;  [55] &#34;CP853&#34;                   &#34;CP855&#34;                  
#&gt;  [57] &#34;CP857&#34;                   &#34;CP858&#34;                  
#&gt;  [59] &#34;CP860&#34;                   &#34;CP861&#34;                  
#&gt;  [61] &#34;CP862&#34;                   &#34;CP863&#34;                  
#&gt;  [63] &#34;CP864&#34;                   &#34;CP865&#34;                  
#&gt;  [65] &#34;cp866&#34;                   &#34;CP866&#34;                  
#&gt;  [67] &#34;CP869&#34;                   &#34;CP874&#34;                  
#&gt;  [69] &#34;cp875&#34;                   &#34;CP932&#34;                  
#&gt;  [71] &#34;CP936&#34;                   &#34;CP949&#34;                  
#&gt;  [73] &#34;CP950&#34;                   &#34;CSASCII&#34;                
#&gt;  [75] &#34;CSIBM855&#34;                &#34;CSIBM857&#34;               
#&gt;  [77] &#34;CSIBM860&#34;                &#34;CSIBM861&#34;               
#&gt;  [79] &#34;CSIBM863&#34;                &#34;CSIBM864&#34;               
#&gt;  [81] &#34;CSIBM865&#34;                &#34;CSIBM866&#34;               
#&gt;  [83] &#34;CSIBM869&#34;                &#34;csISO2022JP&#34;            
#&gt;  [85] &#34;CSISOLATIN1&#34;             &#34;CSPC775BALTIC&#34;          
#&gt;  [87] &#34;CSPC850MULTILINGUAL&#34;     &#34;CSPC862LATINHEBREW&#34;     
#&gt;  [89] &#34;CSPC8CODEPAGE437&#34;        &#34;CSPCP852&#34;               
#&gt;  [91] &#34;CSPTCP154&#34;               &#34;CSWINDOWS31J&#34;           
#&gt;  [93] &#34;CYRILLIC-ASIAN&#34;          &#34;DOS-720&#34;                
#&gt;  [95] &#34;DOS-862&#34;                 &#34;EUC-CN&#34;                 
#&gt;  [97] &#34;euc-jp&#34;                  &#34;euc-kr&#34;                 
#&gt;  [99] &#34;EUC-KR&#34;                  &#34;EUCCN&#34;                  
#&gt; [101] &#34;eucjp&#34;                   &#34;euckr&#34;                  
#&gt; [103] &#34;GB18030&#34;                 &#34;gb2312&#34;                 
#&gt; [105] &#34;GBK&#34;                     &#34;hz-gb-2312&#34;             
#&gt; [107] &#34;IBM-CP1133&#34;              &#34;IBM-Thai&#34;               
#&gt; [109] &#34;IBM00858&#34;                &#34;IBM00924&#34;               
#&gt; [111] &#34;IBM01047&#34;                &#34;IBM01140&#34;               
#&gt; [113] &#34;IBM01141&#34;                &#34;IBM01142&#34;               
#&gt; [115] &#34;IBM01143&#34;                &#34;IBM01144&#34;               
#&gt; [117] &#34;IBM01145&#34;                &#34;IBM01146&#34;               
#&gt; [119] &#34;IBM01147&#34;                &#34;IBM01148&#34;               
#&gt; [121] &#34;IBM01149&#34;                &#34;IBM037&#34;                 
#&gt; [123] &#34;IBM1026&#34;                 &#34;IBM273&#34;                 
#&gt; [125] &#34;IBM277&#34;                  &#34;IBM278&#34;                 
#&gt; [127] &#34;IBM280&#34;                  &#34;IBM284&#34;                 
#&gt; [129] &#34;IBM285&#34;                  &#34;IBM290&#34;                 
#&gt; [131] &#34;IBM297&#34;                  &#34;IBM367&#34;                 
#&gt; [133] &#34;IBM420&#34;                  &#34;IBM423&#34;                 
#&gt; [135] &#34;IBM424&#34;                  &#34;IBM437&#34;                 
#&gt; [137] &#34;IBM437&#34;                  &#34;IBM500&#34;                 
#&gt; [139] &#34;ibm737&#34;                  &#34;ibm775&#34;                 
#&gt; [141] &#34;IBM775&#34;                  &#34;IBM819&#34;                 
#&gt; [143] &#34;ibm850&#34;                  &#34;IBM850&#34;                 
#&gt; [145] &#34;ibm852&#34;                  &#34;IBM852&#34;                 
#&gt; [147] &#34;IBM855&#34;                  &#34;IBM855&#34;                 
#&gt; [149] &#34;ibm857&#34;                  &#34;IBM857&#34;                 
#&gt; [151] &#34;IBM860&#34;                  &#34;IBM860&#34;                 
#&gt; [153] &#34;ibm861&#34;                  &#34;IBM861&#34;                 
#&gt; [155] &#34;IBM862&#34;                  &#34;IBM863&#34;                 
#&gt; [157] &#34;IBM863&#34;                  &#34;IBM864&#34;                 
#&gt; [159] &#34;IBM864&#34;                  &#34;IBM865&#34;                 
#&gt; [161] &#34;IBM865&#34;                  &#34;IBM866&#34;                 
#&gt; [163] &#34;ibm869&#34;                  &#34;IBM869&#34;                 
#&gt; [165] &#34;IBM870&#34;                  &#34;IBM871&#34;                 
#&gt; [167] &#34;IBM880&#34;                  &#34;IBM905&#34;                 
#&gt; [169] &#34;iso-2022-jp&#34;             &#34;iso-2022-jp&#34;            
#&gt; [171] &#34;ISO-2022-JP&#34;             &#34;ISO-2022-JP-MS&#34;         
#&gt; [173] &#34;iso-2022-kr&#34;             &#34;ISO-8859-1&#34;             
#&gt; [175] &#34;iso-8859-13&#34;             &#34;iso-8859-15&#34;            
#&gt; [177] &#34;iso-8859-2&#34;              &#34;iso-8859-3&#34;             
#&gt; [179] &#34;iso-8859-4&#34;              &#34;iso-8859-5&#34;             
#&gt; [181] &#34;iso-8859-6&#34;              &#34;iso-8859-7&#34;             
#&gt; [183] &#34;iso-8859-8&#34;              &#34;iso-8859-8-i&#34;           
#&gt; [185] &#34;iso-8859-9&#34;              &#34;ISO-IR-100&#34;             
#&gt; [187] &#34;ISO-IR-6&#34;                &#34;ISO_646.IRV:1991&#34;       
#&gt; [189] &#34;iso_8859-1&#34;              &#34;ISO_8859-1&#34;             
#&gt; [191] &#34;ISO_8859-1:1987&#34;         &#34;iso_8859-13&#34;            
#&gt; [193] &#34;iso_8859-15&#34;             &#34;iso_8859-2&#34;             
#&gt; [195] &#34;iso_8859-3&#34;              &#34;iso_8859-4&#34;             
#&gt; [197] &#34;iso_8859-5&#34;              &#34;iso_8859-6&#34;             
#&gt; [199] &#34;iso_8859-7&#34;              &#34;iso_8859-8&#34;             
#&gt; [201] &#34;iso_8859-8-i&#34;            &#34;iso_8859-9&#34;             
#&gt; [203] &#34;iso_8859_1&#34;              &#34;iso_8859_13&#34;            
#&gt; [205] &#34;iso_8859_15&#34;             &#34;iso_8859_2&#34;             
#&gt; [207] &#34;iso_8859_3&#34;              &#34;iso_8859_4&#34;             
#&gt; [209] &#34;iso_8859_5&#34;              &#34;iso_8859_6&#34;             
#&gt; [211] &#34;iso_8859_7&#34;              &#34;iso_8859_8&#34;             
#&gt; [213] &#34;iso_8859_8-i&#34;            &#34;iso_8859_9&#34;             
#&gt; [215] &#34;ISO2022-JP&#34;              &#34;ISO2022-JP-MS&#34;          
#&gt; [217] &#34;iso2022-kr&#34;              &#34;ISO646-US&#34;              
#&gt; [219] &#34;iso8859-1&#34;               &#34;ISO8859-1&#34;              
#&gt; [221] &#34;iso8859-13&#34;              &#34;iso8859-15&#34;             
#&gt; [223] &#34;iso8859-2&#34;               &#34;iso8859-3&#34;              
#&gt; [225] &#34;iso8859-4&#34;               &#34;iso8859-5&#34;              
#&gt; [227] &#34;iso8859-6&#34;               &#34;iso8859-7&#34;              
#&gt; [229] &#34;iso8859-8&#34;               &#34;iso8859-8-i&#34;            
#&gt; [231] &#34;iso8859-9&#34;               &#34;Johab&#34;                  
#&gt; [233] &#34;JOHAB&#34;                   &#34;koi8-r&#34;                 
#&gt; [235] &#34;koi8-u&#34;                  &#34;ks_c_5601-1987&#34;         
#&gt; [237] &#34;L1&#34;                      &#34;latin-9&#34;                
#&gt; [239] &#34;LATIN1&#34;                  &#34;latin2&#34;                 
#&gt; [241] &#34;latin3&#34;                  &#34;latin4&#34;                 
#&gt; [243] &#34;latin5&#34;                  &#34;latin7&#34;                 
#&gt; [245] &#34;latin9&#34;                  &#34;mac&#34;                    
#&gt; [247] &#34;mac-centraleurope&#34;       &#34;mac-is&#34;                 
#&gt; [249] &#34;macarabic&#34;               &#34;maccentraleurope&#34;       
#&gt; [251] &#34;maccroatian&#34;             &#34;maccyrillic&#34;            
#&gt; [253] &#34;macgreek&#34;                &#34;machebrew&#34;              
#&gt; [255] &#34;maciceland&#34;              &#34;macintosh&#34;              
#&gt; [257] &#34;macis&#34;                   &#34;macroman&#34;               
#&gt; [259] &#34;macromania&#34;              &#34;macthai&#34;                
#&gt; [261] &#34;macturkish&#34;              &#34;macukraine&#34;             
#&gt; [263] &#34;macukrainian&#34;            &#34;MS-ANSI&#34;                
#&gt; [265] &#34;MS-ARAB&#34;                 &#34;MS-CYRL&#34;                
#&gt; [267] &#34;MS-EE&#34;                   &#34;MS-GREEK&#34;               
#&gt; [269] &#34;MS-HEBR&#34;                 &#34;MS-TURK&#34;                
#&gt; [271] &#34;MS50221&#34;                 &#34;MS51932&#34;                
#&gt; [273] &#34;MS932&#34;                   &#34;MS936&#34;                  
#&gt; [275] &#34;PT154&#34;                   &#34;PTCP154&#34;                
#&gt; [277] &#34;SHIFFT_JIS&#34;              &#34;SHIFFT_JIS-MS&#34;          
#&gt; [279] &#34;shift-jis&#34;               &#34;shift_jis&#34;              
#&gt; [281] &#34;SJIS&#34;                    &#34;SJIS-MS&#34;                
#&gt; [283] &#34;SJIS-OPEN&#34;               &#34;SJIS-WIN&#34;               
#&gt; [285] &#34;UCS-2&#34;                   &#34;UCS-2BE&#34;                
#&gt; [287] &#34;UCS-2LE&#34;                 &#34;UCS-4&#34;                  
#&gt; [289] &#34;UCS-4BE&#34;                 &#34;UCS-4BE&#34;                
#&gt; [291] &#34;UCS-4LE&#34;                 &#34;UCS-4LE&#34;                
#&gt; [293] &#34;UCS2&#34;                    &#34;UCS2BE&#34;                 
#&gt; [295] &#34;UCS2LE&#34;                  &#34;UCS4&#34;                   
#&gt; [297] &#34;UCS4BE&#34;                  &#34;UCS4LE&#34;                 
#&gt; [299] &#34;UHC&#34;                     &#34;unicodeFFFE&#34;            
#&gt; [301] &#34;US&#34;                      &#34;US-ASCII&#34;               
#&gt; [303] &#34;UTF-16&#34;                  &#34;UTF-16BE&#34;               
#&gt; [305] &#34;UTF-16LE&#34;                &#34;UTF-32&#34;                 
#&gt; [307] &#34;UTF-32BE&#34;                &#34;UTF-32LE&#34;               
#&gt; [309] &#34;UTF-8&#34;                   &#34;UTF16&#34;                  
#&gt; [311] &#34;UTF16BE&#34;                 &#34;UTF16LE&#34;                
#&gt; [313] &#34;UTF32&#34;                   &#34;UTF32BE&#34;                
#&gt; [315] &#34;UTF32LE&#34;                 &#34;UTF8&#34;                   
#&gt; [317] &#34;WINBALTRIM&#34;              &#34;windows-1250&#34;           
#&gt; [319] &#34;windows-1251&#34;            &#34;windows-1252&#34;           
#&gt; [321] &#34;windows-1253&#34;            &#34;windows-1254&#34;           
#&gt; [323] &#34;windows-1255&#34;            &#34;windows-1256&#34;           
#&gt; [325] &#34;windows-1257&#34;            &#34;windows-1258&#34;           
#&gt; [327] &#34;WINDOWS-31J&#34;             &#34;WINDOWS-50221&#34;          
#&gt; [329] &#34;WINDOWS-51932&#34;           &#34;windows-874&#34;            
#&gt; [331] &#34;WINDOWS-932&#34;             &#34;WINDOWS-936&#34;            
#&gt; [333] &#34;x-Chinese_CNS&#34;           &#34;x-cp20001&#34;              
#&gt; [335] &#34;x-cp20003&#34;               &#34;x-cp20004&#34;              
#&gt; [337] &#34;x-cp20005&#34;               &#34;x-cp20261&#34;              
#&gt; [339] &#34;x-cp20269&#34;               &#34;x-cp20936&#34;              
#&gt; [341] &#34;x-cp20949&#34;               &#34;x-cp50227&#34;              
#&gt; [343] &#34;x-EBCDIC-KoreanExtended&#34; &#34;x-Europa&#34;               
#&gt; [345] &#34;x-IA5&#34;                   &#34;x-IA5-German&#34;           
#&gt; [347] &#34;x-IA5-Norwegian&#34;         &#34;x-IA5-Swedish&#34;          
#&gt; [349] &#34;x-iscii-as&#34;              &#34;x-iscii-be&#34;             
#&gt; [351] &#34;x-iscii-de&#34;              &#34;x-iscii-gu&#34;             
#&gt; [353] &#34;x-iscii-ka&#34;              &#34;x-iscii-ma&#34;             
#&gt; [355] &#34;x-iscii-or&#34;              &#34;x-iscii-pa&#34;             
#&gt; [357] &#34;x-iscii-ta&#34;              &#34;x-iscii-te&#34;             
#&gt; [359] &#34;x-mac-arabic&#34;            &#34;x-mac-ce&#34;               
#&gt; [361] &#34;x-mac-chinesesimp&#34;       &#34;x-mac-chinesetrad&#34;      
#&gt; [363] &#34;x-mac-croatian&#34;          &#34;x-mac-cyrillic&#34;         
#&gt; [365] &#34;x-mac-greek&#34;             &#34;x-mac-hebrew&#34;           
#&gt; [367] &#34;x-mac-icelandic&#34;         &#34;x-mac-japanese&#34;         
#&gt; [369] &#34;x-mac-korean&#34;            &#34;x-mac-romanian&#34;         
#&gt; [371] &#34;x-mac-thai&#34;              &#34;x-mac-turkish&#34;          
#&gt; [373] &#34;x-mac-ukrainian&#34;         &#34;x_Chinese-Eten&#34;
hugocmd(m=&#34;expand&#34; ,end=T)
#&gt; <!--html_preserve--></div></div><!--/html_preserve-->
</code></pre>
<p>和作業系統一致的編碼</p>
<pre><code class="language-r">localeToCharset(locale =Sys.getlocale(&quot;LC_CTYPE&quot;))
</code></pre>
<p>工具程式</p>
<pre><code class="language-r">native_encode = function(x) {
  if (.Platform$OS.type == 'unix') return(x)
  x2 = enc2native(x)
  if (identical(enc2utf8(x2), x)) x2 else x
}
</code></pre>
<p>工具程式</p>
<pre><code class="language-r?lang=r?class=.source">details &lt;- function(x) {
    details &lt;-
        list(x=x,encoding=Encoding(x),bytes=nchar(x,&quot;b&quot;),chars=nchar(x,&quot;c&quot;),
             width=nchar(x,&quot;w&quot;),raw=paste(charToRaw(x),collapse=&quot;:&quot;))
    print(t(as.matrix(details)))
}
x &lt;- &quot;Maur\xEDcio&quot;
Encoding(x) &lt;- &quot;latin1&quot;
details(x)
#&gt;      x          encoding bytes chars width raw                      
#&gt; [1,] &quot;Mauricio&quot; &quot;latin1&quot; 8     8     8     &quot;4d:61:75:72:ed:63:69:6f&quot;

x &lt;- &quot;你好&quot;
Encoding(x) &lt;- &quot;UTF-8&quot;
details(x)
#&gt; Error in nchar(x, &quot;c&quot;): invalid multibyte string, element 1

x &lt;- &quot;你好&quot;
iconv(x,&quot;unknown&quot;,&quot;utf-8&quot;)
#&gt; Error in iconv(x, &quot;unknown&quot;, &quot;utf-8&quot;): 在編碼頁 950 中不支援從 'unknown' 轉換到 'utf-8'
Encoding(x) &lt;- &quot;UTF-8&quot;
details(x)
#&gt; Error in nchar(x, &quot;c&quot;): invalid multibyte string, element 1

x &lt;- &quot;你好&quot;
y&lt;-enc2utf8(x)
details(y)
#&gt;      x      encoding bytes chars width raw                
#&gt; [1,] &quot;你好&quot; &quot;UTF-8&quot;  6     2     4     &quot;e4:bd:a0:e5:a5:bd&quot;
</code></pre>
<p>初步結論就是系統使用big5的雙位元。用enc2utf8(),enc2native()應該是比較符合windows10系統的方法。</p>
<p>工具</p>
<ol>
<li>判斷是不是UTF-8
<pre><code class="language-r">is.na(iconv(x, &quot;UTF-8&quot;, &quot;UTF-8&quot;))
</code></pre>
</li>
</ol>
  </article><div class="collapse fs-6 pt-2" id="qnote-list">
    <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-white ">
        <span >
            
            <span class="fw-semibold">
                <button  class="btn btn-primary btn-inline" 
                   data-bs-toggle="collapse" data-bs-target="#qnote-edit"><span data-bs-toggle="tooltip" title="加入速記">加</span></button>
                <button id="qnote-gsave" class="btn btn-primary btn-inline" 
                   data-bs-toggle="tooltip" data-bs-placement="left" title="存到硬碟"
                   onclick="qnSaveGoogle()">存</button>
                <label for="qnote-load" class="btn btn-primary btn-inline"  data-bs-toggle="tooltip" data-bs-placement="left" title="從檔案載入">載</label>   
                <input style="display:none" type="file" id="qnote-load" onchange="qnLoadGoogle(this)" />
                <button id="qnote-clear" class="btn btn-primary btn-inline" 
                   data-bs-toggle="tooltip" data-bs-placement="left" title="清除全部速記"
                   onclick="cleanNotes()">清</button>
            </span>
        </span>
        <span class="fw-semibold collapse" id="qnote-edit"> 
            <input type="text" class="txtitle d-block w-100 h-25 " placeholder="抬頭" />
            <textarea class="txtBox  d-block w-100 h-75 " placeholder="本文"></textarea>
            
            <button id="qnote-add-item" onclick="addNote()" class="btn btn-primary">存</button> 
        </span>

    </div>
</div>

<link href="/blogR/css/quicknote.css?1637155718" rel="stylesheet">
<script src="/blogR/js/quicknote.js?1637155718"></script>
<div id="page-guide" class="bg-dark">  
  
    
          
          <a href="/blogR/rlang/1_4_rpackages.html" 
                   class="btn btn-primary" 
                   data-bs-toggle="tooltip" 
                   data-bs-placement="left" title=1.4&#32;R&#32;Package>前</a>
                   
          
            <a href="/blogR/rlang/10_00_dplyrbasic01.html" 
               class="btn btn-primary" data-bs-toggle="tooltip" data-bs-placement="left" 
               title=10.&#32;tidyr,&#32;dplyr&#32;basic>後</a>            
          
          

  
<script src="/blogR/js/packhtml.js?1637155718"></script>    
<button class="btn btn-primary " onclick="packthis(this)"
data-bs-toggle="tooltip" data-bs-placement="left" title="打包成單一檔案">包</button>
<button class="btn btn-primary" data-bs-toggle="collapse" data-bs-target="div#qnote-list">
  <span data-bs-toggle="tooltip" data-bs-placement="left" title="快速註記">速</span></button>
 
</div>
  </div>


  <script src="/blogR/js/featherlight.min.js?1637155718"></script>
  <script src="/blogR/js/featherlight.gallery.min.js?1637155718"></script>
  <link href="/blogR/css/featherlight.min.css?1637155718" rel="stylesheet">
  <link href="/blogR/css/featherlight.gallery.min.css?1637155718" rel="stylesheet">
  
  <script src="/blogR/js/highlight.min.js"></script>
  
  <script src="/blogR/js/hugohelper.js?1637155718"></script>
  <link href="/blogR/css/rmd.css?1637155718" rel="stylesheet">
  <link href="/blogR/css/mystyle.css?1637155718" rel="stylesheet">    
  <script src='/blogR/js/variant.js?1637155718'></script>

<script>
  
   let idxfile = "\/blogR\/index.json"  
  
</script>
<script src='/blogR/js/localsearch.js?1637155718'></script>
  
      
          <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
      
      <script>
          mermaid.initialize({ startOnLoad: true });
      </script>
  

  <script>
      MathJax = {
        tex: {
          inlineMath: [['\($', '$\)'], ['\\(', '\\)']],
          displayMath: [['$$','$$']  , ['\\[','\\]']] 
        },
        svg: {
          fontCache: 'global'
        }
      };
      
      
    
      </script>
      <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
        src="https://example.com/mathjax/MathJax.js?config=TeX-AMS_CHTML">
      </script>



<script>
  document.addEventListener('DOMContentLoaded', (event) => {
    jumpto = document.querySelector("#sidebar .active");
     if (jumpto!=null) jumpto.scrollIntoViewIfNeeded(true);
  
  });    
  
  </script>
</body>
</html>