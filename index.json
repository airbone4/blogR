[
{"uri": "/blogR//rlang/hw/dataset_class.html","title": "Ë≥áÊñôÈõÜ",
	"tags": [],
	"description": "Á∑¥Áøí",
	"content": "\r\r\r\r\r‚ùì\n Ë¶ÅÁü•ÈÅìÁõÆÂâçÊúâÂì™‰∫õË≥áÊñôÈõÜ   üìùdata()ÂèØ‰ª•ÂàóÂá∫ÁõÆÂâçÊúâÁîöÈ∫ºË≥áÊñôÂèØ‰ª•Áî®,‰πüÂèØ‰ª•ÊîæÂÖ•ÂèÉÊï∏,Âè™ÂàóÂá∫ÊüêÂÄãpackageÁöÑË≥áÊñôÈõÜ„ÄÇ   ÂØ´ÂÄãÂáΩÊï∏,Âà§Êñ∑ÁõÆÂâçÊàëÂÄëË¶ÅÁöÑË≥áÊñôÈõÜÊòØ‰∏çÊòØÂ≠òÂú®  ‚ùì\n Ë¶ÅÁü•ÈÅìË≥áÊñôÈõÜcarsÁöÑÊ¨Ñ‰Ωç ÂàóÂá∫Ââç10Á≠ÜË≥áÊñô   normal pretty: üìù ÂÆâË£ùDT: install.pacakges(‚ÄúDT‚Äù),ÂèÉËÄÉ üí£ ÊúÉÁº∫Â§±ÂêÑÁ®ÆÁ®ãÂºèÂ∫´  hint  data() names(cars)  List of 4 #üè∑üëçË∑üÊàëÂÄëË™™ÈÄôÊòØlist ,Êúâ4ÂÄãÂÖÉÁ¥†\r$ title : chr \u0026quot;Data sets\u0026quot;\r$ header : NULL\r$ results: chr [1:104, 1:4] # üè∑(ÈÄôÊòØ‰∏ÄÂÄãÂ≠ó‰∏≤Áü©Èô£,ÂèØ‰ª•Â§ßËá¥Ë≥áÊñôÂú®ÈÄôË£°) \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; ...\r..- attr(*, \u0026quot;dimnames\u0026quot;)=List of 2 ## üè∑(2Á∂≠Â∫¶ÁöÑÂêçÁ®±,ÈÄôË£°ÂèØ‰ª•ÁúãÂà∞Ê≤íÊúâROWÂêçÁ®±,‰ΩÜÊòØÊúâÊ¨Ñ‰ΩçÂêçÁ®±) .. ..$ : NULL .. ..$ : chr [1:4] #üè∑(ÈÄôË£°ÂèØ‰ª•ÁúãÂá∫ÊòØ‰∏ÄÂÄãÁü©Èô£) \u0026quot;Package\u0026quot; \u0026quot;LibPath\u0026quot; \u0026quot;Item\u0026quot; \u0026quot;Title\u0026quot;\r$ footer : chr \u0026quot;Use ‚Äòdata(package = .packages(all.available = TRUE))‚Äô\\nto list the data sets in all *available* packages.\u0026quot;\r- attr(*, \u0026quot;class\u0026quot;)= chr \u0026quot;packageIQR\u0026quot;\r üìù ÂÆâË£ùDT: install.pacakges(‚ÄúDT‚Äù),ÂèÉËÄÉ  practice \rÂ±ïÈñã\r``` r\rlibrary(DT)\rdn\u0026lt;-data()\rss\u0026lt;-dn$results[,\u0026#34;Title\u0026#34;]\rds\u0026lt;-data.frame(ss)\rdatatable(ds)\r```\r\u0026lt;div id=\u0026quot;htmlwidget-1\u0026quot; style=\u0026quot;width:100%;height:auto;\u0026quot; class=\u0026quot;datatables html-widget\u0026quot;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script type=\u0026quot;application/json\u0026quot; data-for=\u0026quot;htmlwidget-1\u0026quot;\u0026gt;{\u0026quot;x\u0026quot;:{\u0026quot;filter\u0026quot;:\u0026quot;none\u0026quot;,\u0026quot;vertical\u0026quot;:false,\u0026quot;data\u0026quot;:[[\u0026quot;1\u0026quot;,\u0026quot;2\u0026quot;,\u0026quot;3\u0026quot;,\u0026quot;4\u0026quot;,\u0026quot;5\u0026quot;,\u0026quot;6\u0026quot;,\u0026quot;7\u0026quot;,\u0026quot;8\u0026quot;,\u0026quot;9\u0026quot;,\u0026quot;10\u0026quot;,\u0026quot;11\u0026quot;,\u0026quot;12\u0026quot;,\u0026quot;13\u0026quot;,\u0026quot;14\u0026quot;,\u0026quot;15\u0026quot;,\u0026quot;16\u0026quot;,\u0026quot;17\u0026quot;,\u0026quot;18\u0026quot;,\u0026quot;19\u0026quot;,\u0026quot;20\u0026quot;,\u0026quot;21\u0026quot;,\u0026quot;22\u0026quot;,\u0026quot;23\u0026quot;,\u0026quot;24\u0026quot;,\u0026quot;25\u0026quot;,\u0026quot;26\u0026quot;,\u0026quot;27\u0026quot;,\u0026quot;28\u0026quot;,\u0026quot;29\u0026quot;,\u0026quot;30\u0026quot;,\u0026quot;31\u0026quot;,\u0026quot;32\u0026quot;,\u0026quot;33\u0026quot;,\u0026quot;34\u0026quot;,\u0026quot;35\u0026quot;,\u0026quot;36\u0026quot;,\u0026quot;37\u0026quot;,\u0026quot;38\u0026quot;,\u0026quot;39\u0026quot;,\u0026quot;40\u0026quot;,\u0026quot;41\u0026quot;,\u0026quot;42\u0026quot;,\u0026quot;43\u0026quot;,\u0026quot;44\u0026quot;,\u0026quot;45\u0026quot;,\u0026quot;46\u0026quot;,\u0026quot;47\u0026quot;,\u0026quot;48\u0026quot;,\u0026quot;49\u0026quot;,\u0026quot;50\u0026quot;,\u0026quot;51\u0026quot;,\u0026quot;52\u0026quot;,\u0026quot;53\u0026quot;,\u0026quot;54\u0026quot;,\u0026quot;55\u0026quot;,\u0026quot;56\u0026quot;,\u0026quot;57\u0026quot;,\u0026quot;58\u0026quot;,\u0026quot;59\u0026quot;,\u0026quot;60\u0026quot;,\u0026quot;61\u0026quot;,\u0026quot;62\u0026quot;,\u0026quot;63\u0026quot;,\u0026quot;64\u0026quot;,\u0026quot;65\u0026quot;,\u0026quot;66\u0026quot;,\u0026quot;67\u0026quot;,\u0026quot;68\u0026quot;,\u0026quot;69\u0026quot;,\u0026quot;70\u0026quot;,\u0026quot;71\u0026quot;,\u0026quot;72\u0026quot;,\u0026quot;73\u0026quot;,\u0026quot;74\u0026quot;,\u0026quot;75\u0026quot;,\u0026quot;76\u0026quot;,\u0026quot;77\u0026quot;,\u0026quot;78\u0026quot;,\u0026quot;79\u0026quot;,\u0026quot;80\u0026quot;,\u0026quot;81\u0026quot;,\u0026quot;82\u0026quot;,\u0026quot;83\u0026quot;,\u0026quot;84\u0026quot;,\u0026quot;85\u0026quot;,\u0026quot;86\u0026quot;,\u0026quot;87\u0026quot;,\u0026quot;88\u0026quot;,\u0026quot;89\u0026quot;,\u0026quot;90\u0026quot;,\u0026quot;91\u0026quot;,\u0026quot;92\u0026quot;,\u0026quot;93\u0026quot;,\u0026quot;94\u0026quot;,\u0026quot;95\u0026quot;,\u0026quot;96\u0026quot;,\u0026quot;97\u0026quot;,\u0026quot;98\u0026quot;,\u0026quot;99\u0026quot;,\u0026quot;100\u0026quot;,\u0026quot;101\u0026quot;,\u0026quot;102\u0026quot;,\u0026quot;103\u0026quot;,\u0026quot;104\u0026quot;],[\u0026quot;Monthly Airline Passenger Numbers 1949-1960\u0026quot;,\u0026quot;Sales Data with Leading Indicator\u0026quot;,\u0026quot;Sales Data with Leading Indicator\u0026quot;,\u0026quot;Biochemical Oxygen Demand\u0026quot;,\u0026quot;Carbon Dioxide Uptake in Grass Plants\u0026quot;,\u0026quot;Weight versus age of chicks on different diets\u0026quot;,\u0026quot;Elisa assay of DNase\u0026quot;,\u0026quot;Daily Closing Prices of Major European Stock Indices, 1991-1998\u0026quot;,\u0026quot;Determination of Formaldehyde\u0026quot;,\u0026quot;Hair and Eye Color of Statistics Students\u0026quot;,\u0026quot;Harman Example 2.3\u0026quot;,\u0026quot;Harman Example 7.4\u0026quot;,\u0026quot;Pharmacokinetics of Indomethacin\u0026quot;,\u0026quot;Effectiveness of Insect Sprays\u0026quot;,\u0026quot;Quarterly Earnings per Johnson \u0026amp; Johnson Share\u0026quot;,\u0026quot;Level of Lake Huron 1875-1972\u0026quot;,\u0026quot;Intercountry Life-Cycle Savings Data\u0026quot;,\u0026quot;Growth of Loblolly pine trees\u0026quot;,\u0026quot;Flow of the River Nile\u0026quot;,\u0026quot;Growth of Orange Trees\u0026quot;,\u0026quot;Potency of Orchard Sprays\u0026quot;,\u0026quot;Results from an Experiment on Plant Growth\u0026quot;,\u0026quot;Reaction Velocity of an Enzymatic Reaction\u0026quot;,\u0026quot;Road Casualties in Great Britain 1969-84\u0026quot;,\u0026quot;Pharmacokinetics of Theophylline\u0026quot;,\u0026quot;Survival of passengers on the Titanic\u0026quot;,\u0026quot;The Effect of Vitamin C on Tooth Growth in Guinea Pigs\u0026quot;,\u0026quot;Student Admissions at UC Berkeley\u0026quot;,\u0026quot;Road Casualties in Great Britain 1969-84\u0026quot;,\u0026quot;UK Quarterly Gas Consumption\u0026quot;,\u0026quot;Accidental Deaths in the US 1973-1978\u0026quot;,\u0026quot;Violent Crime Rates by US State\u0026quot;,\u0026quot;Lawyers' Ratings of State Judges in the US Superior Court\u0026quot;,\u0026quot;Personal Expenditure Data\u0026quot;,\u0026quot;Distances Between European Cities and Between US Cities\u0026quot;,\u0026quot;Death Rates in Virginia (1940)\u0026quot;,\u0026quot;Internet Usage per Minute\u0026quot;,\u0026quot;The World's Telephones\u0026quot;,\u0026quot;Ability and Intelligence Tests\u0026quot;,\u0026quot;Passenger Miles on Commercial US Airlines, 1937-1960\u0026quot;,\u0026quot;New York Air Quality Measurements\u0026quot;,\u0026quot;Anscombe's Quartet of 'Identical' Simple Linear Regressions\u0026quot;,\u0026quot;The Joyner-Boore Attenuation Data\u0026quot;,\u0026quot;The Chatterjee-Price Attitude Data\u0026quot;,\u0026quot;Quarterly Time Series of the Number of Australian Residents\u0026quot;,\u0026quot;Body Temperature Series of Two Beavers\u0026quot;,\u0026quot;Body Temperature Series of Two Beavers\u0026quot;,\u0026quot;Speed and Stopping Distances of Cars\u0026quot;,\u0026quot;Chicken Weights by Feed Type\u0026quot;,\u0026quot;Mauna Loa Atmospheric CO2 Concentration\u0026quot;,\u0026quot;Student's 3000 Criminals Data\u0026quot;,\u0026quot;Yearly Numbers of Important Discoveries\u0026quot;,\u0026quot;Smoking, Alcohol and (O)esophageal Cancer\u0026quot;,\u0026quot;Conversion Rates of Euro Currencies\u0026quot;,\u0026quot;Conversion Rates of Euro Currencies\u0026quot;,\u0026quot;Distances Between European Cities and Between US Cities\u0026quot;,\u0026quot;Old Faithful Geyser Data\u0026quot;,\u0026quot;Monthly Deaths from Lung Diseases in the UK\u0026quot;,\u0026quot;Freeny's Revenue Data\u0026quot;,\u0026quot;Freeny's Revenue Data\u0026quot;,\u0026quot;Freeny's Revenue Data\u0026quot;,\u0026quot;Infertility after Spontaneous and Induced Abortion\u0026quot;,\u0026quot;Edgar Anderson's Iris Data\u0026quot;,\u0026quot;Edgar Anderson's Iris Data\u0026quot;,\u0026quot;Areas of the World's Major Landmasses\u0026quot;,\u0026quot;Monthly Deaths from Lung Diseases in the UK\u0026quot;,\u0026quot;Luteinizing Hormone in Blood Samples\u0026quot;,\u0026quot;Longley's Economic Regression Data\u0026quot;,\u0026quot;Annual Canadian Lynx trappings 1821-1934\u0026quot;,\u0026quot;Monthly Deaths from Lung Diseases in the UK\u0026quot;,\u0026quot;Michelson Speed of Light Data\u0026quot;,\u0026quot;Motor Trend Car Road Tests\u0026quot;,\u0026quot;Average Yearly Temperatures in New Haven\u0026quot;,\u0026quot;Average Monthly Temperatures at Nottingham, 1920-1939\u0026quot;,\u0026quot;Classical N, P, K Factorial Experiment\u0026quot;,\u0026quot;Occupational Status of Fathers and their Sons\u0026quot;,\u0026quot;Annual Precipitation in US Cities\u0026quot;,\u0026quot;Quarterly Approval Ratings of US Presidents\u0026quot;,\u0026quot;Vapor Pressure of Mercury as a Function of Temperature\u0026quot;,\u0026quot;Locations of Earthquakes off Fiji\u0026quot;,\u0026quot;Random Numbers from Congruential Generator RANDU\u0026quot;,\u0026quot;Lengths of Major North American Rivers\u0026quot;,\u0026quot;Measurements on Petroleum Rock Samples\u0026quot;,\u0026quot;Student's Sleep Data\u0026quot;,\u0026quot;Brownlee's Stack Loss Plant Data\u0026quot;,\u0026quot;Brownlee's Stack Loss Plant Data\u0026quot;,\u0026quot;Brownlee's Stack Loss Plant Data\u0026quot;,\u0026quot;US State Facts and Figures\u0026quot;,\u0026quot;US State Facts and Figures\u0026quot;,\u0026quot;US State Facts and Figures\u0026quot;,\u0026quot;US State Facts and Figures\u0026quot;,\u0026quot;US State Facts and Figures\u0026quot;,\u0026quot;US State Facts and Figures\u0026quot;,\u0026quot;US State Facts and Figures\u0026quot;,\u0026quot;Monthly Sunspot Data, from 1749 to \u0026amp;#34;Present\u0026amp;#34;\u0026quot;,\u0026quot;Yearly Sunspot Data, 1700-1988\u0026quot;,\u0026quot;Monthly Sunspot Numbers, 1749-1983\u0026quot;,\u0026quot;Swiss Fertility and Socioeconomic Indicators (1888) Data\u0026quot;,\u0026quot;Yearly Treering Data, -6000-1979\u0026quot;,\u0026quot;Diameter, Height and Volume for Black Cherry Trees\u0026quot;,\u0026quot;Populations Recorded by the US Census\u0026quot;,\u0026quot;Topographic Information on Auckland's Maunga Whau Volcano\u0026quot;,\u0026quot;The Number of Breaks in Yarn during Weaving\u0026quot;,\u0026quot;Average Heights and Weights for American Women\u0026quot;]],\u0026quot;container\u0026quot;:\u0026quot;\u0026lt;table class=\u0026amp;#34;display\u0026amp;#34;\u0026gt;\\n \u0026lt;thead\u0026gt;\\n \u0026lt;tr\u0026gt;\\n \u0026lt;th\u0026gt; \u0026lt;/th\u0026gt;\\n \u0026lt;th\u0026gt;ss\u0026lt;/th\u0026gt;\\n \u0026lt;/tr\u0026gt;\\n \u0026lt;/thead\u0026gt;\\n\u0026lt;/table\u0026gt;\u0026quot;,\u0026quot;options\u0026quot;:{\u0026quot;order\u0026quot;:[],\u0026quot;autoWidth\u0026quot;:false,\u0026quot;orderClasses\u0026quot;:false,\u0026quot;columnDefs\u0026quot;:[{\u0026quot;orderable\u0026quot;:false,\u0026quot;targets\u0026quot;:0}]}},\u0026quot;evals\u0026quot;:[],\u0026quot;jsHooks\u0026quot;:[]}\u0026lt;/script\u0026gt;\nx \u0026lt;- sample(replace = TRUE, 20, x = c(1:10, NA))\ry \u0026lt;- runif(min = 0, max = 1, 20)\rcor(m = \u0026quot;k\u0026quot;, y = y, u = \u0026quot;p\u0026quot;, x = x)\r "},
{"uri": "/blogR//rlang/hw/hw_filesystem.html","title": "Ê™îÊ°àÁ≥ªÁµ±",
	"tags": [],
	"description": "Á∑¥Áøí",
	"content": "\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r‚ùì 1  Ë¶ÅÁü•ÈÅìÁõÆÂâçÊúâÂì™‰∫õÂ•ó‰ª∂  View ÂàóË°®(datatable) ÂØ´ÂÖ•Ê™îÊ°à(3ÂÄãÊ¨Ñ‰Ωç,Â•ó‰ª∂ÂêçÁ®±„ÄÅÂ•ó‰ª∂Ë∑ØÂæëÂíåÂ•ó‰ª∂ÁâàÊú¨,ÊåâÁÖßÂêçÁ®±ÊéíÂ∫è) Â¶ÇÊûú‰∏çË¶Årow.names,ËÄå‰∏îÊ¨Ñ‰ΩçÂêçÁ®±ÊòØ‰∏≠Êñá„ÄÇ   ÂàÜÊûê  ‰∏ªË¶ÅÁâàÊú¨Á¨¨2ÁâàÁöÑÊúâÂπæÂÄã,ÊúâÂì™‰∫õ? Âπ≥ÂùáÊØèÂÄãÂ•ó‰ª∂ÊúâÂπæÂÄãÊ™îÊ°à?    pkgs\u0026lt;-installed.packages()\rstr(pkgs) #\u0026gt; chr [1:206, 1:16] \u0026quot;abind\u0026quot; \u0026quot;AER\u0026quot; \u0026quot;askpass\u0026quot; \u0026quot;assertthat\u0026quot; \u0026quot;babynames\u0026quot; ...\r#\u0026gt; - attr(*, \u0026quot;dimnames\u0026quot;)=List of 2\r#\u0026gt; ..$ : chr [1:206] \u0026quot;abind\u0026quot; \u0026quot;AER\u0026quot; \u0026quot;askpass\u0026quot; \u0026quot;assertthat\u0026quot; ...\r#\u0026gt; ..$ : chr [1:16] \u0026quot;Package\u0026quot; \u0026quot;LibPath\u0026quot; \u0026quot;Version\u0026quot; \u0026quot;Priority\u0026quot; ...\r# üè∑‰∏äÈù¢ÂèØ‰ª•Áü•ÈÅìÊòØmatrix\rhead(rownames(pkgs),5)\r#\u0026gt; [1] \u0026quot;abind\u0026quot; \u0026quot;AER\u0026quot; \u0026quot;askpass\u0026quot; \u0026quot;assertthat\u0026quot; \u0026quot;babynames\u0026quot;\rhead(colnames(pkgs),5)\r#\u0026gt; [1] \u0026quot;Package\u0026quot; \u0026quot;LibPath\u0026quot; \u0026quot;Version\u0026quot; \u0026quot;Priority\u0026quot; \u0026quot;Depends\u0026quot;\r library(DT)\rfm\u0026lt;-data.frame(pkgs[,c(1,2,3)])\rdatatable(fm)\r \r{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"abind\",\"AER\",\"askpass\",\"assertthat\",\"babynames\",\"backports\",\"base64enc\",\"bindr\",\"bindrcpp\",\"bit\",\"bit64\",\"blob\",\"blogdown\",\"bookdown\",\"brew\",\"brio\",\"broom\",\"bslib\",\"bsplus\",\"cachem\",\"callr\",\"car\",\"carData\",\"cellranger\",\"cli\",\"clipr\",\"codetools\",\"colorspace\",\"commonmark\",\"conquer\",\"cpp11\",\"crayon\",\"credentials\",\"crosstalk\",\"curl\",\"data.table\",\"DBI\",\"dbplyr\",\"desc\",\"devtools\",\"diffobj\",\"digest\",\"dplyr\",\"DT\",\"dtplyr\",\"ellipsis\",\"emo\",\"evaluate\",\"fansi\",\"farver\",\"fastmap\",\"forcats\",\"Formula\",\"fs\",\"gargle\",\"generics\",\"gert\",\"ggplot2\",\"gh\",\"gitcreds\",\"glue\",\"googledrive\",\"googlesheets4\",\"gtable\",\"haven\",\"highr\",\"hms\",\"htmltools\",\"htmlwidgets\",\"httpuv\",\"httr\",\"ids\",\"ini\",\"isoband\",\"jquerylib\",\"jsonlite\",\"knitr\",\"labeling\",\"later\",\"lazyeval\",\"lifecycle\",\"lme4\",\"lmtest\",\"lubridate\",\"magrittr\",\"maptools\",\"markdown\",\"MatrixModels\",\"matrixStats\",\"memoise\",\"mime\",\"miniUI\",\"minqa\",\"modelr\",\"moments\",\"munsell\",\"nloptr\",\"numDeriv\",\"openssl\",\"openxlsx\",\"pbkrtest\",\"pillar\",\"pkgbuild\",\"pkgconfig\",\"pkgload\",\"plogr\",\"praise\",\"prettyunits\",\"processx\",\"progress\",\"promises\",\"ps\",\"purrr\",\"quantreg\",\"R6\",\"rappdirs\",\"rcmdcheck\",\"RColorBrewer\",\"Rcpp\",\"RcppArmadillo\",\"RcppEigen\",\"readr\",\"readxl\",\"rematch\",\"rematch2\",\"remotes\",\"reprex\",\"rio\",\"rjson\",\"RJSONIO\",\"rlang\",\"rmarkdown\",\"roxygen2\",\"rprojroot\",\"rstudioapi\",\"rversions\",\"rvest\",\"sandwich\",\"sass\",\"scales\",\"selectr\",\"servr\",\"sessioninfo\",\"shiny\",\"sm\",\"sourcetools\",\"sp\",\"SparseM\",\"stringi\",\"stringr\",\"sys\",\"testthat\",\"tibble\",\"tidyr\",\"tidyselect\",\"tidyverse\",\"tinytex\",\"tzdb\",\"usethis\",\"utf8\",\"uuid\",\"vctrs\",\"viridisLite\",\"vroom\",\"waldo\",\"WDI\",\"whisker\",\"withr\",\"wooldridge\",\"xfun\",\"xml2\",\"xopen\",\"xtable\",\"yaml\",\"zip\",\"zoo\",\"base\",\"boot\",\"class\",\"cluster\",\"codetools.1\",\"compiler\",\"datasets\",\"foreign\",\"graphics\",\"grDevices\",\"grid\",\"KernSmooth\",\"lattice\",\"MASS\",\"Matrix\",\"methods\",\"mgcv\",\"nlme\",\"nnet\",\"parallel\",\"rpart\",\"spatial\",\"splines\",\"stats\",\"stats4\",\"survival\",\"tcltk\",\"tools\",\"translations\",\"utils\"],[\"abind\",\"AER\",\"askpass\",\"assertthat\",\"babynames\",\"backports\",\"base64enc\",\"bindr\",\"bindrcpp\",\"bit\",\"bit64\",\"blob\",\"blogdown\",\"bookdown\",\"brew\",\"brio\",\"broom\",\"bslib\",\"bsplus\",\"cachem\",\"callr\",\"car\",\"carData\",\"cellranger\",\"cli\",\"clipr\",\"codetools\",\"colorspace\",\"commonmark\",\"conquer\",\"cpp11\",\"crayon\",\"credentials\",\"crosstalk\",\"curl\",\"data.table\",\"DBI\",\"dbplyr\",\"desc\",\"devtools\",\"diffobj\",\"digest\",\"dplyr\",\"DT\",\"dtplyr\",\"ellipsis\",\"emo\",\"evaluate\",\"fansi\",\"farver\",\"fastmap\",\"forcats\",\"Formula\",\"fs\",\"gargle\",\"generics\",\"gert\",\"ggplot2\",\"gh\",\"gitcreds\",\"glue\",\"googledrive\",\"googlesheets4\",\"gtable\",\"haven\",\"highr\",\"hms\",\"htmltools\",\"htmlwidgets\",\"httpuv\",\"httr\",\"ids\",\"ini\",\"isoband\",\"jquerylib\",\"jsonlite\",\"knitr\",\"labeling\",\"later\",\"lazyeval\",\"lifecycle\",\"lme4\",\"lmtest\",\"lubridate\",\"magrittr\",\"maptools\",\"markdown\",\"MatrixModels\",\"matrixStats\",\"memoise\",\"mime\",\"miniUI\",\"minqa\",\"modelr\",\"moments\",\"munsell\",\"nloptr\",\"numDeriv\",\"openssl\",\"openxlsx\",\"pbkrtest\",\"pillar\",\"pkgbuild\",\"pkgconfig\",\"pkgload\",\"plogr\",\"praise\",\"prettyunits\",\"processx\",\"progress\",\"promises\",\"ps\",\"purrr\",\"quantreg\",\"R6\",\"rappdirs\",\"rcmdcheck\",\"RColorBrewer\",\"Rcpp\",\"RcppArmadillo\",\"RcppEigen\",\"readr\",\"readxl\",\"rematch\",\"rematch2\",\"remotes\",\"reprex\",\"rio\",\"rjson\",\"RJSONIO\",\"rlang\",\"rmarkdown\",\"roxygen2\",\"rprojroot\",\"rstudioapi\",\"rversions\",\"rvest\",\"sandwich\",\"sass\",\"scales\",\"selectr\",\"servr\",\"sessioninfo\",\"shiny\",\"sm\",\"sourcetools\",\"sp\",\"SparseM\",\"stringi\",\"stringr\",\"sys\",\"testthat\",\"tibble\",\"tidyr\",\"tidyselect\",\"tidyverse\",\"tinytex\",\"tzdb\",\"usethis\",\"utf8\",\"uuid\",\"vctrs\",\"viridisLite\",\"vroom\",\"waldo\",\"WDI\",\"whisker\",\"withr\",\"wooldridge\",\"xfun\",\"xml2\",\"xopen\",\"xtable\",\"yaml\",\"zip\",\"zoo\",\"base\",\"boot\",\"class\",\"cluster\",\"codetools\",\"compiler\",\"datasets\",\"foreign\",\"graphics\",\"grDevices\",\"grid\",\"KernSmooth\",\"lattice\",\"MASS\",\"Matrix\",\"methods\",\"mgcv\",\"nlme\",\"nnet\",\"parallel\",\"rpart\",\"spatial\",\"splines\",\"stats\",\"stats4\",\"survival\",\"tcltk\",\"tools\",\"translations\",\"utils\"],[\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\"],[\"1.4-5\",\"1.2-9\",\"1.1\",\"0.2.1\",\"1.0.1\",\"1.2.1\",\"0.1-3\",\"0.1.1\",\"0.2.2\",\"4.0.4\",\"4.0.5\",\"1.2.2\",\"1.4\",\"0.23\",\"1.0-6\",\"1.1.2\",\"0.7.9\",\"0.2.5.1\",\"0.1.2\",\"1.0.6\",\"3.7.0\",\"3.0-11\",\"3.0-4\",\"1.1.0\",\"3.0.1\",\"0.7.1\",\"0.2-18\",\"2.0-2\",\"1.7\",\"1.0.2\",\"0.3.1\",\"1.4.1\",\"1.3.1\",\"1.1.1\",\"4.3.2\",\"1.14.0\",\"1.1.1\",\"2.1.1\",\"1.3.0\",\"2.4.2\",\"0.3.4\",\"0.6.27\",\"1.0.7\",\"0.19\",\"1.1.0\",\"0.3.2\",\"0.0.0.9000\",\"0.14\",\"0.5.0\",\"2.1.0\",\"1.1.0\",\"0.5.1\",\"1.2-4\",\"1.5.0\",\"1.2.0\",\"0.1.0\",\"1.3.2\",\"3.3.5\",\"1.3.0\",\"0.1.1\",\"1.4.2\",\"2.0.0\",\"1.0.0\",\"0.3.0\",\"2.4.3\",\"0.9\",\"1.1.0\",\"0.5.2\",\"1.5.4\",\"1.6.2\",\"1.4.2\",\"1.0.1\",\"0.3.1\",\"0.2.5\",\"0.1.4\",\"1.7.2\",\"1.33\",\"0.4.2\",\"1.3.0\",\"0.2.2\",\"1.0.0\",\"1.1-27.1\",\"0.9-38\",\"1.7.10\",\"2.0.1\",\"1.1-1\",\"1.1\",\"0.5-0\",\"0.60.1\",\"2.0.0\",\"0.11\",\"0.1.1.1\",\"1.2.4\",\"0.1.8\",\"0.14\",\"0.5.0\",\"1.2.2.2\",\"2016.8-1.1\",\"1.4.5\",\"4.2.4\",\"0.5.1\",\"1.6.2\",\"1.2.0\",\"2.0.3\",\"1.2.1\",\"0.2.0\",\"1.0.0\",\"1.1.1\",\"3.5.2\",\"1.2.2\",\"1.2.0.1\",\"1.6.0\",\"0.3.4\",\"5.86\",\"2.5.1\",\"0.3.3\",\"1.3.3\",\"1.1-2\",\"1.0.7\",\"0.10.6.0.0\",\"0.3.3.9.1\",\"2.0.1\",\"1.3.1\",\"1.0.1\",\"2.1.2\",\"2.4.0\",\"2.0.1\",\"0.5.27\",\"0.2.20\",\"1.3-1.5\",\"0.4.11\",\"2.10\",\"7.1.1\",\"2.0.2\",\"0.13\",\"2.1.1\",\"1.0.1\",\"3.0-1\",\"0.4.0\",\"1.1.1\",\"0.4-2\",\"0.23\",\"1.1.1\",\"1.6.0\",\"2.2-5.6\",\"0.1.7\",\"1.4-5\",\"1.81\",\"1.7.4\",\"1.4.0\",\"3.4\",\"3.0.4\",\"3.1.4\",\"1.1.3\",\"1.1.1\",\"1.3.1\",\"0.33\",\"0.1.2\",\"2.0.1\",\"1.2.2\",\"0.1-4\",\"0.3.8\",\"0.4.0\",\"1.5.4\",\"0.3.0\",\"2.7.4\",\"0.4\",\"2.4.2\",\"1.4-1\",\"0.25\",\"1.3.2\",\"1.0.0\",\"1.8-4\",\"2.2.1\",\"2.2.0\",\"1.8-9\",\"4.1.1\",\"1.3-28\",\"7.3-19\",\"2.1.2\",\"0.2-18\",\"4.1.1\",\"4.1.1\",\"0.8-81\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"2.23-20\",\"0.20-44\",\"7.3-54\",\"1.3-4\",\"4.1.1\",\"1.8-36\",\"3.1-152\",\"7.3-16\",\"4.1.1\",\"4.1-15\",\"7.3-14\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"3.2-11\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"4.1.1\"]],\"container\":\"\\n \\n \\n  \\n Package\\n LibPath\\n Version\\n \\n \\n\",\"options\":{\"order\":[],\"autoWidth\":false,\"orderClasses\":false,\"columnDefs\":[{\"orderable\":false,\"targets\":0}]}},\"evals\":[],\"jsHooks\":[]}\rÊ™îÊ°à write.csv(fm,file=\u0026quot;c:\\temp\\xx.csv\u0026quot;,useB) # üè∑ÁÇ∫ÁîöÈ∫ºÈåØ,Â¶Ç‰Ωï‰øÆÊ≠£\r  Ë®ªËß£  1Ô∏è‚É£ Ëº∏Âá∫Ê™îÊ°à,Â∏∂Êúârow.names,ÂèÉÊï∏:row.names ÂèØ‰ª•ÊòØT,F,‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏≤ÂêçÁ®±    write.csv(fm,file=\u0026quot;c:/temp/foo.csv\u0026quot;) #\r - 2Ô∏è‚É£  #üè∑‰∏çË¶ÅÂàóÂêçÁ®±\rwrite.csv(fm,file=\u0026quot;c:/temp/foo1.csv\u0026quot;,row.names=F)  - 3Ô∏è‚É£  #üè∑Âà©Áî®write.table\rwrite.table(x, file = \u0026quot;foo.csv\u0026quot;, sep = \u0026quot;,\u0026quot;, col.names = NA,\rqmethod = \u0026quot;double\u0026quot;)\rread.table(\u0026quot;foo.csv\u0026quot;, header = TRUE, sep = \u0026quot;,\u0026quot;, row.names = 1)  colnames(fm)\u0026lt;-c(\u0026quot;Â•ó‰ª∂,Ë∑ØÂæë,ÁâàÊú¨\u0026quot;)\r##üè∑‰øÆÊ≠£:\u0026quot;Â•ó‰ª∂\u0026quot;,\u0026quot;Ë∑ØÂæë\u0026quot;,\u0026quot;ÁâàÊú¨\u0026quot;\rdatatable(fm )  \r{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"abind\",\"AER\",\"askpass\",\"assertthat\",\"babynames\",\"backports\",\"base64enc\",\"bindr\",\"bindrcpp\",\"bit\",\"bit64\",\"blob\",\"blogdown\",\"bookdown\",\"brew\",\"brio\",\"broom\",\"bslib\",\"bsplus\",\"cachem\",\"callr\",\"car\",\"carData\",\"cellranger\",\"cli\",\"clipr\",\"codetools\",\"colorspace\",\"commonmark\",\"conquer\",\"cpp11\",\"crayon\",\"credentials\",\"crosstalk\",\"curl\",\"data.table\",\"DBI\",\"dbplyr\",\"desc\",\"devtools\",\"diffobj\",\"digest\",\"dplyr\",\"DT\",\"dtplyr\",\"ellipsis\",\"emo\",\"evaluate\",\"fansi\",\"farver\",\"fastmap\",\"forcats\",\"Formula\",\"fs\",\"gargle\",\"generics\",\"gert\",\"ggplot2\",\"gh\",\"gitcreds\",\"glue\",\"googledrive\",\"googlesheets4\",\"gtable\",\"haven\",\"highr\",\"hms\",\"htmltools\",\"htmlwidgets\",\"httpuv\",\"httr\",\"ids\",\"ini\",\"isoband\",\"jquerylib\",\"jsonlite\",\"knitr\",\"labeling\",\"later\",\"lazyeval\",\"lifecycle\",\"lme4\",\"lmtest\",\"lubridate\",\"magrittr\",\"maptools\",\"markdown\",\"MatrixModels\",\"matrixStats\",\"memoise\",\"mime\",\"miniUI\",\"minqa\",\"modelr\",\"moments\",\"munsell\",\"nloptr\",\"numDeriv\",\"openssl\",\"openxlsx\",\"pbkrtest\",\"pillar\",\"pkgbuild\",\"pkgconfig\",\"pkgload\",\"plogr\",\"praise\",\"prettyunits\",\"processx\",\"progress\",\"promises\",\"ps\",\"purrr\",\"quantreg\",\"R6\",\"rappdirs\",\"rcmdcheck\",\"RColorBrewer\",\"Rcpp\",\"RcppArmadillo\",\"RcppEigen\",\"readr\",\"readxl\",\"rematch\",\"rematch2\",\"remotes\",\"reprex\",\"rio\",\"rjson\",\"RJSONIO\",\"rlang\",\"rmarkdown\",\"roxygen2\",\"rprojroot\",\"rstudioapi\",\"rversions\",\"rvest\",\"sandwich\",\"sass\",\"scales\",\"selectr\",\"servr\",\"sessioninfo\",\"shiny\",\"sm\",\"sourcetools\",\"sp\",\"SparseM\",\"stringi\",\"stringr\",\"sys\",\"testthat\",\"tibble\",\"tidyr\",\"tidyselect\",\"tidyverse\",\"tinytex\",\"tzdb\",\"usethis\",\"utf8\",\"uuid\",\"vctrs\",\"viridisLite\",\"vroom\",\"waldo\",\"WDI\",\"whisker\",\"withr\",\"wooldridge\",\"xfun\",\"xml2\",\"xopen\",\"xtable\",\"yaml\",\"zip\",\"zoo\",\"base\",\"boot\",\"class\",\"cluster\",\"codetools.1\",\"compiler\",\"datasets\",\"foreign\",\"graphics\",\"grDevices\",\"grid\",\"KernSmooth\",\"lattice\",\"MASS\",\"Matrix\",\"methods\",\"mgcv\",\"nlme\",\"nnet\",\"parallel\",\"rpart\",\"spatial\",\"splines\",\"stats\",\"stats4\",\"survival\",\"tcltk\",\"tools\",\"translations\",\"utils\"],[\"abind\",\"AER\",\"askpass\",\"assertthat\",\"babynames\",\"backports\",\"base64enc\",\"bindr\",\"bindrcpp\",\"bit\",\"bit64\",\"blob\",\"blogdown\",\"bookdown\",\"brew\",\"brio\",\"broom\",\"bslib\",\"bsplus\",\"cachem\",\"callr\",\"car\",\"carData\",\"cellranger\",\"cli\",\"clipr\",\"codetools\",\"colorspace\",\"commonmark\",\"conquer\",\"cpp11\",\"crayon\",\"credentials\",\"crosstalk\",\"curl\",\"data.table\",\"DBI\",\"dbplyr\",\"desc\",\"devtools\",\"diffobj\",\"digest\",\"dplyr\",\"DT\",\"dtplyr\",\"ellipsis\",\"emo\",\"evaluate\",\"fansi\",\"farver\",\"fastmap\",\"forcats\",\"Formula\",\"fs\",\"gargle\",\"generics\",\"gert\",\"ggplot2\",\"gh\",\"gitcreds\",\"glue\",\"googledrive\",\"googlesheets4\",\"gtable\",\"haven\",\"highr\",\"hms\",\"htmltools\",\"htmlwidgets\",\"httpuv\",\"httr\",\"ids\",\"ini\",\"isoband\",\"jquerylib\",\"jsonlite\",\"knitr\",\"labeling\",\"later\",\"lazyeval\",\"lifecycle\",\"lme4\",\"lmtest\",\"lubridate\",\"magrittr\",\"maptools\",\"markdown\",\"MatrixModels\",\"matrixStats\",\"memoise\",\"mime\",\"miniUI\",\"minqa\",\"modelr\",\"moments\",\"munsell\",\"nloptr\",\"numDeriv\",\"openssl\",\"openxlsx\",\"pbkrtest\",\"pillar\",\"pkgbuild\",\"pkgconfig\",\"pkgload\",\"plogr\",\"praise\",\"prettyunits\",\"processx\",\"progress\",\"promises\",\"ps\",\"purrr\",\"quantreg\",\"R6\",\"rappdirs\",\"rcmdcheck\",\"RColorBrewer\",\"Rcpp\",\"RcppArmadillo\",\"RcppEigen\",\"readr\",\"readxl\",\"rematch\",\"rematch2\",\"remotes\",\"reprex\",\"rio\",\"rjson\",\"RJSONIO\",\"rlang\",\"rmarkdown\",\"roxygen2\",\"rprojroot\",\"rstudioapi\",\"rversions\",\"rvest\",\"sandwich\",\"sass\",\"scales\",\"selectr\",\"servr\",\"sessioninfo\",\"shiny\",\"sm\",\"sourcetools\",\"sp\",\"SparseM\",\"stringi\",\"stringr\",\"sys\",\"testthat\",\"tibble\",\"tidyr\",\"tidyselect\",\"tidyverse\",\"tinytex\",\"tzdb\",\"usethis\",\"utf8\",\"uuid\",\"vctrs\",\"viridisLite\",\"vroom\",\"waldo\",\"WDI\",\"whisker\",\"withr\",\"wooldridge\",\"xfun\",\"xml2\",\"xopen\",\"xtable\",\"yaml\",\"zip\",\"zoo\",\"base\",\"boot\",\"class\",\"cluster\",\"codetools\",\"compiler\",\"datasets\",\"foreign\",\"graphics\",\"grDevices\",\"grid\",\"KernSmooth\",\"lattice\",\"MASS\",\"Matrix\",\"methods\",\"mgcv\",\"nlme\",\"nnet\",\"parallel\",\"rpart\",\"spatial\",\"splines\",\"stats\",\"stats4\",\"survival\",\"tcltk\",\"tools\",\"translations\",\"utils\"],[\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\"],[\"1.4-5\",\"1.2-9\",\"1.1\",\"0.2.1\",\"1.0.1\",\"1.2.1\",\"0.1-3\",\"0.1.1\",\"0.2.2\",\"4.0.4\",\"4.0.5\",\"1.2.2\",\"1.4\",\"0.23\",\"1.0-6\",\"1.1.2\",\"0.7.9\",\"0.2.5.1\",\"0.1.2\",\"1.0.6\",\"3.7.0\",\"3.0-11\",\"3.0-4\",\"1.1.0\",\"3.0.1\",\"0.7.1\",\"0.2-18\",\"2.0-2\",\"1.7\",\"1.0.2\",\"0.3.1\",\"1.4.1\",\"1.3.1\",\"1.1.1\",\"4.3.2\",\"1.14.0\",\"1.1.1\",\"2.1.1\",\"1.3.0\",\"2.4.2\",\"0.3.4\",\"0.6.27\",\"1.0.7\",\"0.19\",\"1.1.0\",\"0.3.2\",\"0.0.0.9000\",\"0.14\",\"0.5.0\",\"2.1.0\",\"1.1.0\",\"0.5.1\",\"1.2-4\",\"1.5.0\",\"1.2.0\",\"0.1.0\",\"1.3.2\",\"3.3.5\",\"1.3.0\",\"0.1.1\",\"1.4.2\",\"2.0.0\",\"1.0.0\",\"0.3.0\",\"2.4.3\",\"0.9\",\"1.1.0\",\"0.5.2\",\"1.5.4\",\"1.6.2\",\"1.4.2\",\"1.0.1\",\"0.3.1\",\"0.2.5\",\"0.1.4\",\"1.7.2\",\"1.33\",\"0.4.2\",\"1.3.0\",\"0.2.2\",\"1.0.0\",\"1.1-27.1\",\"0.9-38\",\"1.7.10\",\"2.0.1\",\"1.1-1\",\"1.1\",\"0.5-0\",\"0.60.1\",\"2.0.0\",\"0.11\",\"0.1.1.1\",\"1.2.4\",\"0.1.8\",\"0.14\",\"0.5.0\",\"1.2.2.2\",\"2016.8-1.1\",\"1.4.5\",\"4.2.4\",\"0.5.1\",\"1.6.2\",\"1.2.0\",\"2.0.3\",\"1.2.1\",\"0.2.0\",\"1.0.0\",\"1.1.1\",\"3.5.2\",\"1.2.2\",\"1.2.0.1\",\"1.6.0\",\"0.3.4\",\"5.86\",\"2.5.1\",\"0.3.3\",\"1.3.3\",\"1.1-2\",\"1.0.7\",\"0.10.6.0.0\",\"0.3.3.9.1\",\"2.0.1\",\"1.3.1\",\"1.0.1\",\"2.1.2\",\"2.4.0\",\"2.0.1\",\"0.5.27\",\"0.2.20\",\"1.3-1.5\",\"0.4.11\",\"2.10\",\"7.1.1\",\"2.0.2\",\"0.13\",\"2.1.1\",\"1.0.1\",\"3.0-1\",\"0.4.0\",\"1.1.1\",\"0.4-2\",\"0.23\",\"1.1.1\",\"1.6.0\",\"2.2-5.6\",\"0.1.7\",\"1.4-5\",\"1.81\",\"1.7.4\",\"1.4.0\",\"3.4\",\"3.0.4\",\"3.1.4\",\"1.1.3\",\"1.1.1\",\"1.3.1\",\"0.33\",\"0.1.2\",\"2.0.1\",\"1.2.2\",\"0.1-4\",\"0.3.8\",\"0.4.0\",\"1.5.4\",\"0.3.0\",\"2.7.4\",\"0.4\",\"2.4.2\",\"1.4-1\",\"0.25\",\"1.3.2\",\"1.0.0\",\"1.8-4\",\"2.2.1\",\"2.2.0\",\"1.8-9\",\"4.1.1\",\"1.3-28\",\"7.3-19\",\"2.1.2\",\"0.2-18\",\"4.1.1\",\"4.1.1\",\"0.8-81\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"2.23-20\",\"0.20-44\",\"7.3-54\",\"1.3-4\",\"4.1.1\",\"1.8-36\",\"3.1-152\",\"7.3-16\",\"4.1.1\",\"4.1-15\",\"7.3-14\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"3.2-11\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"4.1.1\"]],\"container\":\"\\n \\n \\n  \\n Â•ó‰ª∂,Ë∑ØÂæë,ÁâàÊú¨\\n NA\\n NA\\n \\n \\n\",\"options\":{\"order\":[],\"autoWidth\":false,\"orderClasses\":false,\"columnDefs\":[{\"orderable\":false,\"targets\":0}]}},\"evals\":[],\"jsHooks\":[]}\r# üè∑‚ùìÊÄéÊ®£ÊääË°®Ê†º‰∏≠ÁöÑrow.namesÂéªÊéâ? # üè∑datatable(fm,rownames=F) colnames(fm)\u0026lt;-c(\u0026quot;Â•ó‰ª∂\u0026quot;,\u0026quot;Ë∑ØÂæë\u0026quot;,\u0026quot;ÁâàÊú¨\u0026quot;)\rdatatable(fm,rownames=F )  \r{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"abind\",\"AER\",\"askpass\",\"assertthat\",\"babynames\",\"backports\",\"base64enc\",\"bindr\",\"bindrcpp\",\"bit\",\"bit64\",\"blob\",\"blogdown\",\"bookdown\",\"brew\",\"brio\",\"broom\",\"bslib\",\"bsplus\",\"cachem\",\"callr\",\"car\",\"carData\",\"cellranger\",\"cli\",\"clipr\",\"codetools\",\"colorspace\",\"commonmark\",\"conquer\",\"cpp11\",\"crayon\",\"credentials\",\"crosstalk\",\"curl\",\"data.table\",\"DBI\",\"dbplyr\",\"desc\",\"devtools\",\"diffobj\",\"digest\",\"dplyr\",\"DT\",\"dtplyr\",\"ellipsis\",\"emo\",\"evaluate\",\"fansi\",\"farver\",\"fastmap\",\"forcats\",\"Formula\",\"fs\",\"gargle\",\"generics\",\"gert\",\"ggplot2\",\"gh\",\"gitcreds\",\"glue\",\"googledrive\",\"googlesheets4\",\"gtable\",\"haven\",\"highr\",\"hms\",\"htmltools\",\"htmlwidgets\",\"httpuv\",\"httr\",\"ids\",\"ini\",\"isoband\",\"jquerylib\",\"jsonlite\",\"knitr\",\"labeling\",\"later\",\"lazyeval\",\"lifecycle\",\"lme4\",\"lmtest\",\"lubridate\",\"magrittr\",\"maptools\",\"markdown\",\"MatrixModels\",\"matrixStats\",\"memoise\",\"mime\",\"miniUI\",\"minqa\",\"modelr\",\"moments\",\"munsell\",\"nloptr\",\"numDeriv\",\"openssl\",\"openxlsx\",\"pbkrtest\",\"pillar\",\"pkgbuild\",\"pkgconfig\",\"pkgload\",\"plogr\",\"praise\",\"prettyunits\",\"processx\",\"progress\",\"promises\",\"ps\",\"purrr\",\"quantreg\",\"R6\",\"rappdirs\",\"rcmdcheck\",\"RColorBrewer\",\"Rcpp\",\"RcppArmadillo\",\"RcppEigen\",\"readr\",\"readxl\",\"rematch\",\"rematch2\",\"remotes\",\"reprex\",\"rio\",\"rjson\",\"RJSONIO\",\"rlang\",\"rmarkdown\",\"roxygen2\",\"rprojroot\",\"rstudioapi\",\"rversions\",\"rvest\",\"sandwich\",\"sass\",\"scales\",\"selectr\",\"servr\",\"sessioninfo\",\"shiny\",\"sm\",\"sourcetools\",\"sp\",\"SparseM\",\"stringi\",\"stringr\",\"sys\",\"testthat\",\"tibble\",\"tidyr\",\"tidyselect\",\"tidyverse\",\"tinytex\",\"tzdb\",\"usethis\",\"utf8\",\"uuid\",\"vctrs\",\"viridisLite\",\"vroom\",\"waldo\",\"WDI\",\"whisker\",\"withr\",\"wooldridge\",\"xfun\",\"xml2\",\"xopen\",\"xtable\",\"yaml\",\"zip\",\"zoo\",\"base\",\"boot\",\"class\",\"cluster\",\"codetools\",\"compiler\",\"datasets\",\"foreign\",\"graphics\",\"grDevices\",\"grid\",\"KernSmooth\",\"lattice\",\"MASS\",\"Matrix\",\"methods\",\"mgcv\",\"nlme\",\"nnet\",\"parallel\",\"rpart\",\"spatial\",\"splines\",\"stats\",\"stats4\",\"survival\",\"tcltk\",\"tools\",\"translations\",\"utils\"],[\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Users/linchao/Documents/R/win-library/4.1\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\",\"C:/Program Files/R/R-4.1.1/library\"],[\"1.4-5\",\"1.2-9\",\"1.1\",\"0.2.1\",\"1.0.1\",\"1.2.1\",\"0.1-3\",\"0.1.1\",\"0.2.2\",\"4.0.4\",\"4.0.5\",\"1.2.2\",\"1.4\",\"0.23\",\"1.0-6\",\"1.1.2\",\"0.7.9\",\"0.2.5.1\",\"0.1.2\",\"1.0.6\",\"3.7.0\",\"3.0-11\",\"3.0-4\",\"1.1.0\",\"3.0.1\",\"0.7.1\",\"0.2-18\",\"2.0-2\",\"1.7\",\"1.0.2\",\"0.3.1\",\"1.4.1\",\"1.3.1\",\"1.1.1\",\"4.3.2\",\"1.14.0\",\"1.1.1\",\"2.1.1\",\"1.3.0\",\"2.4.2\",\"0.3.4\",\"0.6.27\",\"1.0.7\",\"0.19\",\"1.1.0\",\"0.3.2\",\"0.0.0.9000\",\"0.14\",\"0.5.0\",\"2.1.0\",\"1.1.0\",\"0.5.1\",\"1.2-4\",\"1.5.0\",\"1.2.0\",\"0.1.0\",\"1.3.2\",\"3.3.5\",\"1.3.0\",\"0.1.1\",\"1.4.2\",\"2.0.0\",\"1.0.0\",\"0.3.0\",\"2.4.3\",\"0.9\",\"1.1.0\",\"0.5.2\",\"1.5.4\",\"1.6.2\",\"1.4.2\",\"1.0.1\",\"0.3.1\",\"0.2.5\",\"0.1.4\",\"1.7.2\",\"1.33\",\"0.4.2\",\"1.3.0\",\"0.2.2\",\"1.0.0\",\"1.1-27.1\",\"0.9-38\",\"1.7.10\",\"2.0.1\",\"1.1-1\",\"1.1\",\"0.5-0\",\"0.60.1\",\"2.0.0\",\"0.11\",\"0.1.1.1\",\"1.2.4\",\"0.1.8\",\"0.14\",\"0.5.0\",\"1.2.2.2\",\"2016.8-1.1\",\"1.4.5\",\"4.2.4\",\"0.5.1\",\"1.6.2\",\"1.2.0\",\"2.0.3\",\"1.2.1\",\"0.2.0\",\"1.0.0\",\"1.1.1\",\"3.5.2\",\"1.2.2\",\"1.2.0.1\",\"1.6.0\",\"0.3.4\",\"5.86\",\"2.5.1\",\"0.3.3\",\"1.3.3\",\"1.1-2\",\"1.0.7\",\"0.10.6.0.0\",\"0.3.3.9.1\",\"2.0.1\",\"1.3.1\",\"1.0.1\",\"2.1.2\",\"2.4.0\",\"2.0.1\",\"0.5.27\",\"0.2.20\",\"1.3-1.5\",\"0.4.11\",\"2.10\",\"7.1.1\",\"2.0.2\",\"0.13\",\"2.1.1\",\"1.0.1\",\"3.0-1\",\"0.4.0\",\"1.1.1\",\"0.4-2\",\"0.23\",\"1.1.1\",\"1.6.0\",\"2.2-5.6\",\"0.1.7\",\"1.4-5\",\"1.81\",\"1.7.4\",\"1.4.0\",\"3.4\",\"3.0.4\",\"3.1.4\",\"1.1.3\",\"1.1.1\",\"1.3.1\",\"0.33\",\"0.1.2\",\"2.0.1\",\"1.2.2\",\"0.1-4\",\"0.3.8\",\"0.4.0\",\"1.5.4\",\"0.3.0\",\"2.7.4\",\"0.4\",\"2.4.2\",\"1.4-1\",\"0.25\",\"1.3.2\",\"1.0.0\",\"1.8-4\",\"2.2.1\",\"2.2.0\",\"1.8-9\",\"4.1.1\",\"1.3-28\",\"7.3-19\",\"2.1.2\",\"0.2-18\",\"4.1.1\",\"4.1.1\",\"0.8-81\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"2.23-20\",\"0.20-44\",\"7.3-54\",\"1.3-4\",\"4.1.1\",\"1.8-36\",\"3.1-152\",\"7.3-16\",\"4.1.1\",\"4.1-15\",\"7.3-14\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"3.2-11\",\"4.1.1\",\"4.1.1\",\"4.1.1\",\"4.1.1\"]],\"container\":\"\\n \\n \\n Â•ó‰ª∂\\n Ë∑ØÂæë\\n ÁâàÊú¨\\n \\n \\n\",\"options\":{\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}\rÊãøÂà∞‰∏ªË¶ÅÁâàÊú¨ x\u0026lt;-strsplit(fm[,3],\u0026quot;\\\\.\u0026quot;)\rsapply(x,head,1)\r "},
{"uri": "/blogR//rlang/hw/hw_basic.html","title": "assignment-1",
	"tags": [],
	"description": "assignment",
	"content": "part 1 basic  ÂèÉËÄÉÁ®ãÂºèÁ¢º,Êï∏Â≠∏‰∏ä,eÊó¢ÁÑ∂ÊòØÁ¥îÈáè,ÈÇ£Â∞±ÊòØ1X1ÁöÑÁü©Èô£„ÄÇÂú®R‰∏≠,Â¶ÇÊûú e\u0026lt;-3ÈÇ£È∫ºÂú®R‰∏≠Âà§Êñ∑eÊòØ‰∏çÊòØÁõ∏Èáè,ÊòØ‰∏çÊòØÁü©Èô£?  e\u0026lt;-3\rlength(e)\r#\u0026gt; [1] 1\ris.vector(e) # q1: true or false\r#\u0026gt; [1] TRUE\ris.matrix(e) # q2: true or false\r#\u0026gt; [1] FALSE\r# ÊåáÂÆöÊ≤íÊúâ‰ªª‰ΩïË≥áÊñôÁöÑÂêëÈáè\re1\u0026lt;-numeric(0)\rlength(e1)\r#\u0026gt; [1] 0\ris.vector(e) # q3: true or false\r#\u0026gt; [1] TRUE\r Âª∫Á´ãÂêëÈáèe21,e22,e23 Ëß£ÈáãÂá∫ÁèæÁöÑË®äÊÅØ  e21\u0026lt;-1:3 # ÂêëÈáè,ÂÖßÂÆπÁÇ∫[1,2,3] ‰πüÂèØ‰ª•e2\u0026lt;-seq(1,3),e2\u0026lt;-c(1,2,3)\re22\u0026lt;-1:4\re23\u0026lt;-1:6\re21==e23\r#\u0026gt; [1] TRUE TRUE TRUE FALSE FALSE FALSE\re21==e22\r#\u0026gt; Warning in e21 == e22: ËºÉÈï∑ÁöÑÁâ©‰ª∂Èï∑Â∫¶‰∏¶ÈùûËºÉÁü≠Áâ©‰ª∂Èï∑Â∫¶ÁöÑÂÄçÊï∏\r#\u0026gt; [1] TRUE TRUE TRUE FALSE\r \u0026gt; e21==e23\r[1] TRUE TRUE TRUE FALSE FALSE FALSE\r\u0026gt; e21==e22\r[1] TRUE TRUE TRUE FALSE\rWarning message:\rIn e21 == e22 : ËºÉÈï∑ÁöÑÁâ©‰ª∂Èï∑Â∫¶‰∏¶ÈùûËºÉÁü≠Áâ©‰ª∂Èï∑Â∫¶ÁöÑÂÄçÊï∏\r 3.Ëß£ÈáãÁ¨¨2Ë°åalphaÁöÑÈï∑Â∫¶,Â¶ÇÊûúÂè™Ë¶Å‰øùÊåÅÂâç3ÂÄãÂÖÉÁ¥†?\nalpha\u0026lt;-1:10\ralpha \u0026lt;- alpha[2 * 1:5]\r hint: ‰πüÂèØ‰ª•length(alpha)\u0026lt;-3 ‰ΩÜÊòØ‰∏çÂª∫Ë≠∞„ÄÇ\nÂêà‰ΩµÊàêÁü©Èô£ Âà©Áî®ÂâçËø∞ÁöÑe21,e22,e23 ,ÂàÜÂà•Ëß£Èáã‰∏ãÈù¢ÂÖ©Ë°å  c(e21,e22)\r#\u0026gt; [1] 1 2 3 1 2 3 4\rcbind(e21,e22)\r#\u0026gt; Warning in cbind(e21, e22): number of rows of result is not a multiple of vector\r#\u0026gt; length (arg 1)\r#\u0026gt; e21 e22\r#\u0026gt; [1,] 1 1\r#\u0026gt; [2,] 2 2\r#\u0026gt; [3,] 3 3\r#\u0026gt; [4,] 1 4\r  Áî¢Áîü5x20ÁöÑ‰∫ÇÊï∏Áü©Èô£\n  ÁÇ∫ÁîöÈ∫ºÊúâa[\u0026quot;x1\u0026quot;]? ÈÄôÈ°åÁöÑÁî®ÊÑèÂè™ÊòØË®ò‰ΩèÁîöÈ∫ºÊòØc()ÂáΩÊï∏„ÄÇ\n  a\u0026lt;-c(x=1:2,y=3:4)\ra[\u0026quot;x1\u0026quot;] # ‰∏çÊòØa[x1]\r ‚ùì ÂõûÁ≠îx2 ÊòØÁîöÈ∫ºÂûãÊÖã\nx1\u0026lt;-list(3,4,5)\rx2\u0026lt;-c(1,2,x1)  ‚ùì ÊÄéÊ®£Êäälist,e.g.x2, ËΩâvector ?\n‚ùìÊääÂÅ∂Êï∏ÊâæÂá∫‰æÜ\nx \u0026lt;- rpois(40, lambda=5)\r \rhint\r```r\rx[x %% 2 == 0]\r```\rfunction ÂØ´‰∏ÄÂÄãmatlab ÁöÑÁü©Èô£ÂáΩÊï∏\nmm\u0026lt;-function(rcnt,ccnt,value){\rtotal\u0026lt;-rcnt*ccnt\rv\u0026lt;-double(total)\rv[1:total]\u0026lt;-value\rreturn(matrix(v,rcnt,ccnt))\r}\r ÂØ´‰∏ÄÂÄãÂáΩÊï∏,Âà§Êñ∑ÁõÆÂâçÁöÑË≥áÊñôÂ§æ‰∏≠,ÊúâÊ≤íÊúâÊ™îÊ°àmm.R\nisExists\u0026lt;-function(afile){\rall\u0026lt;-dir()\rrst\u0026lt;-length(all[all==afile])\rreturn (rst)\r}\r "},
{"uri": "/blogR//rlang/hw/hw_regexp.html","title": "regexpr",
	"tags": [],
	"description": "assignment",
	"content": "reference cheatsheet\nÊäΩÂèñÂ≠óÁµÑ ÁúãÁúãÊòØ‰∏çÊòØ#ÈñãÈ†≠ÁöÑÂ≠ó‰∏≤,Â¶ÇÊûúÊòØÁöÑË©±Ë¶ÅÁΩÆÊèõ,‰æãÂ¶Ç \u0026quot;# hello\u0026quot; -\u0026gt;\u0026quot;# hello \u0026quot;\nstr\u0026lt;-\u0026quot;# hello\u0026quot;\rif(grepl(\u0026quot;^[#]* \u0026quot;,str)) {\rx\u0026lt;-sub(\u0026quot;(^[#]* )(.*$)\u0026quot;,\u0026quot;\\\\1 \u0026lt;font color='red'\u0026gt; \\\\2 \u0026lt;/font\u0026gt;\u0026quot;,str, perl=TRUE)\rprint(x)\r}\r#\u0026gt; [1] \u0026quot;# \u0026lt;font color='red'\u0026gt; hello \u0026lt;/font\u0026gt;\u0026quot;\r È°û‰ºº‰∏äÈ°å divtitle\u0026lt;-function (str){\rif(grepl(\u0026quot;^[#]* \u0026quot;,str)) {\rrst\u0026lt;-sub(\u0026quot;(^[#]* )(.*$)\u0026quot;,\u0026quot;\\\\1 \u0026lt;div class='outposix'\u0026gt; \\\\2 \u0026lt;/div\u0026gt;\u0026quot;,str, perl=TRUE)\r}else{\rrst\u0026lt;-paste0(\u0026quot;\u0026lt;div class='outposix'\u0026gt;\u0026quot;,str,\u0026quot;\u0026lt;/div\u0026gt;\u0026quot;)\r}\r}\r Ê∏¨Ë©¶what1 pattern\u0026lt;-\u0026quot;out\u0026quot;\rext\u0026lt;-\u0026quot;oo\u0026quot;\rlist\u0026lt;-list(\u0026quot;out_‰∏≠Êñá_1.oo\u0026quot;,\u0026quot;out_1.oo\u0026quot;,\u0026quot;out_xx_1.oo\u0026quot;)\rwhat\u0026lt;-paste0(\u0026quot;(?\u0026lt;=\u0026quot;,pattern,\u0026quot;_).*\u0026quot;,\u0026quot;(?=\\\\.\u0026quot;,ext,\u0026quot;)\u0026quot;);\ridxlist\u0026lt;-as.integer(stringr::str_extract(list,what));\r#\u0026gt; Warning: Âº∑Âà∂ËÆäÊõ¥ÈÅéÁ®ã‰∏≠Áî¢Áîü‰∫Ü NA\ridxlist\r#\u0026gt; [1] NA 1 NA\r Âü∑Ë°åÁµêÊûú\n#\u0026gt; Warning: Âº∑Âà∂ËÆäÊõ¥ÈÅéÁ®ã‰∏≠Áî¢Áîü‰∫Ü NA\ridxlist\r#\u0026gt; [1] NA 1 NA\r  Ëß£Èáã NA, Âíå ÁÇ∫ÁîöÈ∫º?  Ê∏¨Ë©¶what2 pattern\u0026lt;-\u0026quot;out\u0026quot;\rext\u0026lt;-\u0026quot;oo\u0026quot;\rlist\u0026lt;-list(\u0026quot;out_‰∏≠Êñá_1.oo\u0026quot;,\u0026quot;out_1.oo\u0026quot;,\u0026quot;out_xx_1.oo\u0026quot;,\u0026quot;out_‰∏≠Êñá2_1.oo\u0026quot;)\rwhat\u0026lt;-paste0(\u0026quot;(?\u0026lt;=\u0026quot;,pattern,\u0026quot;_).*(\\\\d)+\u0026quot;,\u0026quot;(?=\\\\.\u0026quot;,ext,\u0026quot;)\u0026quot;);\rr1\u0026lt;-stringr::str_extract(list,what)\rr1\r#\u0026gt; [1] \u0026quot;‰∏≠Êñá_1\u0026quot; \u0026quot;1\u0026quot; \u0026quot;xx_1\u0026quot; \u0026quot;‰∏≠Êñá2_1\u0026quot;\rstringr::str_extract(r1,\u0026quot;\\\\d$\u0026quot;)\r#\u0026gt; [1] \u0026quot;1\u0026quot; \u0026quot;1\u0026quot; \u0026quot;1\u0026quot; \u0026quot;1\u0026quot;\r shopping_list \u0026lt;- c(\u0026quot;apples x4\u0026quot;, \u0026quot;bag of flour\u0026quot;, \u0026quot;bag of sugar\u0026quot;, \u0026quot;milk x2\u0026quot;)\rstringr::str_extract(shopping_list, \u0026quot;\\\\d\u0026quot;)\r#\u0026gt; [1] \u0026quot;4\u0026quot; NA NA \u0026quot;2\u0026quot;\r "},
{"uri": "/blogR//rlang/demo/citation.html","title": "ÂºïÁî®",
	"tags": [],
	"description": "Êö´ÊôÇ",
	"content": "introduction Goal: Estimate the effect of the price per citation on the number of library subscriptions\n\rJournals.csv\r \u0026lt;ol class=\u0026quot;attachments-files\u0026quot;\u0026gt;\u0026lt;li\u0026gt;\r\u0026lt;a id=\u0026quot;f_0a6a004dccc39cd502246d648eb99b09\u0026quot; href=\u0026quot;/rlang/resources/Journals.csv\u0026quot; class=\u0026quot;toa-item\u0026quot; \u0026gt;Journals.csv\u0026lt;/a\u0026gt;\r\u0026lt;/li\u0026gt;\u0026lt;/ol\u0026gt;\r \rinitial options(prompt = \u0026quot;R\u0026gt; \u0026quot;, continue = \u0026quot;+ \u0026quot;, width = 64, digits = 4, show.signif.stars = FALSE, useFancyQuotes = FALSE) library(\u0026quot;AER\u0026quot;) set.seed(1071)\nlibrary(\u0026quot;AER\u0026quot;)\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºöcar\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂ÔºöcarData\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºölmtest\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºözoo\r#\u0026gt; #\u0026gt; ËºâÂÖ•Â•ó‰ª∂Ôºö'zoo'\r#\u0026gt; ‰∏ãÂàóÁâ©‰ª∂Ë¢´ÈÅÆÊñ∑Ëá™ 'package:base':\r#\u0026gt; #\u0026gt; as.Date, as.Date.numeric\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºösandwich\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºösurvival\rdata(\u0026quot;Journals\u0026quot;, package = \u0026quot;AER\u0026quot;)\r#View(Journals)\rjournals \u0026lt;- Journals[, c(\u0026quot;subs\u0026quot;, \u0026quot;price\u0026quot;)]\rjournals$citeprice \u0026lt;- Journals$price/Journals$citations\rsummary(journals)\r#\u0026gt; subs price citeprice #\u0026gt; Min. : 2.0 Min. : 20.0 Min. : 0.005223 #\u0026gt; 1st Qu.: 52.0 1st Qu.: 134.5 1st Qu.: 0.464495 #\u0026gt; Median : 122.5 Median : 282.0 Median : 1.320513 #\u0026gt; Mean : 196.9 Mean : 417.7 Mean : 2.548455 #\u0026gt; 3rd Qu.: 268.2 3rd Qu.: 540.8 3rd Qu.: 3.440171 #\u0026gt; Max. :1098.0 Max. :2120.0 Max. :24.459459\r ‚ùì Á∑¥Áøí: ÊîπÊàêdatatable\nplot(log(subs) ~ log(citeprice), data = journals)\rjour_lm \u0026lt;- lm(log(subs) ~ log(citeprice), data = journals)\rabline(jour_lm)\r ‚ùì what is jour_lm ?\nclass(jour_lm)\r#\u0026gt; [1] \u0026quot;lm\u0026quot;\rnames(jour_lm)\r#\u0026gt; [1] \u0026quot;coefficients\u0026quot; \u0026quot;residuals\u0026quot; \u0026quot;effects\u0026quot; \u0026quot;rank\u0026quot; #\u0026gt; [5] \u0026quot;fitted.values\u0026quot; \u0026quot;assign\u0026quot; \u0026quot;qr\u0026quot; \u0026quot;df.residual\u0026quot; #\u0026gt; [9] \u0026quot;xlevels\u0026quot; \u0026quot;call\u0026quot; \u0026quot;terms\u0026quot; \u0026quot;model\u0026quot;\rstr(jour_lm) #üè∑Ê≥®ÊÑèlist of 12\r#\u0026gt; List of 12\r#\u0026gt; $ coefficients : Named num [1:2] 4.766 -0.533\r#\u0026gt; ..- attr(*, \u0026quot;names\u0026quot;)= chr [1:2] \u0026quot;(Intercept)\u0026quot; \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; $ residuals : Named num [1:180] -1.185 -0.739 -0.332 -2.725 1.136 ...\r#\u0026gt; ..- attr(*, \u0026quot;names\u0026quot;)= chr [1:180] \u0026quot;APEL\u0026quot; \u0026quot;SAJoEH\u0026quot; \u0026quot;CE\u0026quot; \u0026quot;MEPiTE\u0026quot; ...\r#\u0026gt; $ effects : Named num [1:180] -63.599 -11.222 -0.338 -2.715 1.146 ...\r#\u0026gt; ..- attr(*, \u0026quot;names\u0026quot;)= chr [1:180] \u0026quot;(Intercept)\u0026quot; \u0026quot;log(citeprice)\u0026quot; \u0026quot;\u0026quot; \u0026quot;\u0026quot; ...\r#\u0026gt; $ rank : int 2\r#\u0026gt; $ fitted.values: Named num [1:180] 3.82 4.82 3.17 3.42 3.43 ...\r#\u0026gt; ..- attr(*, \u0026quot;names\u0026quot;)= chr [1:180] \u0026quot;APEL\u0026quot; \u0026quot;SAJoEH\u0026quot; \u0026quot;CE\u0026quot; \u0026quot;MEPiTE\u0026quot; ...\r#\u0026gt; $ assign : int [1:2] 0 1\r#\u0026gt; $ qr :List of 5\r#\u0026gt; ..$ qr : num [1:180, 1:2] -13.4164 0.0745 0.0745 0.0745 0.0745 ...\r#\u0026gt; .. ..- attr(*, \u0026quot;dimnames\u0026quot;)=List of 2\r#\u0026gt; .. .. ..$ : chr [1:180] \u0026quot;APEL\u0026quot; \u0026quot;SAJoEH\u0026quot; \u0026quot;CE\u0026quot; \u0026quot;MEPiTE\u0026quot; ...\r#\u0026gt; .. .. ..$ : chr [1:2] \u0026quot;(Intercept)\u0026quot; \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; .. ..- attr(*, \u0026quot;assign\u0026quot;)= int [1:2] 0 1\r#\u0026gt; ..$ qraux: num [1:2] 1.07 1.01\r#\u0026gt; ..$ pivot: int [1:2] 1 2\r#\u0026gt; ..$ tol : num 1e-07\r#\u0026gt; ..$ rank : int 2\r#\u0026gt; ..- attr(*, \u0026quot;class\u0026quot;)= chr \u0026quot;qr\u0026quot;\r#\u0026gt; $ df.residual : int 178\r#\u0026gt; $ xlevels : Named list()\r#\u0026gt; $ call : language lm(formula = log(subs) ~ log(citeprice), data = journals)\r#\u0026gt; $ terms :Classes 'terms', 'formula' language log(subs) ~ log(citeprice)\r#\u0026gt; .. ..- attr(*, \u0026quot;variables\u0026quot;)= language list(log(subs), log(citeprice))\r#\u0026gt; .. ..- attr(*, \u0026quot;factors\u0026quot;)= int [1:2, 1] 0 1\r#\u0026gt; .. .. ..- attr(*, \u0026quot;dimnames\u0026quot;)=List of 2\r#\u0026gt; .. .. .. ..$ : chr [1:2] \u0026quot;log(subs)\u0026quot; \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; .. .. .. ..$ : chr \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; .. ..- attr(*, \u0026quot;term.labels\u0026quot;)= chr \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; .. ..- attr(*, \u0026quot;order\u0026quot;)= int 1\r#\u0026gt; .. ..- attr(*, \u0026quot;intercept\u0026quot;)= int 1\r#\u0026gt; .. ..- attr(*, \u0026quot;response\u0026quot;)= int 1\r#\u0026gt; .. ..- attr(*, \u0026quot;.Environment\u0026quot;)=\u0026lt;environment: R_GlobalEnv\u0026gt; #\u0026gt; .. ..- attr(*, \u0026quot;predvars\u0026quot;)= language list(log(subs), log(citeprice))\r#\u0026gt; .. ..- attr(*, \u0026quot;dataClasses\u0026quot;)= Named chr [1:2] \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot;\r#\u0026gt; .. .. ..- attr(*, \u0026quot;names\u0026quot;)= chr [1:2] \u0026quot;log(subs)\u0026quot; \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; $ model :'data.frame':\t180 obs. of 2 variables:\r#\u0026gt; ..$ log(subs) : num [1:180] 2.639 4.078 2.833 0.693 4.564 ...\r#\u0026gt; ..$ log(citeprice): num [1:180] 1.7677 -0.0953 3.0025 2.5294 2.5089 ...\r#\u0026gt; ..- attr(*, \u0026quot;terms\u0026quot;)=Classes 'terms', 'formula' language log(subs) ~ log(citeprice)\r#\u0026gt; .. .. ..- attr(*, \u0026quot;variables\u0026quot;)= language list(log(subs), log(citeprice))\r#\u0026gt; .. .. ..- attr(*, \u0026quot;factors\u0026quot;)= int [1:2, 1] 0 1\r#\u0026gt; .. .. .. ..- attr(*, \u0026quot;dimnames\u0026quot;)=List of 2\r#\u0026gt; .. .. .. .. ..$ : chr [1:2] \u0026quot;log(subs)\u0026quot; \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; .. .. .. .. ..$ : chr \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; .. .. ..- attr(*, \u0026quot;term.labels\u0026quot;)= chr \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; .. .. ..- attr(*, \u0026quot;order\u0026quot;)= int 1\r#\u0026gt; .. .. ..- attr(*, \u0026quot;intercept\u0026quot;)= int 1\r#\u0026gt; .. .. ..- attr(*, \u0026quot;response\u0026quot;)= int 1\r#\u0026gt; .. .. ..- attr(*, \u0026quot;.Environment\u0026quot;)=\u0026lt;environment: R_GlobalEnv\u0026gt; #\u0026gt; .. .. ..- attr(*, \u0026quot;predvars\u0026quot;)= language list(log(subs), log(citeprice))\r#\u0026gt; .. .. ..- attr(*, \u0026quot;dataClasses\u0026quot;)= Named chr [1:2] \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot;\r#\u0026gt; .. .. .. ..- attr(*, \u0026quot;names\u0026quot;)= chr [1:2] \u0026quot;log(subs)\u0026quot; \u0026quot;log(citeprice)\u0026quot;\r#\u0026gt; - attr(*, \u0026quot;class\u0026quot;)= chr \u0026quot;lm\u0026quot;\r ‚ùì Ëá™Áî±Â∫¶Âú®Âì™?\n\rÊèêÁ§∫\r```r\rjour_lm$rank\r#\u0026gt; [1] 2\r```\rÊúÄÁ∞°ÂñÆÁöÑÂ†±ÂëäÁî¢ÁîüÂáΩÊï∏ summary(jour_lm)\r#\u0026gt; #\u0026gt; Call:\r#\u0026gt; lm(formula = log(subs) ~ log(citeprice), data = journals)\r#\u0026gt; #\u0026gt; Residuals:\r#\u0026gt; Min 1Q Median 3Q Max #\u0026gt; -2.72478 -0.53609 0.03721 0.46619 1.84808 #\u0026gt; #\u0026gt; Coefficients:\r#\u0026gt; Estimate Std. Error t value Pr(\u0026gt;|t|) #\u0026gt; (Intercept) 4.76621 0.05591 85.25 \u0026lt;2e-16 ***\r#\u0026gt; log(citeprice) -0.53305 0.03561 -14.97 \u0026lt;2e-16 ***\r#\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r#\u0026gt; #\u0026gt; Residual standard error: 0.7497 on 178 degrees of freedom\r#\u0026gt; Multiple R-squared: 0.5573,\tAdjusted R-squared: 0.5548 #\u0026gt; F-statistic: 224 on 1 and 178 DF, p-value: \u0026lt; 2.2e-16\r  jour_slm \u0026lt;- summary(jour_lm)\rclass(jour_slm)\r#\u0026gt; [1] \u0026quot;summary.lm\u0026quot;\rnames(jour_slm)\r#\u0026gt; [1] \u0026quot;call\u0026quot; \u0026quot;terms\u0026quot; \u0026quot;residuals\u0026quot; \u0026quot;coefficients\u0026quot; #\u0026gt; [5] \u0026quot;aliased\u0026quot; \u0026quot;sigma\u0026quot; \u0026quot;df\u0026quot; \u0026quot;r.squared\u0026quot; #\u0026gt; [9] \u0026quot;adj.r.squared\u0026quot; \u0026quot;fstatistic\u0026quot; \u0026quot;cov.unscaled\u0026quot;\rjour_slm$coefficients\r#\u0026gt; Estimate Std. Error t value Pr(\u0026gt;|t|)\r#\u0026gt; (Intercept) 4.7662121 0.05590908 85.24934 2.953913e-146\r#\u0026gt; log(citeprice) -0.5330535 0.03561320 -14.96786 2.563943e-33\r  anova(jour_lm)\r#\u0026gt; Analysis of Variance Table\r#\u0026gt; #\u0026gt; Response: log(subs)\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; log(citeprice) 1 125.93 125.934 224.04 \u0026lt; 2.2e-16 ***\r#\u0026gt; Residuals 178 100.06 0.562 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\rcoef(jour_lm)\r#\u0026gt; (Intercept) log(citeprice) #\u0026gt; 4.7662121 -0.5330535\rconfint(jour_lm, level = 0.95)\r#\u0026gt; 2.5 % 97.5 %\r#\u0026gt; (Intercept) 4.6558822 4.8765420\r#\u0026gt; log(citeprice) -0.6033319 -0.4627751\r predict(jour_lm, newdata = data.frame(citeprice = 2.11),\rinterval = \u0026quot;confidence\u0026quot;)\r#\u0026gt; fit lwr upr\r#\u0026gt; 1 4.368188 4.247485 4.48889\rpredict(jour_lm, newdata = data.frame(citeprice = 2.11), interval = \u0026quot;prediction\u0026quot;)\r#\u0026gt; fit lwr upr\r#\u0026gt; 1 4.368188 2.883746 5.852629\r  lciteprice \u0026lt;- seq(from = -6, to = 4, by = 0.25)\rjour_pred \u0026lt;- predict(jour_lm, interval = \u0026quot;prediction\u0026quot;,\rnewdata = data.frame(citeprice = exp(lciteprice))) plot(log(subs) ~ log(citeprice), data = journals)\rlines(jour_pred[, 1] ~ lciteprice, col = 1) lines(jour_pred[, 2] ~ lciteprice, col = 1, lty = 2)\rlines(jour_pred[, 3] ~ lciteprice, col = 1, lty = 2)\r ÂèÉÊï∏ÁÇ∫Ê®°ÂûãÈ°ûÂà•ÁöÑplot() Áî¢Áîü6Á®Æ,È†êË®≠4Á®Æ\n residuals versus fitted values, QQ plot for normality, scale-location plot, standardized residuals versus leverages.  ÂÄãÂà•ÁöÑÂúñ:‰æãÂ¶ÇQQ plot:„ÄÄplot(jour_lm, which = 2)\npar(mfrow = c(2, 2))\rplot(jour_lm)\rpar(mfrow = c(1, 1))\rlinearHypothesis(jour_lm, \u0026quot;log(citeprice) = -0.5\u0026quot;)\r#\u0026gt; Linear hypothesis test\r#\u0026gt; #\u0026gt; Hypothesis:\r#\u0026gt; log(citeprice) = - 0.5\r#\u0026gt; #\u0026gt; Model 1: restricted model\r#\u0026gt; Model 2: log(subs) ~ log(citeprice)\r#\u0026gt; #\u0026gt; Res.Df RSS Df Sum of Sq F Pr(\u0026gt;F)\r#\u0026gt; 1 179 100.54 #\u0026gt; 2 178 100.06 1 0.48421 0.8614 0.3546\r ‚ùì Âà©Áî®Ë≥áÊñôÈõÜ cars : dist ~ speed\n ÂàÜÂà•Áµ¶Âá∫ speed=12,19,24 ÁöÑ‰ø°Ë≥¥ÂçÄÈñìÂíåÈ†êÊ∏¨ÂçÄÈñì Áï´Âúñ  "},
{"uri": "/blogR//rlang/1_0_requirement.html","title": "1 Requirement",
	"tags": [],
	"description": "ËªüÈ´îÁí∞Â¢É",
	"content": "ÂÆâË£ùËªüÈ´î ÈÉ®‰ªΩËªüÈ´îÂàóË°® Âè¶Â§ñÊñºlinux ÂÆâË£ù tidyverseÊôÇÈúÄË¶Å:\nsudo apt-get install -y libxml2-dev libcurl4-openssl-dev libssl-dev\r install.packages()\ninstall.packages('devtools')\rinstall.packages('bookdown')\rinstall.packages('rlang')\rinstall.packages('tidyr')\rinstall.packages('babynames')\rinstall.packages('ggplot2')\rinstall.packages('sm')\rinstall.packages('bindrcpp')\rinstall.packages('tidyverse')\rinstall.packages('codetools')\rinstall.packages('moments')\rlibrary('devtools')\rinstall_github(\u0026quot;Hadley/emo\u0026quot;)\rinstall.packages(\u0026quot;blogdown\u0026quot;)\rinstall.packages(\u0026quot;wooldridge\u0026quot;)\rinstall.packages(\u0026quot;WDI\u0026quot;)\rinstall.packages(\u0026quot;rjson\u0026quot;)\rinstall.packages(\u0026quot;AER\u0026quot;)\rinstall.packages(\u0026quot;DT\u0026quot;)\rinstall.packages(\u0026quot;dplyr\u0026quot;)\rinstall.packages(\u0026quot;jsonlite)\r##\roptions(repos = c(CRAN = \u0026quot;https://cran.revolutionanalytics.com\u0026quot;))\r Â¶ÇÊûúÊòØlinuxÁ≥ªÁµ±Ë¶ÅÂÖà:\n# sudo visudo\r# ÁÑ∂ÂæåÂä†ÂÖ•\r# username ALL = NOPASSWD: /fullpath/to/command, /fullpath/to/othercommand\r# ‰∏ãÈù¢ÈÄôÂÄãsystem ÈúÄË¶Å‰∏äÈù¢ÂÖ©Ë°å\rsystem('sudo apt update;sudo apt upgrade;sudo apt-get install curl')\rsystem('sudo apt-get install -y libxml2-dev libcurl4-openssl-dev libssl-dev')\r \r\rÊõ¥Êñ∞Â•ó‰ª∂  update all available packages  update.packages()   update, without prompts for permission/clarification  update.packages(ask = FALSE,checkBuild=T)   üí°ÂÖàÊääÂ∞àÊ°àÈóúÊéâ ‰æãÂ¶Ç: all.packages \u0026lt;- installed.packages()\rr.version \u0026lt;- paste(version[['major']], '.', version[['minor']], sep = '')\rfor (i in 1:nrow(all.packages))\r{\rpackage.name \u0026lt;- all.packages[i, 1]\rpackage.version \u0026lt;- all.packages[i, 3]\rif (package.version != r.version)\r{\rprint(paste('Installing', package.name))\rinstall.packages(package.name)\r}\r}\r   Rtools Âú®windows‰∏≠ÂÆâË£ùÂÆå‰ª•ÂæåÔºåÂú®R‰∏ªÊéßÂè∞‰∏äÂü∑Ë°å\nwriteLines('PATH=\u0026quot;${RTOOLS40_HOME}\\\\usr\\\\bin;${PATH}\u0026quot;', con = \u0026quot;~/.Renviron\u0026quot;)\r ÈáçÂïüÂãïÔºåÁÑ∂ÂæåÊ∏¨Ë©¶‰∏ãÈù¢Êåá‰ª§\nSys.which(\u0026quot;make\u0026quot;)\r ÂèçÂÆâË£ù Âú®R console‰∏≠ÔºåÂà©Áî®Êåá‰ª§ .libPaths()ÔºåÊàñËÄÖÂú®shell(terminal)‰∏≠Âà©Áî® R -e '.libPaths()' Áü•ÈÅìÂ•óË£ùË¢´ÂÆâË£ùÂú®Âì™Ë£°ÔºåÁÑ∂ÂæåÂèØ‰ª•ÁßªÈô§ÊâÄÊúâÁöÑÁõ∏ÈóúÂ•ó‰ª∂ uinstall.packages()\n"},
{"uri": "/blogR//rlang/2_3_data_explorer.html","title": "2.3 data explorer",
	"tags": [],
	"description": "Ë≥áÊñôÊé¢Á¥¢",
	"content": "age = c(23.0883, 25.8344, 29.4648, 32.7858, 33.6372,\r34.935, 35.2115, 35.2115, 5.2115, 36.7803)\rgroup = c(1, 1, 1, 2, 1, 1, 2, 2, 2, 1)\rdframe = data.frame(age=age, group=group)\r ÂàÜÁµÑÂàóÂá∫summary:Âà©Áî®ÂáΩÊï∏ age = c(23.0883, 25.8344, 29.4648, 32.7858, 33.6372,\r34.935, 35.2115, 35.2115, 5.2115, 36.7803)\rgroup = c(1, 1, 1, 2, 1, 1, 2, 2, 2, 1)\rdframe = data.frame(age=age, group=group)\rmygroup\u0026lt;-function(df,g,idx)\r{\rft\u0026lt;-factor(df$g)\rgf\u0026lt;-ft==levels(ft)[idx] # Á¨¨‰∏ÄÁµÑ\rg1\u0026lt;-df[gf,]\rreturn(g1) }\rx\u0026lt;-mygroup(dframe,\u0026quot;group\u0026quot;,1)\r ÂïèÈ°åÔºö ÁèæÂú®ÊääÊüêÂÄãÊ¨Ñ‰Ωç‰æùÊìöÂàÜÁµÑÁï´Âá∫boxplot A:age B:group(1,2) ‰∏çË∂≥ÁöÑË£úNA,ÊØè‰∏ÄÊ¨ÑÊàêÁÇ∫Áü©Èô£Ôºå‰æãÂ¶ÇÂÖ±ÂÖ©ÁµÑÔºåÈÇ£È∫ºÁü©Èô£Ê¨Ñ‰ΩçÂ∞±ÊòØ2ÔºåÊØîÊï∏ÁÇ∫ÂêÑÁµÑË≥áÊñôÔºåÈï∑Â∫¶‰∏çÂ§†Ë£únaÔºå ÊúÄÂæå boxplot(mtx)\nage = c(23.0883, 25.8344, 29.4648, 32.7858, 33.6372,\r34.935, 35.2115, 35.2115, 5.2115, 36.7803)\rgroup = c(1, 1, 1, 2, 1, 1, 2, 2, 2, 1)\rdframe = data.frame(age=age, group=group)\rgf\u0026lt;-group==1\rg1\u0026lt;-dframe[gf,1]\rgf\u0026lt;-group==2\rg2\u0026lt;-dframe[gf,1]\rmlen\u0026lt;-max(length(g1),length(g2))\rlength(g1)\u0026lt;-mlen\rlength(g2)\u0026lt;-mlen\rmtx\u0026lt;-cbind(g1,g2)\rboxplot(mtx)\r age = c(23.0883, 25.8344, 29.4648, 32.7858, 33.6372,\r34.935, 35.2115, 35.2115, 5.2115, 36.7803)\rgroup = c(1, 1, 1, 2, 1, 1, 2, 2, 2, 1)\rdframe = data.frame(age=age, group=group)\rvl\u0026lt;-list()\rfor (i in 1:2){\rgf\u0026lt;-group==i\rg1\u0026lt;-dframe[gf,1]\rvl[[i]]\u0026lt;-g1\r}\rgn\u0026lt;-sapply(vl,length)\rgn\u0026lt;-max(gn)\rvl\u0026lt;-lapply(vl,`length\u0026lt;-`,gn) # Ë£úNA\rmtx\u0026lt;-matrix(unlist(vl),nrow=gn)\rboxplot(mtx)\r summary(dframe)\nft\u0026lt;-factor(dframe$group) gn\u0026lt;-length(levels(ft)) # nlevels(ft)\ngf\u0026lt;-ft==levels(ft)[1] # Á¨¨‰∏ÄÁµÑ g1\u0026lt;-dframe[gf,] summary(g1)\ngf\u0026lt;-ft==levels(ft)[2] # Á¨¨‰∏ÄÁµÑ g2\u0026lt;-dframe[gf,] summary(g2)\nmygroup\u0026lt;-function(df,g,idx) { ft\u0026lt;-factor(df$g)\ngf\u0026lt;-ft==levels(ft)[idx] # Á¨¨‰∏ÄÁµÑ g1\u0026lt;-df[gf,] return(g1)\n} for (i in 1:2){ x\u0026lt;-mygroup(dframe,\u0026quot;group\u0026quot;,i)\nprint(summary(x)) }\n"},
{"uri": "/blogR//rlang/3_quickview1.html","title": "3. Quick view 1",
	"tags": [],
	"description": "Êìç‰Ωú",
	"content": "Âø´ÈÄüÊåá‰ª§\nÁõÆÂâçÊúâÂì™‰∫õË≥áÊñôÈõÜÂèØ‰ª•Ê∏¨Ë©¶ data() attach() ‰∏ÄËà¨ÊòØ\nlibrary(sample)\rdata(\u0026quot;mydata\u0026quot;)\r attach(\u0026quot;mydata\u0026quot;) Â∞±‰∏çÁî®ÊâìÂÖ•mydata$Ê¨Ñ‰ΩçÂêçÁ®±\nÂπæÂÄãÂ∏∏Áî®ÁöÑÁµ±Ë®àÈáè: x\u0026lt;-c(1,2,3)\rmedian(x)\rmean(x)\rmin(x)\rsd(x)\rrange(x)\rdiff(x)\r Ë≥áÊñôÂûãÊÖãÂíåÂÖßÂÆπ ÂèØ‰ª•ÂÖàÁúãÁúãË≥áÊñôÊèèËø∞ ?mtcars\nmtcars\r #\u0026gt; mpg cyl disp hp drat wt qsec vs am gear carb\r#\u0026gt; Mazda RX4 21.0 6 160.0 110 3.90 2.620 16.46 0 1 4 4\r#\u0026gt; Mazda RX4 Wag 21.0 6 160.0 110 3.90 2.875 17.02 0 1 4 4\r#\u0026gt; Datsun 710 22.8 4 108.0 93 3.85 2.320 18.61 1 1 4 1\r#\u0026gt; Hornet 4 Drive 21.4 6 258.0 110 3.08 3.215 19.44 1 0 3 1\r#\u0026gt; Hornet Sportabout 18.7 8 360.0 175 3.15 3.440 17.02 0 0 3 2\r#\u0026gt; Valiant 18.1 6 225.0 105 2.76 3.460 20.22 1 0 3 1\r#\u0026gt; Duster 360 14.3 8 360.0 245 3.21 3.570 15.84 0 0 3 4\r#\u0026gt; Merc 240D 24.4 4 146.7 62 3.69 3.190 20.00 1 0 4 2\r#\u0026gt; Merc 230 22.8 4 140.8 95 3.92 3.150 22.90 1 0 4 2\r#\u0026gt; Merc 280 19.2 6 167.6 123 3.92 3.440 18.30 1 0 4 4\r#\u0026gt; Merc 280C 17.8 6 167.6 123 3.92 3.440 18.90 1 0 4 4\r#\u0026gt; Merc 450SE 16.4 8 275.8 180 3.07 4.070 17.40 0 0 3 3\r#\u0026gt; Merc 450SL 17.3 8 275.8 180 3.07 3.730 17.60 0 0 3 3\r#\u0026gt; Merc 450SLC 15.2 8 275.8 180 3.07 3.780 18.00 0 0 3 3\r#\u0026gt; Cadillac Fleetwood 10.4 8 472.0 205 2.93 5.250 17.98 0 0 3 4\r#\u0026gt; Lincoln Continental 10.4 8 460.0 215 3.00 5.424 17.82 0 0 3 4\r#\u0026gt; Chrysler Imperial 14.7 8 440.0 230 3.23 5.345 17.42 0 0 3 4\r#\u0026gt; Fiat 128 32.4 4 78.7 66 4.08 2.200 19.47 1 1 4 1\r#\u0026gt; Honda Civic 30.4 4 75.7 52 4.93 1.615 18.52 1 1 4 2\r#\u0026gt; Toyota Corolla 33.9 4 71.1 65 4.22 1.835 19.90 1 1 4 1\r#\u0026gt; Toyota Corona 21.5 4 120.1 97 3.70 2.465 20.01 1 0 3 1\r#\u0026gt; Dodge Challenger 15.5 8 318.0 150 2.76 3.520 16.87 0 0 3 2\r#\u0026gt; AMC Javelin 15.2 8 304.0 150 3.15 3.435 17.30 0 0 3 2\r#\u0026gt; Camaro Z28 13.3 8 350.0 245 3.73 3.840 15.41 0 0 3 4\r#\u0026gt; Pontiac Firebird 19.2 8 400.0 175 3.08 3.845 17.05 0 0 3 2\r#\u0026gt; Fiat X1-9 27.3 4 79.0 66 4.08 1.935 18.90 1 1 4 1\r#\u0026gt; Porsche 914-2 26.0 4 120.3 91 4.43 2.140 16.70 0 1 5 2\r#\u0026gt; Lotus Europa 30.4 4 95.1 113 3.77 1.513 16.90 1 1 5 2\r#\u0026gt; Ford Pantera L 15.8 8 351.0 264 4.22 3.170 14.50 0 1 5 4\r#\u0026gt; Ferrari Dino 19.7 6 145.0 175 3.62 2.770 15.50 0 1 5 6\r#\u0026gt; Maserati Bora 15.0 8 301.0 335 3.54 3.570 14.60 0 1 5 8\r#\u0026gt; Volvo 142E 21.4 4 121.0 109 4.11 2.780 18.60 1 1 4 2\r head(mtcars)\r #\u0026gt; mpg cyl disp hp drat wt qsec vs am gear carb\r#\u0026gt; Mazda RX4 21.0 6 160 110 3.90 2.620 16.46 0 1 4 4\r#\u0026gt; Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 17.02 0 1 4 4\r#\u0026gt; Datsun 710 22.8 4 108 93 3.85 2.320 18.61 1 1 4 1\r#\u0026gt; Hornet 4 Drive 21.4 6 258 110 3.08 3.215 19.44 1 0 3 1\r#\u0026gt; Hornet Sportabout 18.7 8 360 175 3.15 3.440 17.02 0 0 3 2\r#\u0026gt; Valiant 18.1 6 225 105 2.76 3.460 20.22 1 0 3 1\r tail(mtcars)\r #\u0026gt; mpg cyl disp hp drat wt qsec vs am gear carb\r#\u0026gt; Porsche 914-2 26.0 4 120.3 91 4.43 2.140 16.7 0 1 5 2\r#\u0026gt; Lotus Europa 30.4 4 95.1 113 3.77 1.513 16.9 1 1 5 2\r#\u0026gt; Ford Pantera L 15.8 8 351.0 264 4.22 3.170 14.5 0 1 5 4\r#\u0026gt; Ferrari Dino 19.7 6 145.0 175 3.62 2.770 15.5 0 1 5 6\r#\u0026gt; Maserati Bora 15.0 8 301.0 335 3.54 3.570 14.6 0 1 5 8\r#\u0026gt; Volvo 142E 21.4 4 121.0 109 4.11 2.780 18.6 1 1 4 2\r head ÂâçÂπæÁ≠ÜË≥áÊñô tail ÂæåÂπæÁ≠ÜË≥áÊñô\nÁ∑®ËºØ/ÁÄèË¶ΩË≥áÊñô edit(mtcars)\rdata.entry(mtcars)\rView(mtcars)\r ÂÄãÂà•Ê¨Ñ‰Ωç Â¶ÇÊûúË¶ÅÈ°ØÁ§∫ÂÄãÂà•Ê¨Ñ‰Ωç,‰∏ÄËà¨ÂèØ‰ª•ÊòØmtcars$mpg,‰ΩÜÊòØÂ¶ÇÊûúË¶ÅÁõ¥Êé•‰ΩøÁî®mpgÊ¨Ñ‰Ωç,ÂèØ‰ª•Âà©Áî®attach()\nattach(mtcars)\rmpg\r Ë≥™ÊÄßÊï∏ÊìöÁöÑÂàÜÊûê Ê¨Ñ‰ΩçcylÁÇ∫Ë≥™ÊÄßËÆäÊï∏,ÂèØ‰ª•Âà©Áî®tableÂàÜÊûê\nattach(mtcars)\rtable(mtcars$cyl)\r #\u0026gt; #\u0026gt; 4 6 8 #\u0026gt; 11 7 14\r È†ªÁéáÂúñ\nattach(mtcars)\r #\u0026gt; ‰∏ãÂàóÁâ©‰ª∂Ë¢´ÈÅÆÊñ∑Ëá™ mtcars (pos = 3):\r#\u0026gt; #\u0026gt; am, carb, cyl, disp, drat, gear, hp, mpg, qsec, vs, wt\r barplot(table(mtcars$cyl))\r Ëß£Èáã‰∏ãÈù¢ÂÖ©ÂÄãÂúñÁÇ∫ÁîöÈ∫º‰∏ç‰∏ÄÊ®£?\nattach(mtcars)\r #\u0026gt; ‰∏ãÂàóÁâ©‰ª∂Ë¢´ÈÅÆÊñ∑Ëá™ mtcars (pos = 3):\r#\u0026gt; #\u0026gt; am, carb, cyl, disp, drat, gear, hp, mpg, qsec, vs, wt\r #\u0026gt; ‰∏ãÂàóÁâ©‰ª∂Ë¢´ÈÅÆÊñ∑Ëá™ mtcars (pos = 4):\r#\u0026gt; #\u0026gt; am, carb, cyl, disp, drat, gear, hp, mpg, qsec, vs, wt\r v\u0026lt;-as.vector(table(mtcars$cyl))\rbarplot(v)\r attach(mtcars)\r #\u0026gt; ‰∏ãÂàóÁâ©‰ª∂Ë¢´ÈÅÆÊñ∑Ëá™ mtcars (pos = 3):\r#\u0026gt; #\u0026gt; am, carb, cyl, disp, drat, gear, hp, mpg, qsec, vs, wt\r #\u0026gt; ‰∏ãÂàóÁâ©‰ª∂Ë¢´ÈÅÆÊñ∑Ëá™ mtcars (pos = 4):\r#\u0026gt; #\u0026gt; am, carb, cyl, disp, drat, gear, hp, mpg, qsec, vs, wt\r #\u0026gt; ‰∏ãÂàóÁâ©‰ª∂Ë¢´ÈÅÆÊñ∑Ëá™ mtcars (pos = 5):\r#\u0026gt; #\u0026gt; am, carb, cyl, disp, drat, gear, hp, mpg, qsec, vs, wt\r m\u0026lt;-as.matrix(table(mtcars$cyl))\rbarplot(m)\r ‰∏äÈù¢ÂÖ©ÂÄãÂúñ‰∏ç‰∏ÄÊ®£,Âõ†ÁÇ∫table()ÁöÑÂÆöÁæ©,ÊâÄ‰ª•ËΩâÊàêÁü©Èô£‰ª•ÂæåÊòØ3x1„ÄÇ\nx\u0026lt;-c(1,1,1)\rx1\u0026lt;-as.matrix(x)\rx2\u0026lt;-as.table(x)\rx3\u0026lt;-table(x)\rx1\rx2\rx3\r  [,1]\r[1,] 1\r[2,] 1\r[3,] 1\r# x2 ÂéüÂú∞ËΩâ\rA B C 1 1 1 # x3 : Ë®àÁÆó1ÊúâÂπæÂÄã\rx\r1 3  \r\rbarplot(c(11,7,4))\r barplot(mtcars$mpg)\r barplot(mtcars$cyl)\r assignment  \u0026lt;-Âíå -\u0026gt; ÊòØ‰∏ÄÂ∞ç ÔºåÂèØ‰ª•ÂêëÂ∑¶ÂíåÂêëÂè≥Ë≥¶ÂÄº = ÊòØÂñÆÂêëÁöÑ Ôºå‰ΩúÁî®Âíå\u0026lt;-Âü∫Êú¨Áõ∏ÂêåÔºå‰ΩÜÂ∞çÂáΩÊï∏‰∏≠ÁöÑËÆäÊï∏ÈÄöÂ∏∏‰ΩøÁî®= \u0026lt;\u0026lt;- ÈÄôÂÄãÊòØÂÖ®ÂüüË≥¶ÂÄº ÔºåË∑üËÆäÊï∏ÁöÑ‰ΩúÁî®ÂüüÊúâÈóúÔºåÈñãÁôºËá™Â∑±ÁöÑÂ•ó‰ª∂(package)ÁöÑÊôÇÂÄô,Â∏∏Áî®„ÄÇ  ##Delete x (if it exists)\rrm(x)\r #\u0026gt; Warning in rm(x): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'x'\r mean(x = 1:10) #[1] 5.5\r #\u0026gt; [1] 5.5\r x #Error: object 'x' not found\r #\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'x'\r ËßÄÂØü‰∏äÈù¢ÁöÑx,Á¨¨‰∏ÄË°åÊåá‰ª§ÂæûÁí∞Â¢É‰∏≠ÂéªÊéâËÆäÊï∏xÁöÑÂÆöÁæ©„ÄÇ Á¨¨2Ë°å‰∏≠ÁöÑxÊòØÂú®block ‰∏≠ÂÆöÁæ©ÔºåÂõ†Ê≠§Âü∑Ë°åÂÆå‰ª•Âæå,ÊúÉË¢´ÊÆ∫Êéâ„ÄÇÂõ†Ê≠§Á¨¨‰∏âË°åÊåá‰ª§,Âá∫ÁèæÊâæ‰∏çÂà∞xÁöÑÊèêÁ§∫„ÄÇ\nÂæåÈù¢Ê∏¨Ë©¶\u0026lt;- operator:\nmean(x \u0026lt;- 1:10) # [1] 5.5\r #\u0026gt; [1] 5.5\r x\r #\u0026gt; [1] 1 2 3 4 5 6 7 8 9 10\r  x # [1] 1 2 3 4 5 6 7 8 9 10\n This time the x variable is declared within the user workspace. When does the assignment take place ? In the code above, you may be tempted to thin that we ‚Äúassign 1:10 to x, then calculate the mean. ‚Äù This would be true for #languages such as C, but it isn ‚Äôt true in R. Consider the following function:\na \u0026lt;- 1\rf \u0026lt;- function(a) return(TRUE)\rf \u0026lt;- f(a \u0026lt;- a + 1);\r# Ëº∏Âá∫:TRUE\ra # ÁµêÊûú=1  #\u0026gt; [1] 1\r Ê≥®ÊÑè‰∏äÈù¢aÁöÑÂÄº,‰ªçÁÑ∂ÊòØ1„ÄÇÂéüÂõ†ÊòØÂõ†ÁÇ∫RÁöÑÁ∑®Ë≠ØÂô®,Âú®ÊúÄ‰Ω≥ÂåñÁöÑÊôÇÂÄô,Áü•ÈÅìÂáΩÊï∏‰∏≠Ê≤íÁî®Âà∞ÂèÉÊï∏,Âõ†Ê≠§Ê†πÊú¨Ê≤íÊúâÂ≠òÂèñÂà∞ËÆäÊï∏a,Âõ†Ê≠§ÔºåÂéü‰æÜÁöÑaÊòØÁîöÈ∫º,a‰ªçÁÑ∂ÊòØÁîöÈ∫º„ÄÇ\nÁ∞°ÂñÆË¨õÂ∞±ÊòØf(a\u0026lt;-a+1)‰∏≠ÁöÑa\u0026lt;-a+1 Ë¢´ÂéªÊéâ‰∏çÊúÉË¢´Âü∑Ë°å\nf(a\u0026lt;-a+1) =\u0026gt; f()\nrewrite\nf \u0026lt;- function(a) {\rif (runif(1) \u0026gt; 0.5) TRUE else a\r} f(a \u0026lt;- a + 1);\ra # result 2\r #\u0026gt; [1] 2\r ÈÄôÂÄãÂáΩÊï∏fÁî®Âà∞‰∫ÜÂèÉÊï∏a,‰ΩÜÊòØÁ∑®Ë≠ØÂô®ÈÄôÊ¨°Ê≤íÈÇ£È∫ºËÅ∞Êòé,Áü•ÈÅì‰ΩøÁî®ËÄÖÁî®a‰æÜÂÅöÁîöÈ∫º,ÈõñÁÑ∂ÈÄôÂÄãÂáΩÊï∏ÁöÑbody‰ªçÁÑ∂Ê≤íÊúâÂãïÂà∞a,‰ΩÜÊòØÈÄôÊ¨°f(a\u0026lt;-a+1)‰∏≠ÁöÑa\u0026lt;-a+1 ÊúÉË¢´Âü∑Ë°å„ÄÇ\nÁ∑¥Áøí\n ÂÖàÂéªÊéâÁí∞Â¢É‰∏≠ÁöÑËÆäÊï∏a,ÁÑ∂ÂæåÂú®Âü∑Ë°å‰∏äÈù¢ÁöÑchunk.   hint: rm(a)  ÊèêÁ§∫\r \rf(a \u0026lt;- a + 1);\r #\u0026gt; [1] TRUE\r # TRUE\ra # 2\r #\u0026gt; [1] 2\r f(a \u0026lt;- a + 1);\r #\u0026gt; [1] TRUE\r a #3\r #\u0026gt; [1] 2\r a\u0026lt;-1;\rf \u0026lt;- function(a) return(a);\rinvisible(f(a=a+1)) a\r #\u0026gt; [1] 1\r invisible(f(a\u0026lt;-a+1))\ra\r #\u0026gt; [1] 2\r ‰∏äÈù¢Á®ãÂºè‰∏≠,invisibleÂáΩÊï∏Âú®ÈÄôË£°ÁöÑË™™Êòé‰∏çÈáçË¶Å,Âè™ÊòØÁî®‰æÜÈö±ËóèË®àÁÆóÁµêÊûú„ÄÇ\na\u0026lt;-1;\rf \u0026lt;- function(a) return(3);\rinvisible(f(a=a+1))\ra\r #\u0026gt; [1] 1\r invisible(f(a\u0026lt;-a+1))\ra\r #\u0026gt; [1] 1\r =Áî®Âú®ÂèÉÊï∏ÊåáÊ¥æ ‰æãÂ¶Ç\nmatrix(1:20, ncol = 4)\r #\u0026gt; [,1] [,2] [,3] [,4]\r#\u0026gt; [1,] 1 6 11 16\r#\u0026gt; [2,] 2 7 12 17\r#\u0026gt; [3,] 3 8 13 18\r#\u0026gt; [4,] 4 9 14 19\r#\u0026gt; [5,] 5 10 15 20\r ncol\r #\u0026gt; function (x) #\u0026gt; dim(x)[2L]\r#\u0026gt; \u0026lt;bytecode: 0x0000000018946ad8\u0026gt;\r#\u0026gt; \u0026lt;environment: namespace:base\u0026gt;\r Áî¢Áîü5X4Áü©Èô£„ÄÇÂ¶ÇÊûú\nmatrix(1:20, ncol \u0026lt;- 4)\r #\u0026gt; [,1] [,2] [,3] [,4] [,5]\r#\u0026gt; [1,] 1 5 9 13 17\r#\u0026gt; [2,] 2 6 10 14 18\r#\u0026gt; [3,] 3 7 11 15 19\r#\u0026gt; [4,] 4 8 12 16 20\r ncol\r #\u0026gt; [1] 4\r ÊúÉÁî¢Áîü‰∏ÄÂÄãËÆäÊï∏ ncolÔºåÈÄôË£°Áî¢ÁîüÁöÑÁÇ∫4x5ÁöÑÁü©Èô£„ÄÇÁÇ∫ÁîöÈ∫º?Âõ†ÁÇ∫ÈÄôË£°ÁöÑÁ¨¨2ÂÄãÂèÉÊï∏ncol\u0026lt;-4,ÊåáÊ¥æÁµ¶ËÆäÊï∏ncol,ÁÑ∂ÂæåÈÄôÂÄãexpressionÊúÉreturn 4,ËÄå4Â∞±Ë¢´Áï∂ÊàêÁ¨¨2ÂÄãÂèÉÊï∏,‰πüÂ∞±ÊòØmatrix(1:20, ncol \u0026lt;- 4)Á≠âÂêåÊñºmatrix(1:20, 4),‰πüÂ∞±ÊòØÊåáÂÆöROWÁöÑÁ∂≠Â∫¶„ÄÇ\nÁµêË´ñ:x\u0026lt;-3 \u0026lt;-ÊúÉÂú®ÂÖ®Â±ÄÁî¢ÁîüËÆäÊï∏xÁÑ∂ÂæåÊåáÊ¥æ3\n(x \u0026lt;- 3)\r #\u0026gt; [1] 3\r #rm(list = ls())\rrm(x)\rls()\r #\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;base_name\u0026quot; \u0026quot;cachepath\u0026quot; #\u0026gt; [4] \u0026quot;collectOutputClass\u0026quot; \u0026quot;collectSourceClass\u0026quot; \u0026quot;debugp\u0026quot; #\u0026gt; [7] \u0026quot;f\u0026quot; \u0026quot;hugocmd\u0026quot; \u0026quot;indir\u0026quot; #\u0026gt; [10] \u0026quot;infile\u0026quot; \u0026quot;m\u0026quot; \u0026quot;ncol\u0026quot; #\u0026gt; [13] \u0026quot;ohook_chunk\u0026quot; \u0026quot;ohook_output\u0026quot; \u0026quot;ohook_source\u0026quot; #\u0026gt; [16] \u0026quot;one_string\u0026quot; \u0026quot;outfile\u0026quot; \u0026quot;parseOutputHead\u0026quot; #\u0026gt; [19] \u0026quot;parseSourceHead\u0026quot; \u0026quot;relativePath\u0026quot; \u0026quot;splitLines\u0026quot; #\u0026gt; [22] \u0026quot;v\u0026quot; \u0026quot;wprint\u0026quot;\r (x = 3)\r #\u0026gt; [1] 3\r ls()\r #\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;base_name\u0026quot; \u0026quot;cachepath\u0026quot; #\u0026gt; [4] \u0026quot;collectOutputClass\u0026quot; \u0026quot;collectSourceClass\u0026quot; \u0026quot;debugp\u0026quot; #\u0026gt; [7] \u0026quot;f\u0026quot; \u0026quot;hugocmd\u0026quot; \u0026quot;indir\u0026quot; #\u0026gt; [10] \u0026quot;infile\u0026quot; \u0026quot;m\u0026quot; \u0026quot;ncol\u0026quot; #\u0026gt; [13] \u0026quot;ohook_chunk\u0026quot; \u0026quot;ohook_output\u0026quot; \u0026quot;ohook_source\u0026quot; #\u0026gt; [16] \u0026quot;one_string\u0026quot; \u0026quot;outfile\u0026quot; \u0026quot;parseOutputHead\u0026quot; #\u0026gt; [19] \u0026quot;parseSourceHead\u0026quot; \u0026quot;relativePath\u0026quot; \u0026quot;splitLines\u0026quot; #\u0026gt; [22] \u0026quot;v\u0026quot; \u0026quot;wprint\u0026quot; \u0026quot;x\u0026quot;\r Âõ†ÁÇ∫xÊòØÂèÉÊï∏ÂêçÁ®±‰∏çÊòØËÆäÊï∏,Áúãmean help\n"},
{"uri": "/blogR//rlang/4_2_type_vector.html","title": "4.2 ÂêëÈáè",
	"tags": [],
	"description": "Âü∫Êú¨Ë™ûÊ≥ï",
	"content": "vector ÂáΩÊï∏ÁØÑ‰æã cbind,rbind x\u0026lt;-runif(5)\ry\u0026lt;-runif(6)\rcbind(x,y)\r#\u0026gt; Warning in cbind(x, y): number of rows of result is not a multiple of vector\r#\u0026gt; length (arg 1)\r#\u0026gt; x y\r#\u0026gt; [1,] 0.05555426 0.81078837\r#\u0026gt; [2,] 0.39638526 0.83144706\r#\u0026gt; [3,] 0.26659782 0.42948876\r#\u0026gt; [4,] 0.14729596 0.21873952\r#\u0026gt; [5,] 0.50746265 0.03657459\r#\u0026gt; [6,] 0.05555426 0.50790482\r ÂáΩÊï∏diff ÂèØ‰ª•Áî®Âú®Â∑ÆÂàÜË®àÁÆó\nArguments\n x: a numeric vector or matrix containing the values to be differenced. lag: an integer indicating which lag to use. differences: an integer indicating the order of the difference.\n‰æãÂ¶Ç  diff(x,lag=d,differences=n)\rx[(1+d):n] - x[1:(n-d)]\r Á∑¥Áøí: Âà™Èô§ÂêëÈáè‰∏≠ÁöÑ‰∏ÄÂÄãÂÖÉÁ¥† x\u0026lt;-c(1,2,3)\r Â¶Ç‰ΩïÂà™Èô§x‰∏≠ÁöÑÁ¨¨2ÂÄãÂÖÉÁ¥† ?\nhint:\nÊï∏Â≠óÂêëÈáèÂÖÉÁ¥†ÁöÑÂà™Èô§ Ôºå‰∏çËÉΩÂÉèÊòØlist[2]\u0026lt;-NULL ÔºåË´ãÂïè‰Ω†ÁöÑËß£Ê≥ïÔºü ‰∏¶Ë™™Êòé\nÁâ©‰ª∂ÂÖÉÁ¥†ÁöÑÂà™Èô§ÔºåÁ∞°ÂñÆ‰∏ÄÈªûÁöÑÂÉèÊòØlistÔºå\nx\u0026lt;-list(1,2,3)\rx[2]\u0026lt;-NULL\rx\r ‰ΩÜÊòØÂêëÈáèÂÖÉÁ¥†ÁöÑÂà™Èô§Ê≤íÊúâÊç∑Âæë\nx\u0026lt;-c(1,2,3)\rx[2]\u0026lt;-NULL\r#\u0026gt; Error in x[2] \u0026lt;- NULL: ÁΩÆÊèõÁöÑÈï∑Â∫¶ÁÇ∫Èõ∂\r Âõ†Ê≠§ÔºåÈúÄË¶ÅËÆäÈÄöÁöÑËæ¶Ê≥ï\nÊñπÊ≥ï1Ôºö\nx\u0026lt;-c(1,2,3)\rt\u0026lt;-as.list(x) # note: ‰ΩøÁî®list(x)ËÄå‰∏çÊòØas.list(x)ÊúÉÊúâ‰ªÄÈ∫º‰∏çÂêå\rt[2]\u0026lt;-NULL\rx\u0026lt;-unlist(t)\rx\r#\u0026gt; [1] 1 3\r ÊñπÊ≥ï2Ôºö\nx\u0026lt;-c(1,2,3)\ry\u0026lt;-x[-2]\rx\u0026lt;-y\r Á∑¥ÁøíÔºöÊîπÁÇ∫ÂáΩÊï∏\ndelElement\u0026lt;-function(x,idx){\rif (is.vector(x)){\rt\u0026lt;-as.list(x)\rt[idx]\u0026lt;-NULL\rt\u0026lt;-unlist(t)\rreturn(t) } else {\rstop('must be vector')\r}\r}\rx\u0026lt;-c(1,2,3)\rx\u0026lt;-delElement(x,2)\rx\r#\u0026gt; [1] 1 3\r Adding Attributes to Vectors ÂáΩÊï∏attributes() ÂèØ‰ª•ËÆìÊàëÂÄëÊúâËÉΩÂäõÁµ¶‰∏ÄÂÄãÊôÆÈÄöÁöÑÁâ©‰ª∂Âä†ÂÖ•‰∏Ä‰∫õË®ªËß£ÊàñÊòØÂêçÁ®±„ÄÇ‰ª•ÂêëÈáèÁÇ∫‰æã,Â¶Ç‰∏ã,‰∏ÄÈñãÂßãË®≠ÂÆöÂêëÈáèÁöÑÊôÇÂÄô,ÂÖßÂÆöÂ±¨ÊÄßÊòØNULL\nv1 \u0026lt;- 8:17\rattributes(v1)\r#\u0026gt; NULL\r ÁèæÂú®ÂèØ‰ª•Áµ¶ÂÖÉÁ¥†ÂêçÁ®±\n# assigning names to a pre-existing vector\rnames(v1) \u0026lt;- letters[1:length(v1)] #üè∑üëèÊ†πÊìöÂØ¶ÈöõÈï∑Â∫¶Áµ¶ÂÆöa,b,c,d...\rv1\r#\u0026gt; a b c d e f g h i j #\u0026gt; 8 9 10 11 12 13 14 15 16 17\r ÁÑ∂ÂæåÁúãÁúãÂ±¨ÊÄß\nattributes(v1)\r#\u0026gt; $names\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; \u0026quot;d\u0026quot; \u0026quot;e\u0026quot; \u0026quot;f\u0026quot; \u0026quot;g\u0026quot; \u0026quot;h\u0026quot; \u0026quot;i\u0026quot; \u0026quot;j\u0026quot;\r ÈÇ£Ôºå‰ªÄÈ∫ºÊòØnames(v1)\nnames(v1)\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; \u0026quot;d\u0026quot; \u0026quot;e\u0026quot; \u0026quot;f\u0026quot; \u0026quot;g\u0026quot; \u0026quot;h\u0026quot; \u0026quot;i\u0026quot; \u0026quot;j\u0026quot;\r ‰πüÂ∞±ÊòØË™™names()ÂáΩÊï∏ËøîÂõûÊØèÂÄãÂÖÉÁ¥†ÁöÑÂêçÂ≠êÔºåËÄåattributes()ËøîÂõûÁöÑÊòØÊúâ‰ªÄÈ∫ºÂ±¨ÊÄß„ÄÇ‰ΩÜÊòØÂÜç‰ªîÁ¥∞ÁúãÁúãÔºåÂèØ‰ª•ÁôºÁèæÊåáÊ¥æattribute Áµ¶\nattributes(v1)\u0026lt;-list(x='',y='',z='')\rv1\r#\u0026gt; [1] 8 9 10 11 12 13 14 15 16 17\r#\u0026gt; attr(,\u0026quot;x\u0026quot;)\r#\u0026gt; [1] \u0026quot;\u0026quot;\r#\u0026gt; attr(,\u0026quot;y\u0026quot;)\r#\u0026gt; [1] \u0026quot;\u0026quot;\r#\u0026gt; attr(,\u0026quot;z\u0026quot;)\r#\u0026gt; [1] \u0026quot;\u0026quot;\rattributes(v1)\r#\u0026gt; $x\r#\u0026gt; [1] \u0026quot;\u0026quot;\r#\u0026gt; #\u0026gt; $y\r#\u0026gt; [1] \u0026quot;\u0026quot;\r#\u0026gt; #\u0026gt; $z\r#\u0026gt; [1] \u0026quot;\u0026quot;\r Ê∏¨Ë©¶ÊòØÂê¶ÂèØ‰ª•Ëá™Ë°åÂä†ÂÖ•attributesÔºåÁÑ∂ÂæåËÆìnames()ÂèØ‰ª•ÈÅã‰ΩúÔºåÂ¶Ç‰∏ãÔºö\nattributes(v1)\u0026lt;-list(names=letters[1:10])\rv1\r#\u0026gt; a b c d e f g h i j #\u0026gt; 8 9 10 11 12 13 14 15 16 17\rattributes(v1)\r#\u0026gt; $names\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; \u0026quot;d\u0026quot; \u0026quot;e\u0026quot; \u0026quot;f\u0026quot; \u0026quot;g\u0026quot; \u0026quot;h\u0026quot; \u0026quot;i\u0026quot; \u0026quot;j\u0026quot;\rnames(v1)\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; \u0026quot;d\u0026quot; \u0026quot;e\u0026quot; \u0026quot;f\u0026quot; \u0026quot;g\u0026quot; \u0026quot;h\u0026quot; \u0026quot;i\u0026quot; \u0026quot;j\u0026quot;\r ‰∏äÈù¢ÈÄôÂÄãÁ®ãÂºèÊöóÁ§∫‰∫Ü‰ªÄÈ∫ºÔºü\n ÂáΩÊï∏names()Âè™ÊòØattributes()\u0026lt;-ÁöÑ‰∏ÄÂÄãÁâπ‰æãÔºåÊàëÂÄëÁ∏ΩÊòØÂèØ‰ª•Ëá™Ë°åÂä†ÂÖ•‰∏ÄÂÄãÂ±¨ÊÄßÔºåÂêçÁ®±ÁÇ∫namesËÆìÂáΩÊï∏names()ÂèØ‰ª•ÊääÊØèÂÄãÂÖÉÁ¥†ÁöÑÂêçÁ®±ÂàóÂç∞Âá∫‰æÜ„ÄÇ\n ÂæåÈù¢ÈÄôÊÆµÁ®ãÂºèÁ¢ºÂè™ÊòØÂ∞çÁÖß‰∏Ä‰∏ã‰πãÂâçÊØèÂÄãÂÖÉÁ¥†Âä†ÂÖ•ÂêçÁ®±ÁöÑ‰ΩúÊ≥ïÔºåÊú¨Ë∫´Ê≤íÊÑèÁæ©Ôºö\n# adding names when creating vectors\rv2 \u0026lt;- c(name1 = 1, name2 = 2, name3 = 3)\rv2\r#\u0026gt; name1 name2 name3 #\u0026gt; 1 2 3\rattributes(v2)\r#\u0026gt; $names\r#\u0026gt; [1] \u0026quot;name1\u0026quot; \u0026quot;name2\u0026quot; \u0026quot;name3\u0026quot;\r ‰πüÂèØ‰ª•Âä†ÂÖ•Ë®ªËß£Ôºö\ncomment(v1) \u0026lt;- \u0026quot;This is a comment on a vector\u0026quot;\rv1\r#\u0026gt; a b c d e f g h i j #\u0026gt; 8 9 10 11 12 13 14 15 16 17\rattributes(v1)\r#\u0026gt; $names\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; \u0026quot;d\u0026quot; \u0026quot;e\u0026quot; \u0026quot;f\u0026quot; \u0026quot;g\u0026quot; \u0026quot;h\u0026quot; \u0026quot;i\u0026quot; \u0026quot;j\u0026quot;\r#\u0026gt; #\u0026gt; $comment\r#\u0026gt; [1] \u0026quot;This is a comment on a vector\u0026quot;\r "},
{"uri": "/blogR//rlang/4_5_type_string_function.html","title": "4.5 Â≠ó‰∏≤",
	"tags": [],
	"description": "Âü∫Êú¨Ë™ûÊ≥ï",
	"content": "Â≠ó‰∏≤ÂáΩÊï∏ RÊèê‰æõÁöÑÂ≠ó‰∏≤ÂáΩÊï∏(ascii)  nchar: string length paste: concatenate strings substr: substring toupper: convert entire string to uppercase tolower: convert entire string to lowercase chartr: character map replacement (like \u0026quot;tr\u0026quot;) strtrimÔºötrunates string  nchar, substr, toupper, tolower will accept string vectors as arguments and return vector results.\nstrtrim accepts both a vector of strings and a vector of truncation positions.\n \\': Á≠âÂêåÊñº \u0026quot;'\u0026quot; . \\\u0026quot;: Á≠âÂêåÊñº '\u0026quot;'. \\n: newline. \\r: carriage return. \\t: tab character.   Note: cat() and print() ËôïÁêÜÈÄÉÈÄ∏Â≠óÂÖÉÁöÑÊñπÂºè‰∏ç‰∏ÄÊ®£Â¶ÇÊûúË¶ÅÂú®Ëû¢Âπï‰∏äËß£ËÆÄ‰∏äÈù¢ÁöÑÂ≠ó‰∏≤,ÈúÄË¶ÅÁöÑÊòØ cat().\n print(\u0026quot;a\\nb\u0026quot;)\r#\u0026gt; [1] \u0026quot;a\\nb\u0026quot;\rcat(\u0026quot;a\\nb\u0026quot;)\r#\u0026gt; a\r#\u0026gt; b\r ÁØÑ‰æã paste ÊúÄÁ∞°ÂñÆÁöÑÁØÑ‰æã\npaste0(\u0026quot;x\u0026quot;,\u0026quot;y\u0026quot;,\u0026quot;z\u0026quot;)\r#\u0026gt; [1] \u0026quot;xyz\u0026quot;\r ÁØÑ‰æã\ns1 = c('hello','Copy') s2 = c('john','pen') print(paste(s1,s2,sep=\u0026quot; \u0026quot;,collapse=\u0026quot;-\u0026quot;))\r#\u0026gt; \u0026quot;hello john-Copy pen\u0026quot;  s1 s2   hello john  copy pen     Âúñ\r\r\rÁØÑ‰æãËß£Ë™™:\n paste0(c(1,2),c(3,4),collapse='') ÊúÉÊúâÁîöÈ∫ºÁ≠îÊ°à? ÊÄéÊ®£ÂæóÂà∞\u0026quot;1234\u0026quot;  üí° paste0()ÊòØpaste()ÁöÑÁ∞°ÂåñÁâà„ÄÇÂü∫Êú¨‰∏äÂ∞±ÊòØÂ≠ó‰∏≤Áõ∏ÈÄ£,ÈÄôÊôÇÁî®ÁöÑÊòØseparator,‰æãÂ¶Ç,\u0026quot;a\u0026quot;+sep+\u0026quot;b\u0026quot;,paste0‰∏≠ÁöÑsep=\u0026quot;\u0026quot;,Âõ†Ê≠§paste0()ÁöÑÁµêÊûúÁÇ∫\u0026quot;ab\u0026quot;,Â¶ÇÊûúÈÄ£ÂÆå‰ª•ÂæåÊòØÂêëÈáè,‰ΩÜÊòØÊÉ≥Ë¶ÅËÆäÊàê‰∏ÄÂÄãÂ≠ó‰∏≤,Â∞±ÂøÖÈ†àÁî®Âà∞collapse„ÄÇ\nrst=paste0(c(1,2)) rst # üè∑Âíåc(1,2)ÁöÑÂ∑ÆÂà•Âè™ÊòØ,ÈÄôË£°ÊòØÂ≠ó‰∏≤„ÄÇ‚úîrst=c(\u0026quot;1\u0026quot;,\u0026quot;2\u0026quot;)=as.character(c(1,2))\r#\u0026gt; [1] \u0026quot;1\u0026quot; \u0026quot;2\u0026quot;\rlength(rst)\r#\u0026gt; [1] 2\rrst=paste0(c(1,2),c(3,4),collapse=\u0026quot;*\u0026quot;)\rrst\r#\u0026gt; [1] \u0026quot;13*24\u0026quot;\rlength(rst)\r#\u0026gt; [1] 1\rrst=paste(c(1,2),c(3,4),collapse=\u0026quot;*\u0026quot;)\rrst\r#\u0026gt; [1] \u0026quot;1 3*2 4\u0026quot;\rlength(rst)\r#\u0026gt; [1] 1\r Á∑¥Áøí collapse ÁöÑÁØÑ‰æã,Âïè‰∏ãÈù¢ÁöÑÁ®ãÂºèÁöÑÂü∑Ë°åÁµêÊûú\npaste(c('A', 'B', 'C'), 1:7, sep=\u0026quot;-\u0026quot;, collapse=\u0026quot;/\u0026quot;)\r ÊèêÁ§∫\r # [1] \u0026quot;A-1/B-2/C-3/A-4/B-5/C-6/A-7\u0026quot;\r \rÊáâÁî®ÁØÑ‰æãmacro version 1\nx\u0026lt;- \u0026quot;${1} is good\u0026quot;\rgsub(\u0026quot;\\\\$\\\\{1\\\\}\u0026quot;,\u0026quot;dog\u0026quot;,x)\r#\u0026gt; [1] \u0026quot;dog is good\u0026quot;\r ** version 2 to function**\nmstr\u0026lt;-function (src,mto)\r{\rreturn (gsub(\u0026quot;\\\\$\\\\{1\\\\}\u0026quot;,mto,src))\r}\rx\u0026lt;- \u0026quot;${1} is good\u0026quot;\rmstr(x,\u0026quot;dog\u0026quot;)\r#\u0026gt; [1] \u0026quot;dog is good\u0026quot;\r misc ÂáΩÊï∏ get() assign() Áî®‰æÜÂà©Áî®Â≠ó‰∏≤ËÄå‰∏çÊòØËÆäÊï∏‰æÜÂ≠òÂèñÁâ©‰ª∂„ÄÇËÄå as.name() ÂèØ‰ª•Áî®‰æÜÂ∞áÂ≠ó‰∏≤ËΩâÁÇ∫ËÆäÊï∏„ÄÇ (ÂèØ‰ª•ÈÖçÂêà substitute() Âª∫Á´ã expression ÁÑ∂Âæåeval() „ÄÇ\n‰æãÂ¶Ç assign(\u0026quot;a\u0026quot;,get(\u0026quot;b\u0026quot;)) Áõ∏Áï∂Êñº a\u0026lt;-b „ÄÇ\nÊØîËºÉÂ∏∏Ë¶ãÁöÑÊñπÊ≥ïÊòØÂà©Áî®list()Ôºå‰æãÂ¶Ç\nobj\u0026lt;-list(a=1,b=2)\robj[[\u0026quot;a\u0026quot;]]\u0026lt;-otherobj[[\u0026quot;b\u0026quot;]]\r Ê≠§ÊôÇobj[[\u0026quot;a\u0026quot;]] ÊòØÂ∞çÂÖÉÁ¥†aÁöÑÂèÉËÄÉ„ÄÇ\nÊáâÁî® strsplit Âà©Áî®ÈÄóËôüÂàÜËß£,ÁÑ∂ÂæåÊèêÂèñKEY,VALUE„ÄÇ\nstr= \u0026quot;cmd=bstable,class=\\\u0026quot;d-block w-50\\\u0026quot;,style=\\\u0026quot;display:none\\\u0026quot;\u0026quot;\rstrsplit(str,\u0026quot;,\u0026quot;) #üè∑Â¶ÇÊûústr ÊòØÂ≠ó‰∏≤Èô£Âàó,ÈÇ£È∫ºNÂÄãÂ≠ó‰∏≤Â∞±ÊúÉÊúâNÂÄãÂàÜÂâ≤,ÈÄôË£°Âè™Êúâ‰∏ÄÂÄãÂàÜÂâ≤,Âõ†Ê≠§Áî¢Áîü1ÂÄãÁØÄÈªû,ÈÄôÂÄãÁØÄÈªûÊòØ3ÂÖÉÁ¥†ÁöÑÂ≠ó‰∏≤Èô£Âàó„ÄÇ\r#\u0026gt; [[1]]\r#\u0026gt; [1] \u0026quot;cmd=bstable\u0026quot; \u0026quot;class=\\\u0026quot;d-block w-50\\\u0026quot;\u0026quot; \u0026quot;style=\\\u0026quot;display:none\\\u0026quot;\u0026quot;\runlist(strsplit(str,\u0026quot;,\u0026quot;)) # üè∑Áî¢ÁîüÂêëÈáè\r#\u0026gt; [1] \u0026quot;cmd=bstable\u0026quot; \u0026quot;class=\\\u0026quot;d-block w-50\\\u0026quot;\u0026quot; \u0026quot;style=\\\u0026quot;display:none\\\u0026quot;\u0026quot;\ras.list(unlist(strsplit(str,\u0026quot;,\u0026quot;)))\r#\u0026gt; [[1]]\r#\u0026gt; [1] \u0026quot;cmd=bstable\u0026quot;\r#\u0026gt; #\u0026gt; [[2]]\r#\u0026gt; [1] \u0026quot;class=\\\u0026quot;d-block w-50\\\u0026quot;\u0026quot;\r#\u0026gt; #\u0026gt; [[3]]\r#\u0026gt; [1] \u0026quot;style=\\\u0026quot;display:none\\\u0026quot;\u0026quot;\r "},
{"uri": "/blogR//rlang/1_2_filesystem.html","title": "1.2 Ê™îÊ°àÁ≥ªÁµ±",
	"tags": [],
	"description": "ËÆÄÂèñË≥áÊñô",
	"content": "ÂàÜËß£„ÄÅÂêàÊàêÊ™îÊ°àË∑ØÂæë ÂêàÊàêË∑ØÂæë workingdir \u0026lt;- \u0026quot;work\u0026quot;\rprojectdir \u0026lt;- \u0026quot;demo\u0026quot;\rdatadir \u0026lt;- \u0026quot;data\u0026quot;\ry\u0026lt;-file.path(workingdir, projectdir, datadir)\ry\r#\u0026gt; [1] \u0026quot;work/demo/data\u0026quot;\rtypeof(y)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r ‰∏äÈù¢ÊòØwindows 10Á≥ªÁµ±‰∏äÁöÑÁµêÊûú,Âú® Linux-based ÁöÑ‰ΩúÊ•≠Á≥ªÁµ±Âü∑Ë°åÁµêÊûú‰∏ÄÊ®£,Ê≥®ÊÑèÊñúÁ∑öÈÉΩ‰∏ÄÊ®£„ÄÇ\nÂà©Áî®ÂáΩÊï∏ file.path()ÂêàÊàêÊ™îÊ°àË∑ØÂæëÔºåÂÖ∂ÂàÜÈöîÊòØÊñúÁ∑ö,ËÄå‰∏çÊòØÂèçÊñúÁ∑ö (‰æãÂ¶Çfor example C:/Program Files/R/R-3.5.1)?\nË∑ØÂæëÂàÜËß£  dirname() :ÂàÜËß£Ë∑ØÂæëÁî®Ôºå‰æãÂ¶ÇÔºÇc:/temp/text.txt\u0026quot; ÂæóÂà∞\u0026quot;c:/temp\u0026quot;Ôºå‰ΩÜÊòØ\u0026quot;c:/temp/\u0026quot;,\u0026quot;c:/temp\u0026quot;, \u0026quot;c:/temp.txt\u0026quot;ÈÉΩÂæóÂà∞\u0026quot;c:/\u0026quot;„ÄÇüòíüè∑ÊúâÊôÇÂÄôÊúâÂæåÁ∂¥\u0026quot;/\u0026quot;,ÊúâÊôÇÂÄôÊ≤íÊúâ basename()  dirname(\u0026quot;c:\\\\temp\\\\demo.txt\u0026quot;)\r#\u0026gt; [1] \u0026quot;c:/temp\u0026quot;\rbasename(\u0026quot;c:\\\\temp\\\\demo.txt\u0026quot;)\r#\u0026gt; [1] \u0026quot;demo.txt\u0026quot;\rdirname(\u0026quot;c:/temp/\u0026quot;) #üè∑üëèÊ≤íÊúâÊ≠£Á¢∫ÊãøÂá∫DIR\r#\u0026gt; [1] \u0026quot;c:/\u0026quot;\rdirname(\u0026quot;c:/temp\u0026quot;) #üè∑üëèÊ≤íÊúâÊ≠£Á¢∫ÊãøÂá∫DIR\r#\u0026gt; [1] \u0026quot;c:/\u0026quot;\r Ê™îÊ°àÁ≥ªÁµ±Áõ∏ÈóúÊìç‰Ωú  dir():ÂåÖÊã¨Ë≥áÊñôÂ§æ„ÄÅÊ™îÊ°àÂêçÁ®± list.files() : ÂÉÖÊ™îÊ°à list.dirs():ÂÉÖË≥áÊñôÂ§æ  Âà§Âà•ÊòØÂê¶ÁõÆÊ®ôÊ™îÊ°àÊàñË≥áÊñôÂ§æÂ∑≤Á∂ìÂ≠òÂú®(ÊàëÂÄë‰∏çÂ∏åÊúõÂà™Èô§ÊàñÊõ¥ÂãïÂ∑≤Á∂ìÂ≠òÂú®ÁöÑÊ™îÊ°à):\n  file.exists(\u0026quot;xx.txt\u0026quot;): ÊòØÂê¶Â≠òÂú®xx.txt\n  dir.exists(\u0026quot;xx\u0026quot;): ÊòØÂê¶Â≠òÂú®Â≠êÁõÆÈåÑxx\n  Â∑•‰ΩúÂçÄÁõ∏Èóú\n getwd() setwd() .libPaths() : ÁõÆÂâçÂ•ó‰ª∂ÂÆâË£ùÁöÑÂú∞Êñπ„ÄÇ R.Home() : ÁõÆÂâçRÂÆâË£ùÁöÑÂú∞Êñπ,‰æãÂ¶Ç\u0026quot;C:/PROGRA~1/R/R-41~1.1\u0026quot;    ÁØÑ‰æã\ncurrentwd\u0026lt;-getwd()\rsetwd(\u0026quot;~\u0026quot;) # üè∑ÈÄôÊòØ‰ΩøÁî®ËÄÖÁõÆÈåÑ,Áúã‰Ω†ÊòØÁîöÈ∫ºÁ≥ªÁµ±ËÄåÂÆö,ÊàëÁöÑÊòØwindows\rgetwd()\r#\u0026gt; [1] \u0026quot;C:/Users/you/Documents\u0026quot;\rsetwd(currentwd)\rpath.expand(\u0026quot;~\u0026quot;) # üè∑üëèÂ±ïÈñãË∑ØÂæë~\rR.home()\rlibPaths()\rlist.files(R.home()) #:ÂèØ‰ª•ÂàóÂá∫RÁöÑÂÆâË£ùÁöÑ‰ΩçÁΩÆ,ÁÑ∂Âæålist.files()ÂàóÂá∫Ê™îÊ°à\rlist.dirs(R.home(\u0026quot;doc\u0026quot;))\rlist.dirs(R.home(\u0026quot;doc\u0026quot;), full.names = FALSE)\r## Âú®‰ΩøÁî®ËÄÖÊåáÂÆöÁöÑÁõÆÈåÑ,ÂàóÂá∫ Ê™îÊ°àÁöÑÈñãÈ†≠ÊòØ aÂà∞l Êàñ r„ÄÇ\rdir(\u0026quot;../..\u0026quot;, pattern = \u0026quot;^[a-lr]\u0026quot;, full.names = TRUE, ignore.case = TRUE)\r Á∑¥Áøí ÊåâÁÖß‰∏äÈù¢ÁöÑÁµêÊûú,Â¶ÇÊûúÊàëË¶ÅÂà§Êñ∑ÊàëÊãøÂà∞ÊòØÊ™îÊ°àËÄå‰∏çÊòØË≥áÊñôÂ§æ,ÊÄéÈ∫ºÂÅö?ÊèêÁ§∫\r file.exists(f) \u0026amp;\u0026amp; !dir.exists(f)\r \rÂïèÈ°å: Âà©Áî®.libPaths() „ÄÅ list.files()ÂïèÈ°å:ÂàóÂá∫ÊâÄÊúâÂ•ó‰ª∂ÊèêÁ§∫\r list.files(.libPaths())\r \rÊìç‰ΩúÊ™îÊ°àÁ≥ªÁµ±   Êö´ÊôÇÂ≠êÁõÆÈåÑÁöÑË∑ØÂæëtempdir()ÔºåÊö´ÊôÇÊ™îÊ°àtempfile()\n ÂáΩÊï∏ tempfile() ‰∏çÊòØÁúüÊ≠£ÁöÑÂª∫Á´ãÊñ∞Ê™îÊ°à,ËÄåÊòØÂú®ÁõÆÂâçÁöÑr session‰∏≠Èö®Ê©üÁî¢ÁîüÂîØ‰∏ÄÊ™îÊ°àÂêçÁ®±ÔºåÊ™îÊ°à‰ΩçÁΩÆÈ†êË®≠ÊòØÂú®Êö´ÊôÇÂ≠êÁõÆÈåÑ‰∏≠„ÄÇ  mydirname \u0026lt;- tempfile(pattern = \u0026quot;mydir\u0026quot;)\rmydirname\r#\u0026gt; C:\\\\Users\\\\‰ΩøÁî®ËÄÖÂêçÁ®±\\\\AppData\\\\Local\\\\Temp\\\\RtmpSg2qRA\\\\mydir326845a02140\r     ÂáΩÊï∏ file.exists() ÂèØ‰ª•Áî®‰æÜÁü•ÈÅìÊ™îÊ°àÊòØÂê¶Â≠òÂú®,\n  ÂáΩÊï∏ dir() Áî®‰æÜÂàóÂá∫Â≠êÁõÆÈåÑ‰∏≠ÁöÑÊ™îÊ°à,‰æãÂ¶Çdir(tempdir())\n  \rÁØÑ‰æã\rs\u0026lt;-\u0026quot;C:\\\\Users\\\\‰ΩøÁî®ËÄÖÂêçÁ®±\\\\AppData\\\\Local\\\\Temp\u0026quot;\rdir(s)\r    Âª∫Á´ãÁõÆÈåÑ dir.create Âª∫Á´ãÂ≠êÁõÆÈåÑ\ndir.create(mydirname) file.exists(mydirname) # ‰∏äÈù¢Êåá‰ª§Âª∫Á´ãÁöÑÂ≠êÁõÆÈåÑÊòØÂê¶Â≠òÂú®\rdir(tempdir(), full.names = TRUE) #ÂàóÂá∫ÁõÆÂâçÂ≠êÁõÆÈåÑÂÖßÂÆπ(ÂÖ®Âêç)\rfile.mtime(mydirname) #Â≠êÁõÆÈåÑÂª∫Á´ãÊôÇÈñì,make time\r ÁµêÊûú\n[1] TRUE [1] \u0026quot;C:\\\\Users\\\\xxx\\\\AppData\\\\Local\\\\Temp\\\\RtmpIp3ZiD/file87e8755a1876\u0026quot; [2] \u0026quot;C:\\\\Users\\\\xxx\\\\AppData\\\\Local\\\\Temp\\\\RtmpIp3ZiD/mydir87e86b51384d\u0026quot; [3] \u0026quot;C:\\\\Users\\\\xxx\\\\AppData\\\\Local\\\\Temp\\\\RtmpIp3ZiD/rs-graphics-0f3f81af-32b7-49c4-a272-ad1a859f222f\u0026quot; [1] \u0026quot;2018-10-25 23:42:51 CST\u0026quot;\r RÁ≥ªÁµ±Ê™îÊ°àÂàóË°® Â¶ÇÊûúË¶ÅËßÄÂØüÂÆâË£ùÂ•ó‰ª∂ÁöÑÊ™îÊ°à‰ΩçÁΩÆ,ÂèØ‰ª•‰ΩøÁî®Êåá‰ª§system.file(),ÈÄôÂÄãÊåá‰ª§ÂèØ‰ª•ÂàóÂá∫ÂÖßÂª∫ÊüêÂÄãÂ•óÂª∫ÁöÑÂÖ®Ë∑ØÂæë„ÄÇ‰æãÂ¶Ç,\nsystem.file(package = \u0026quot;stats\u0026quot;)\r# \u0026gt; [1] \u0026quot;C:/PROGRA~1/R/R-3.5.1/library/stats\u0026quot;\rsystem.file() üè∑Âü∫Êú¨Â•ó‰ª∂Ë∑ØÂæë\r# \u0026gt; [1] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/base\u0026quot; .libPaths() üè∑Âè¶Â§ñÂÆâË£ùÁöÑÂ•ó‰ª∂Ë∑ØÂæë\r# \u0026gt; [1] \u0026quot;C:/Users/you/Documents/R/win-library/4.1\u0026quot;\r# \u0026gt; [2] \u0026quot;C:/Program Files/R/R-4.1.1/library\u0026quot;\r system.file()ÁöÑÁµêÊûúÊòØ‰∏ÄÂÄãÁõÆÈåÑ,Âõ†Ê≠§ÂèØ‰ª•Âà©Áî®dir()ÂàóÂá∫Â•ó‰ª∂stats‰∏≠,ÊâÄÊúâÁöÑÊ™îÊ°à\ndir(system.file(package = \u0026quot;stats\u0026quot;))\r#\u0026gt; [1] \u0026quot;COPYRIGHTS.modreg\u0026quot; \u0026quot;demo\u0026quot; \u0026quot;DESCRIPTION\u0026quot; #\u0026gt; [4] \u0026quot;help\u0026quot; \u0026quot;html\u0026quot; \u0026quot;INDEX\u0026quot; #\u0026gt; [7] \u0026quot;libs\u0026quot; \u0026quot;Meta\u0026quot; \u0026quot;NAMESPACE\u0026quot; #\u0026gt; [10] \u0026quot;R\u0026quot; \u0026quot;SOURCES.ts\u0026quot;  ‰∏äÈù¢ÂèØ‰ª•ÁúãÂà∞Â•ó‰ª∂‰∏≠ÂåÖÂê´Â≠êÁõÆÈåÑdemoÔºåÂ¶ÇÊûúÈÇÑË¶ÅÊü•Áúãdemo‰∏≠ÁöÑÊ™îÊ°àÂÖßÂÆπ:\ndir(system.file(\u0026quot;demo\u0026quot;, package = \u0026quot;stats\u0026quot;))\r#\u0026gt; [1] \u0026quot;glm.vr.R\u0026quot; \u0026quot;lm.glm.R\u0026quot; \u0026quot;nlm.R\u0026quot; \u0026quot;smooth.R\u0026quot;\r ‰∏äÈù¢Âè™ÊúâÊ™îÊ°àÂêçÁ®±,Â¶ÇÊûúË¶ÅÁúãÂÖ®Ë∑ØÂæëÔºåÂèØ‰ª•Âà©Áî®ÂèÉÊï∏full.names:\ndir(system.file(\u0026quot;demo\u0026quot;, package = \u0026quot;stats\u0026quot;), full.names = TRUE)\r#\u0026gt; [1] \u0026quot;/usr/lib64/R/library/stats/demo/glm.vr.R\u0026quot;\r#\u0026gt; [2] \u0026quot;/usr/lib64/R/library/stats/demo/lm.glm.R\u0026quot;\r#\u0026gt; [3] \u0026quot;/usr/lib64/R/library/stats/demo/nlm.R\u0026quot; #\u0026gt; [4] \u0026quot;/usr/lib64/R/library/stats/demo/smooth.R\u0026quot;\r ÊáâÁî®ÁØÑ‰æã ÂàóÂá∫ÁõÆÂâçÂ∑•‰ΩúÁõÆÈåÑ‰∏äÁöÑÊ™îÊ°à x \u0026lt;- dir()\rfor (item in x) {\rprint(item) # show(item) }\r ÊàñËÄÖ,ÂÉÖÂàóÂá∫ÂâçÂπæÂÄãÊ™îÊ°à\nx\u0026lt;-dir()\rhead(x)\r Ê™¢Êü•Âú®ÁõÆÂâçÁöÑÂ∑•‰ΩúÁõÆÈåÑ‰∏ã,ÊòØÂê¶Â≠òÂú®‰ΩøÁî®ËÄÖÂÇ≥ÈÅûÈÄ≤‰æÜÁöÑÁõÆÈåÑ? ‰æãÂ¶Ç\nfolderlist\u0026lt;-c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;c\u0026quot;)\rcheckdir(folderlist)  üìù Âà©Áî®file.exists()\n\r\rÈÄ≤Èöé use RStudio to open the file if possible\nopen_file = function(x, open = interactive(), line = -1L) {\rif (open) tryCatch(rstudioapi::navigateToFile(x, line), error = function(e) file.edit(x))\r}\r pkg_file = function(..., mustWork = TRUE) {\rsystem.file(..., package = 'blogdown', mustWork = mustWork)\r}\r# tempfile under the current working directory\rwd_tempfile = function(..., pattern = '') {\rbasename(tempfile(pattern, '.', ...))\r}\r# only copy files/dirs if they exist\rfile.copy2 = function(from, to, ...) {\ri = file.exists(from); from = from[i]\rif (length(from) == 0) return()\rif (length(to) \u0026gt; 1) {\rto = to[i]\rif (length(unique(to)) == 1) to = unique(to)\r}\rif (length(to) == 1) {\rfile.copy(from, to, ...)\r} else mapply(file.copy, from, to, ...)\r}\rdir_rename = function(from, to, clean = FALSE) {\rif (!dir_exists(from)) return()\rif (clean) unlink(to, recursive = TRUE)\rdir_create(dirname(to))\r# I don't know why file.rename() might fail, but if it fails, fall back to\r# file.copy(): https://github.com/rstudio/blogdown/issues/232\rsuppressWarnings(file.rename(from, to)) || {\rfile.copy(from, dirname(to), recursive = TRUE) \u0026amp;\u0026amp; unlink(from, recursive = TRUE)\r}\r}\rdirs_rename = function(from, to, ...) {\rn = length(from); if (n == 0) return()\rif (length(to) != n) stop(\r'The number of source dirs must be equal to the number of target dirs'\r)\rfor (i in seq_len(n)) dir_rename(from[i], to[i], ...)\r}\r# relative path with '/' as the path separator\rrel_path = function(x) {\rxfun::relative_path(xfun::normalize_path(x))\r}\r# change the default of full.names and recursive in list.files() because these\r# values are used much more frequently than the original defaults\rlist_files = function(..., full.names = TRUE, recursive = TRUE) {\rlist.files(..., full.names = full.names, recursive = recursive, no.. = TRUE)\r}\r "},
{"uri": "/blogR//rlang/11_00_sampling.html","title": "11. sampling",
	"tags": [],
	"description": "Âü∫Êú¨ÊäΩÊ®£",
	"content": "Sample and Distribution 01 N\u0026lt;-100\rpop\u0026lt;-rnorm(N,5,2)\rrndno\u0026lt;-as.integer(runif(N)*N)+1\rsmp\u0026lt;-pop[rndno]\rss\u0026lt;-summary(smp)\rs1\u0026lt;-hist(smp)\rrug(quantile(smp), col=2, lwd=2.5)\rplot(s1$mids,s1$density,type=\u0026quot;s\u0026quot;) #quiz:barplot??\rs2\u0026lt;-hist(pop)\rplot(s1,col=\u0026quot;red\u0026quot;)\rlines(s2,col=\u0026quot;blue\u0026quot;)  ÂÖßÂª∫Èö®Ê©üÊäΩÊ®£ ÂáΩÊï∏sample(x,n,replace=FALSE ). ÂÖ∂‰∏≠xÁÇ∫Ë¶ÅÊäΩÂèñÁöÑÂêëÈáè, nÁÇ∫Ê®£Êú¨ÂÆπÈáè. replace È†êË®≠ÁÇ∫false\n no replacement, Á≠âÊ©üÁéá:  ‰æãÂ¶ÇÂæû52ÂºµÊí≤ÂÖãÁâå‰∏≠ÊäΩÂèñ5Âºµ:\nsample(1:52, 5)\r#\u0026gt; [1] 15 7 10 12 23\r replacement: ‰æãÂ¶ÇÊãã‰∏ÄÊûöÂùáÂãªÁöÑÁ°¨Âπ£10Ê¨°  sample(c(\u0026quot;H\u0026quot;, \u0026quot;T\u0026quot;), 10, replace=T)\r#\u0026gt; [1] \u0026quot;T\u0026quot; \u0026quot;H\u0026quot; \u0026quot;T\u0026quot; \u0026quot;H\u0026quot; \u0026quot;T\u0026quot; \u0026quot;T\u0026quot; \u0026quot;H\u0026quot; \u0026quot;T\u0026quot; \u0026quot;T\u0026quot; \u0026quot;H\u0026quot;\r Á∑¥Áøí:‰∏ÄÊ£µÈ™∞Â≠êÊì≤10Ê¨°ÂèØË°®Á§∫ÁÇ∫:\n‰∏çÁ≠âÂèØËÉΩÁöÑÈö®Ê©üÊäΩÊ®£: sample(x, n, replace=TRUE, prob=y) prob=yÊåáÂÆöx‰∏≠ÂÖÉÁ¥†Âá∫ÁèæÁöÑÊ¶ÇÁéá, ÂêëÈáèyËàáxÁ≠âÈï∑Â∫¶. ‰æãÂ¶Ç‰∏ÄÂ®ÉÂ®ÉÊ©üÂèñÂá∫ÊàêÂäüÁöÑÊ¶ÇÁéáÁÇ∫0.6, ÈÇ£È∫º10Ê¨°ÁöÑË©¶È©óÁÇ∫:  sample(c(\u0026quot;sucess\u0026quot;, \u0026quot;fail\u0026quot;), 10, replace=T, prob=c(0.6,0.4))\r#\u0026gt; [1] \u0026quot;sucess\u0026quot; \u0026quot;sucess\u0026quot; \u0026quot;fail\u0026quot; \u0026quot;sucess\u0026quot; \u0026quot;sucess\u0026quot; \u0026quot;fail\u0026quot; \u0026quot;fail\u0026quot; \u0026quot;sucess\u0026quot;\r#\u0026gt; [9] \u0026quot;sucess\u0026quot; \u0026quot;fail\u0026quot;\r ÊéíÂàóÁµÑÂêàËàáÊ¶ÇÁéáÁöÑË®àÁÆó ‰æã Âæû‰∏ÄÂâØ52ÂºµÊí≤ÂÖã‰∏≠Âèñ4Âºµ, Ê±Ç‰ª•‰∏ã‰∫ã‰ª∂ÁöÑÊ¶ÇÁéá:\n ÊäΩÂèñÁöÑ4Âºµ‰æùÊ¨°ÁÇ∫Á¥ÖÂøÉAÔºåÊñπÂ°äAÔºåÈªëÊ°ÉAÂíåÊ¢ÖËä±AÁöÑÊ¶ÇÁéá; ‰∏ÄÊ¨°ÊäΩÂèñ4ÂºµÁÇ∫Á¥ÖÂøÉAÔºåÊñπÂ°äAÔºåÈªëÊ°ÉAÂíåÊ¢ÖËä±AÁöÑÊ¶ÇÁéá.  Ëß£\n ÊäΩÂèñÁöÑ4ÂºµÊòØÊúâÊ¨°Â∫èÁöÑ, Âõ†Ê≠§‰ΩøÁî®ÊéíÂàó‰æÜÊ±ÇËß£. ÊâÄÊ±ÇÁöÑ‰∫ã‰ª∂(Ë®òÁÇ∫A)Ê¶ÇÁéáÁÇ∫ ($P(A)=\\frac{1}{52 \\times 51 \\times 50 \\times 49}$) Âà©Áî®RÂáΩÊï∏  1/prod(52:49)\r#\u0026gt; [1] 1.539077e-07\r Ê≤íÊúâÊ¨°Â∫èÁöÑ, ÂèØ‰ª•‰ΩøÁî®ÁµÑÂêàÊï∏‰æÜÊ±ÇËß£.  $$ P(B)=\\frac{1}{(52,4)} $$\nÂÖ∂‰∏≠ ($(n,m)=\\frac{n!}{m!(n-m)!}$),ÂèØ‰ª•Âà©Áî®ÂáΩÊï∏choose(),‰æãÂ¶Ç\n1/choose(52,4)\r#\u0026gt; [1] 3.693785e-06\r distribution Ê®ôÊ∫ñË°®Ê†º‰∏ä‰∏ãÊ≤íÊúâÁ∑öÊ¢ù,Â∑¶Âè≥Êúâ\n   ÂêçÁ®± RÂáΩÊï∏ ÈÅ∏È†Ö     beta beta shape1, shape2   binomial binom size, prob   Cauchy cauchy location=0, scale=1   chi-sqaured ($\\chi^2$) chisq df, ncp   exponential exp rate   Fisher (F) f df1, df2, ncp   gamma gamma shape, scale=1   geometric geom prob   hypergeometric hyper m, n, k   lognormal lnorm meanlog=0, sdlog=1   logistic logis location=0, scale=1   multinomial multinom size, prob   normal norm mean=0, sd=1   negative binomial nbinom size, prob   Poisson pois lambda   Student‚Äôs (t) t df   uniform unif min=0, max=1   Weibull weibull shape, scale=1   Wilcoxon‚Äôs statistics wilcox m, n    signrank n    Â∞çÊñºÊâÄÁµ¶ÁöÑÂàÜ‰ΩàÂêçÁ®±ÔºåÊúâÂõõÈ°û„ÄÇ\n‰ª•funcÁÇ∫‰æãÔºå ÂõõÈ°ûÂáΩÊï∏ÁöÑÂ∞çÊáâÁÇ∫:\n „Äåd„ÄçÊ¶ÇÁéáÂØÜÂ∫¶ÂáΩÊï∏: dfunc(x, p1, p2, ...), xÁÇ∫Êï∏ÂÄºÂêëÈáè; „Äåp„Äç(Á¥ØÁ©ç)ÂàÜ‰ΩàÂáΩÊï∏: pfunc(q, p1, p2, ...), qÁÇ∫Êï∏ÂÄºÂêëÈáè; „Äåq„ÄçÂàÜ‰ΩçÊï∏ÂáΩÊï∏: qfunc(p, p1, p2, ...), pÁÇ∫Áî±Ê¶ÇÁéáÊßãÊàêÁöÑÂêëÈáè; „Äår„ÄçÈö®Ê©üÊï∏ÂáΩÊï∏: rfunc(n, p1, p2, ...), nÁÇ∫ÁîüÊàêÊï∏ÊìöÁöÑÂÄãÊï∏  ÈÄôÂõõÈ°ûÂáΩÊï∏ÁöÑÁ¨¨‰∏ÄÂÄãÂèÉÊï∏ÊòØÊúâË¶èÂæãÁöÑ: ÂΩ¢ÁÇ∫dfuncÁöÑÂáΩÊï∏ÁÇ∫xÔºåpfuncÁöÑÂáΩÊï∏ÁÇ∫qÔºåqfuncÁöÑÂáΩÊï∏ÁÇ∫pÔºårfuncÁöÑÂáΩÊï∏ÁÇ∫n\nnote: (‰ΩÜrhyperÂíårwilcoxÊòØÁâπ‰æãÔºå‰ªñÂÄëÁöÑÁ¨¨‰∏ÄÂÄãÂèÉÊï∏ÁÇ∫nn). Èùû‰∏≠ÂøÉÂèÉÊï∏(non-centrality parameter)ÂÉÖÂ∞çCDFÂíå Â∞ëÊï∏ÂÖ∂ÂÆÉÂπæÂÄãÂáΩÊï∏ÊúâÊïà.\n$$ \\frac{{\\sum\\limits_{i = 1}^n {{x_i} - n\\mu } }}{{\\sqrt {n{\\sigma ^2}} }} \\sim N(0,1) $$\n$$ \\bar X = \\frac{{\\sum_{i = 1}^n {{x_i} } }}{n} \\sim N(\\mu, \\sigma^2/n) $$\nuniform a~b\n$$\\mu = (a+b)/2$$\n$$\\sigma^2=\\frac{(b-a)^2}{12} $$\ndataÁöÑÊØè‰∏ÄÂÄãROWÊúâsample size (=i=column)\nÂÖ±1000Ê¨°(=N=row)\nN=1000 i=3 #sample size\rmu=0.5\rsigma=1/sqrt(12)\rdata\u0026lt;-matrix(runif(i*N),ncol=i)\rrs\u0026lt;-rowSums(data)\rrs\u0026lt;-rs/i\rz\u0026lt;-(rs-mu)/(sigma/sqrt(i))\rhist(z)\rlines(density(z), col = 'red', lwd = 3)\rx\u0026lt;-z\rcurve(dnorm(x), col = 'blue', lwd = 3, lty = 3, add = T)\rrug(sample(z,100))\r limite.central \u0026lt;-\rfunction (r = runif, distpar = c(0, 1), m = .5, s = 1 / sqrt(12), n = c(1, 3, 10, 30), N = 1000) {\rfor (i in n) {\rif (length(distpar) == 2) {\rx \u0026lt;-matrix(r(i * N, distpar[1], distpar[2]), nc = i)\r} else {\rx \u0026lt;-matrix(r(i * N, distpar), nc = i)\r}\rx \u0026lt;-(apply(x, 1, sum) - i * m) / (sqrt(i) * s)\rhist(x, col = 'light blue', probability = T, main = paste(\u0026quot;n=\u0026quot;, i),\rylim = c(0, max(.4, density(x) $y)))\rlines(density(x), col = 'red', lwd = 3)\rcurve(dnorm(x), col = 'blue', lwd = 3, lty = 3, add = T)\rif (N \u0026gt; 100) {\rrug(sample(x, 100))\r} else {\rrug(x)\r}\r}\r}\rop \u0026lt;- par(mfrow=c(2,2))\rlimite.central(rbinom, distpar=c(10 ,0.1), m=1, s=0.9)\rpar(op)\r  apply(x,1,sum) Á¨¨2ÂÄãÂèÉÊï∏1Ë°®Á§∫row ÊñπÂêë,Â¶ÇÊûúÊòØ2Ë°®Á§∫column Âíåmatlab Áõ∏Âèç„ÄÇ  "},
{"uri": "/blogR//rlang/13_0_eco_01_intro.html","title": "13. Econometrics",
	"tags": [],
	"description": "Âü∫Êú¨Ë®àÈáè",
	"content": "package recommended package foreign ÂèØ‰ª•Áî®‰æÜÂ∞éÂÖ•Â§ñÈÉ®Ë≥áÊñô‰æãÂ¶ÇÔºå\n stata ÁöÑË≥áÊñô dta, SPSS SAS Systat Mini tab . mtp  Âà©Áî®foreignËÆÄÂÖ•stata ÁöÑË≥áÊñôÊ™îÔºö\nrequire(foreign)\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºöforeign\raffairs\u0026lt;- read.dta(\u0026quot;http://fmwww.bc.edu/ec-p/data/wooldridge/affairs.dta\u0026quot;)\rsave(affairs,file='./resources/affairs.RData')\r Ê∏¨Ë©¶\nrm(affairs)\rload('./resources/affairs.RData')\rhead(affairs)\r#\u0026gt; id male age yrsmarr kids relig educ occup ratemarr naffairs affair vryhap\r#\u0026gt; 1 4 1 37 10.0 0 3 18 7 4 0 0 0\r#\u0026gt; 2 5 0 27 4.0 0 4 14 6 4 0 0 0\r#\u0026gt; 3 6 1 27 1.5 0 3 18 4 4 3 1 0\r#\u0026gt; 4 11 0 32 15.0 1 1 12 1 4 0 0 0\r#\u0026gt; 5 12 0 27 4.0 1 3 17 1 5 3 1 1\r#\u0026gt; 6 16 1 57 15.0 1 5 18 6 5 0 0 1\r#\u0026gt; hapavg avgmarr unhap vryrel smerel slghtrel notrel\r#\u0026gt; 1 1 0 0 0 0 1 0\r#\u0026gt; 2 1 0 0 0 1 0 0\r#\u0026gt; 3 1 0 0 0 0 1 0\r#\u0026gt; 4 1 0 0 0 0 0 0\r#\u0026gt; 5 0 0 0 0 0 1 0\r#\u0026gt; 6 0 0 0 1 0 0 0\r "},
{"uri": "/blogR//rlang/14_00_sim_1.html","title": "14. simulation 1",
	"tags": [],
	"description": "Âü∫Êú¨Ê®°Êì¨",
	"content": "basic dnorm : PDF pnorm : CDF qnorm : inverse CDF rnorm : random\ncdf z_scores \u0026lt;- seq(-3, 3, by = .1)\rpvalues \u0026lt;- pnorm(z_scores)\r# Now we'll plot these values\rplot(pvalues, # Plot where y = values and x = index of the value in the vector\rxaxt = \u0026quot;n\u0026quot;, # Don't label the x-axis\rtype = \u0026quot;l\u0026quot;, # Make it a line plot\rmain = \u0026quot;cdf of the Standard Normal\u0026quot;,\rxlab= \u0026quot;Quantiles\u0026quot;,\rylab=\u0026quot;Probability Density\u0026quot;) # These commands label the x-axis\raxis(1, at=which(pvalues == pnorm(-2)), labels=round(pnorm(-2), 2))\raxis(1, at=which(pvalues == pnorm(-1)), labels=round(pnorm(-1), 2))\raxis(1, at=which(pvalues == pnorm(0)), labels=c(.5))\raxis(1, at=which(pvalues == pnorm(1)), labels=round(pnorm(1), 2))\raxis(1, at=which(pvalues == pnorm(2)), labels=round(pnorm(2), 2))\r üëç axis‰∏ãÂ∑¶‰∏äÂèà(1,2,3,4) Á¨¨2ÂÄãÂèÉÊï∏Áî®ÁöÑÊòØË¶ÅÈ°ØÁ§∫ÁöÑËôüÁ¢ºÂÄº,Â∞çÊ®£ÊØèÂÄãÊ®£Êú¨Èªû„ÄÇ Â¶ÇÊûúÊòØx,y plotÈÄôÂÄãaxis()ÁÑ°‰ΩúÁî®,ÈÄôË£°Âè™Áî®Âà∞Y„ÄÇ\npdf z_scores \u0026lt;- seq(-3, 3, by = .1)\rdvalues \u0026lt;- dnorm(z_scores)\rplot(dvalues, # Plot where y = values and x = index of the value in the vector\rxaxt = \u0026quot;n\u0026quot;, # Don't label the x-axis\rtype = \u0026quot;l\u0026quot;, # Make it a line plot\rmain = \u0026quot;pdf of the Standard Normal\u0026quot;,\rxlab= \u0026quot;Z-score\u0026quot;) # These commands label the x-axis\raxis(1, at=which(dvalues == dnorm(0)), labels=c(0))\raxis(1, at=which(dvalues == dnorm(1)), labels=c(-1, 1))\raxis(1, at=which(dvalues == dnorm(2)), labels=c(-2, 2))\r pnorm pnorm(2) ## [1] 0.9772499\r#\u0026gt; [1] 0.9772499\rpnorm(2, mean = 5, sd = 3) ## [1] 0.1586553\r#\u0026gt; [1] 0.1586553\rpnorm(2, mean = 5, sd = 3, lower.tail = FALSE)\r#\u0026gt; [1] 0.8413447\r compare oldpar \u0026lt;- par()\rpar(mfrow=c(1,2))\rz_scores \u0026lt;- seq(-3, 3, by = .1)\rpvalues \u0026lt;- pnorm(z_scores)\rquantiles \u0026lt;- seq(0, 1, by = .05)\rqvalues \u0026lt;- qnorm(quantiles)\r# Plot the z_scores\rplot(qvalues,\rtype = \u0026quot;l\u0026quot;, # We want a line graph\rxaxt = \u0026quot;n\u0026quot;, # No x-axis\rxlab=\u0026quot;Probability Density\u0026quot;,\rylab=\u0026quot;Z-scores\u0026quot;)\r# Same pnorm plot from before\rplot(pvalues, # Plot where y = values and x = index of the value in the vector\rxaxt = \u0026quot;n\u0026quot;, # Don't label the x-axis\rtype = \u0026quot;l\u0026quot;, # Make it a line plot\rmain = \u0026quot;cdf of the Standard Normal\u0026quot;,\rxlab= \u0026quot;Quantiles\u0026quot;,\rylab=\u0026quot;Probability Density\u0026quot;) # These commands label the x-axis\raxis(1, at=which(pvalues == pnorm(-2)), labels=round(pnorm(-2), 2))\raxis(1, at=which(pvalues == pnorm(-1)), labels=round(pnorm(-1), 2))\raxis(1, at=which(pvalues == pnorm(0)), labels=c(.5))\raxis(1, at=which(pvalues == pnorm(1)), labels=round(pnorm(1), 2))\raxis(1, at=which(pvalues == pnorm(2)), labels=round(pnorm(2), 2))\r  qnorm(0.95) ? ‰∏ÄÂÄãÊ®ôÊ∫ñÂ∑ÆÂç†‰∫Ü‰Ωî‰∫ÜÂ§öÂ∞ëÁôæÂàÜÊØî?  \r\r\rhint\r1. zscore of 95 percent 1. percent\u0026lt;-pnorm(1)-pnorm(-1) simulate 1    Ë∫´È´ò Â•≥Áîü Áî∑Áîü      1 0   Âπ≥Âùá 180 170   Ê®ôÊ∫ñÂ∑Æ 10 10    fn_num\u0026lt;-100\rfh\u0026lt;-rnorm(fn_num,180,10)\rfm\u0026lt;-rnorm(200-fn_num,170,10)\rheight\u0026lt;-c(fh,fm)\rsex\u0026lt;-c(rep(1,fn_num),rep(0,200-fn_num))\rr1\u0026lt;-tapply(height, sex,mean)\rr1\r#\u0026gt; 0 1 #\u0026gt; 169.8143 180.9832\r fn_num_set\u0026lt;-sample(1:199,1000,replace=T) #ÂÖàÊäΩÂá∫femaleÁöÑÂÄãÊï∏\rrst\u0026lt;-matrix(rep(0,2000),ncol=2) #ÊØè‰∏ÄÊ¨°ÊäΩÊ®£Áî∑Áîü/Â•≥ÁîüÁöÑÂπ≥ÂùáÂÄº\rfor(idx in 1:1000)\r{\rfn_num \u0026lt;-fn_num_set[idx]\rfh\u0026lt;-rnorm(fn_num,180,10)\rfm\u0026lt;-rnorm(200-fn_num,170,10)\rheight\u0026lt;-c(fh,fm)\rsex\u0026lt;-c(rep(1,fn_num),rep(0,200-fn_num))\rr1\u0026lt;-tapply(height, sex,mean)\rrst[idx,1]=r1[1]\rrst[idx,2]=r1[2]\r}\rsummary(rst)\r#\u0026gt; V1 V2 #\u0026gt; Min. :158.6 Min. :171.0 #\u0026gt; 1st Qu.:169.2 1st Qu.:179.3 #\u0026gt; Median :170.0 Median :180.0 #\u0026gt; Mean :170.0 Mean :180.0 #\u0026gt; 3rd Qu.:170.8 3rd Qu.:180.7 #\u0026gt; Max. :182.0 Max. :201.0\r ‰∏ãÈù¢ÈÄôÂÄã,Â•ΩÂÉèÂú®rmarkdown Áï´‰∏çÂá∫‰æÜ unknown reason !!\nalist\u0026lt;-list(rst[,1],rst[,2])\rdinfo\u0026lt;-lapply(alist,density)\rt1\u0026lt;-sapply(dinfo,function(item){range(item$x)})\rrx\u0026lt;-range(t1)\rt2\u0026lt;-sapply(dinfo,function(item){range(item$y)})\rry\u0026lt;-range(t2)\rplot(dinfo[[1]], xlim = rx, ylim = ry, main = \u0026quot;\u0026quot;)\rfor(i in 1:length(dinfo)) {\rlines(dinfo[[i]], xlim = rx, ylim = ry, col = i)\r}  ËΩâÂáΩÊï∏\nÁ∏ΩÈ´îËÄåË®ÄÔºåËΩâÊàêÂáΩÊï∏ÁöÑËÄÉÊÖÆÂ∞±ÊòØÂ¶Ç‰ΩïÈÅøÂÖçhard coding„ÄÇ\nplot.multi.density\u0026lt;-function (alist)\r{\rdinfo\u0026lt;-lapply(alist,density)#ÊØèÁµÑË≥áÊñôÔºåÊ±Çdensity\r# ÊØèÁµÑË≥áÊñôÁöÑxÁØÑÂúç\rt1\u0026lt;-sapply(dinfo,function(item){range(item$x)})\rrx\u0026lt;-range(t1)\r# ÊØèÁµÑË≥áÊñôÁöÑyÁØÑÂúç\rt2\u0026lt;-sapply(dinfo,function(item){range(item$y)})\rry\u0026lt;-range(t2)\rplot(dinfo[[1]],xlim = rx, ylim = ry, main = \u0026quot;\u0026quot;)\rfor(i in 1:length(dinfo)) {\rlines(dinfo[[i]],xlim = rx, ylim = ry, col = i)\r} }  Ë®éË´ñÔºö‰∏äÈù¢ÂáΩÊï∏ÁöÑÈôêÂà∂Ôºü Á¨¨‰∏ÄÂÄãÈôêÂà∂ÔºåÂÖàÁúãÁúãÊúâÊ≤íÊúâÈ†êË®≠ÁµÑÂà•\nÂïèÈ°åÔºöÂ¶ÇÊûúË¶ÅÂä†‰∏äÂçÄÂüüÈ°èËâ≤Ôºü Á∞°ÂñÆ‰∏ÄÈªûÁöÑË©±ÔºåÂèØ‰ª•Áî®ÈÅ∏È†Ötype=\u0026quot;h\u0026quot;, (plot, lineÂÖ©ÂÄãÂáΩÊï∏ÈÉΩÂêÉ)\nÊáâÁî®Ëá™Â∑±ÁöÑÂáΩÊï∏\nalist\u0026lt;-list(rst[,1],rst[,2])\rplot.multi.density(alist)\r ‰∏äÈù¢ÁöÑÂáΩÊï∏ÔºåÈ†êË®≠ÂèÉÊï∏ÊòØÂÇ≥ÂÖ•‰ΩøÁî®ËÄÖÊåáÂÆöÁöÑlistÔºåË£°Èù¢Êúâ‰ΩøÁî®ËÄÖÊåáÂÆöÁöÑÁµÑÂà• ‰ΩÜÊòØÂ¶ÇÊûúÂõ†ÁÇ∫ÈúÄË¶ÅÔºåÁôºÁèæÂÇ≥ÂÖ•Áü©Èô£ÊØîËºÉÊñπ‰æøÔºà‰æãÂ¶ÇÊØè‰∏ÄÂÄãÊ¨Ñ‰Ωç‰ª£Ë°®ÊØè‰∏ÄÁµÑÁöÑÊ®°Êì¨ÁµêÊûúÔºåÈÇ£Ê®£ÊÄéÊ®£ÈÅøÂÖçhard coding?\nelist\u0026lt;-vector(\u0026quot;list\u0026quot;,ncol(rst))#ÊåáÂÆöÂ§ßÂ∞èÁöÑlist,Â¶ÇÊûúÁ©∫ÈõÜÂêàelist\u0026lt;-list()\rfor(i in 1:ncol(rst)){\relist[[i]]\u0026lt;-rst[,i] #Ê≥®ÊÑèÈõôÊã¨Ëôü\r}\r ‰πãÂâçÊúâÊèêÈÅéÔºåÂ§ßÈÉ®ÂàÜÁöÑÊñá‰ª∂ÈÉΩÊòØË™™ÂñÆ/ÈõôÊã¨ËôüÁöÑÂ∑ÆÂà•ÊòØÂâçËÄÖÊãøÂà∞ÁöÑ‰ªçÁÑ∂ÊòØlist,ÂæåËÄÖÊãøÂà∞ÁöÑÊòØÂÖßÂÆπ„ÄÇ ‰ΩÜÊòØ‰ª•Á®ãÂºèË™ûË®ÄÁöÑÁúºÂÖâ‰æÜÁúãÔºåÊàëÂÄëÂÖàË™™Âá°ÊòØÈô£ÂàóÔºåÂÖ∂ÂÖÉÁ¥†ÁöÑÂûãÊÖãÈÉΩÂè™ËÉΩÊîæ‰∏ÄÊ®£Ôºà‰πüÂ∞±ÊòØÂ§ßÂ∞èÂõ∫ÂÆöÔºâÔºå‰ΩÜÊòØÁèæÂú®listÁöÑÂÖÉÁ¥†ÂûãÊÖãÂèØ‰ª•‰∏çÂñÆ‰∏ÄÔºåÂõ†Ê≠§ÔºåÁ∑®Ë≠ØÂô®ÁÑ°Ê≥ïÁü•ÈÅìÂ¶Ç‰ΩïÊåáÊ¥æÂ§ßÂ∞èÔºåËß£Ê±∫Ëæ¶Ê≥ïÂ∞±ÊòØÊØè‰∏ÄÂÄãÂÖÉÁ¥†ÂÖ∂ÂØ¶ÈÉΩÊòØ‰∏ÄÂÄãÊåáÊ®ô„ÄÇ Ôºàtodo: ÈúÄË¶Å‰∏ÄÂÄãÂúñÔºâ\r\r\rÂà©Áî®Â•ó‰ª∂sm The sm package also includes a way of doing multiple density plots. The data must be in a data frame.\nlibrary(sm)\r#\u0026gt; Package 'sm', version 2.2-5.6: type help(sm) for summary information\rrstdf\u0026lt;-data.frame(rst)\rcolnames(rstdf)\u0026lt;-c(\u0026quot;male\u0026quot;,\u0026quot;female\u0026quot;)\rsm.density.compare(rstdf$male, rstdf$female)\r# Add a legend (the color numbers start from 2 and go up)\r#legend(\u0026quot;topright\u0026quot;, levels(data$cond), fill=2+(0:nlevels(data$cond)))\r sm ÁØÑ‰æã sm.density.compare(iris$Sepal.Length, iris$Species, xlab=\u0026quot;Species\u0026quot;)\rtitle(main=\u0026quot;Distributions of Species\u0026quot;)\r x \u0026lt;- seq(from = 110, to = 174, by = 0.5)\ry1 \u0026lt;- dnorm(x, mean = 145, sd = 9)\ry2 \u0026lt;- dnorm(x, mean = 138, sd = 8)\rplot(x, y1, type=\u0026quot;l\u0026quot;, lwd=2, col=\u0026quot;red\u0026quot;,\rmain=\u0026quot;Systolic Blood Pressure Before and After Treatment\u0026quot;,\rxlab = \u0026quot;Systolic Blood Pressure (mmHg)\u0026quot;,\rylab = \u0026quot;Frequency\u0026quot;, yaxt=\u0026quot;n\u0026quot;,\rxlim = c(110, 175), ylim = c(0, 0.05))\rlines(x, y2)\rpolygon(c(110,x,175),c(0,y2,0), col=\u0026quot;firebrick3\u0026quot;,\rborder = \u0026quot;black\u0026quot;)\rpolygon(c(117,x,175),c(0,y1,0), col=\u0026quot;dodgerblue4\u0026quot;,\rborder = \u0026quot;black\u0026quot;)\rylab=c(seq(from=0, to=175, by=25))\ry=c(seq(from=0, to=0.05, length.out = 8))\raxis(2,at=y,labels=ylab, las=1)#‰∏ãÂ∑¶Ôºà2ÔºâÔºåÂú®yÂêëÈáè‰∏äÊ®ôylab,las ÊñáÂ≠óÂíåÂ∫ßÊ®ôÁöÑËßíÂ∫¶\rtext(x = 120, y = 0.045, \u0026quot;- Pre-Treatment BP\u0026quot;, col = \u0026quot;dodgerblue4\u0026quot;, cex = 0.9)\rtext(x = 120, y = 0.04, \u0026quot; - Post-Treatment BP\u0026quot;, col = \u0026quot;firebrick3\u0026quot;, cex = 0.9)\rpoints(109, 0.0445, pch = 15, col = \u0026quot;dodgerblue4\u0026quot;)\rpoints(109, 0.0395, pch = 15, col = \u0026quot;firebrick3\u0026quot;)\r ÂÖ∂‰ªñÊ∏¨Ë©¶\nx \u0026lt;- seq(-2, 2, 0.05)\ry1 \u0026lt;- pnorm(x)\ry2 \u0026lt;- pnorm(x,1,1)\rplot(x,y1,type=\u0026quot;l\u0026quot;,col=\u0026quot;red\u0026quot;)\rlines(x,y2,col=\u0026quot;green\u0026quot;)\r plot( x, y1, type=\u0026quot;l\u0026quot;, col=\u0026quot;red\u0026quot; )\rpar(new=TRUE)\rplot( x, y2, type=\u0026quot;l\u0026quot;, col=\u0026quot;green\u0026quot; )\r note: add=TRUE ÊúâÊôÇÂÄô‰∏ç‰ΩúÁî®Ôºå‰æãÂ¶Çplot\nhist( y1 ,col=\u0026quot;red\u0026quot; )\rhist( y2, add=TRUE,col=\u0026quot;blue\u0026quot; )\r "},
{"uri": "/blogR//rlang/1_1_%E7%B3%BB%E7%B5%B1.html","title": "1.1 ÈÅã‰ΩúÁí∞Â¢É",
	"tags": ["Áí∞Â¢ÉËÆäÊï∏"],
	"description": "‰ΩúÊ•≠Á≥ªÁµ±, RÂ•óË£ùÁöÑÁí∞Â¢É",
	"content": "Áí∞Â¢ÉËÆäÊï∏  windows ÂπæÂÄãÂ∏∏Áî®ÁöÑË≥áÊñôÂ§æ  %USERPROFILE% %LOCALAPPDATA% %APPDATA%    \r\rÂ≠òÂèñ‰ΩúÊ•≠Á≥ªÁµ±ÁöÑÁí∞Â¢ÉËÆäÊï∏ Êåá‰ª§ÈñãÈ†≠ÊòØSys\nhugocmd(\u0026quot;expand\u0026quot; ,'title=\u0026quot;\u0026quot; incode=true')\r#\u0026gt; \rÂ±ïÈñã\rSys.getenv()\r#\u0026gt; ALLUSERSPROFILE C:\\ProgramData\r#\u0026gt; APPDATA C:\\Users\\linchao\\AppData\\Roaming\r#\u0026gt; CHROME_CRASHPAD_PIPE_NAME\r#\u0026gt; \\\\.\\pipe\\crashpad_15040_WJQTTQJZAAQENEVW\r#\u0026gt; COLORTERM truecolor\r#\u0026gt; CommonProgramFiles C:\\Program Files\\Common Files\r#\u0026gt; CommonProgramFiles(x86)\r#\u0026gt; C:\\Program Files (x86)\\Common Files\r#\u0026gt; CommonProgramW6432 C:\\Program Files\\Common Files\r#\u0026gt; COMPUTERNAME TALI\r#\u0026gt; ComSpec C:\\WINDOWS\\system32\\cmd.exe\r#\u0026gt; DriverData C:\\Windows\\System32\\Drivers\\DriverData\r#\u0026gt; EDITURL D:/work/rmi_r\r#\u0026gt; FPS_BROWSER_APP_PROFILE_STRING\r#\u0026gt; Internet Explorer\r#\u0026gt; FPS_BROWSER_USER_PROFILE_STRING\r#\u0026gt; Default\r#\u0026gt; GIT_ASKPASS c:\\Users\\linchao\\AppData\\Local\\Programs\\Microsoft\r#\u0026gt; VS\r#\u0026gt; Code\\resources\\app\\extensions\\git\\dist\\askpass.sh\r#\u0026gt; HOME C:\\Users\\linchao\\Documents\r#\u0026gt; HOMEDRIVE C:\r#\u0026gt; HOMEPATH \\Users\\linchao\r#\u0026gt; LANG zh_TW.UTF-8\r#\u0026gt; LANGUAGE zh_TW\r#\u0026gt; LOCALAPPDATA C:\\Users\\linchao\\AppData\\Local\r#\u0026gt; LOGONSERVER \\\\TALI\r#\u0026gt; MSYS2_ENV_CONV_EXCL R_ARCH\r#\u0026gt; NUMBER_OF_PROCESSORS 32\r#\u0026gt; OneDrive C:\\Users\\linchao\\OneDrive\r#\u0026gt; ORIGINAL_XDG_CURRENT_DESKTOP\r#\u0026gt; undefined\r#\u0026gt; OS Windows_NT\r#\u0026gt; PATH C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program\r#\u0026gt; Files\\Git\\cmd;C:\\Program\r#\u0026gt; Files\\R\\R-4.1.1\\bin\\x64;C:\\Users\\linchao\\AppData\\Roaming\\Hugo\\0.88.0;C:\\Program\r#\u0026gt; Files\\PowerShell\\7\\;C:\\Program\r#\u0026gt; Files\\nodejs\\;C:\\Program\r#\u0026gt; Files\\Docker\\Docker\\resources\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\rtools40\\mingw64\\bin;C:\\rtools40\\usr\\bin;C:\\Users\\linchao\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\linchao\\AppData\\Local\\Programs\\Microsoft\r#\u0026gt; VS\r#\u0026gt; Code\\bin;C:\\Users\\linchao\\AppData\\Local\\Pandoc\\;C:\\Users\\linchao\\AppData\\Roaming\\npm;C:\\Program\r#\u0026gt; Files (x86)\\EaseUS\\Todo Backup\\bin\\x64\\\r#\u0026gt; PATHEXT .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\r#\u0026gt; POWERSHELL_DISTRIBUTION_CHANNEL\r#\u0026gt; MSI:Windows 10 Pro\r#\u0026gt; PROCESSOR_ARCHITECTURE\r#\u0026gt; AMD64\r#\u0026gt; PROCESSOR_IDENTIFIER AMD64 Family 25 Model 33 Stepping 0,\r#\u0026gt; AuthenticAMD\r#\u0026gt; PROCESSOR_LEVEL 25\r#\u0026gt; PROCESSOR_REVISION 2100\r#\u0026gt; ProgramData C:\\ProgramData\r#\u0026gt; ProgramFiles C:\\Program Files\r#\u0026gt; ProgramFiles(x86) C:\\Program Files (x86)\r#\u0026gt; ProgramW6432 C:\\Program Files\r#\u0026gt; PROMPT $P$G\r#\u0026gt; PSModulePath %ProgramFiles%\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules\r#\u0026gt; PUBLIC C:\\Users\\Public\r#\u0026gt; R_ARCH /x64\r#\u0026gt; R_COMPILED_BY gcc 8.3.0\r#\u0026gt; R_HOME C:/PROGRA~1/R/R-41~1.1\r#\u0026gt; R_LIBS_USER C:\\Users\\linchao\\Documents/R/win-library/4.1\r#\u0026gt; R_USER C:\\Users\\linchao\\Documents\r#\u0026gt; RTOOLS40_HOME C:\\rtools40\r#\u0026gt; SystemDrive C:\r#\u0026gt; SystemRoot C:\\WINDOWS\r#\u0026gt; TEMP C:\\Users\\linchao\\AppData\\Local\\Temp\r#\u0026gt; TERM_PROGRAM vscode\r#\u0026gt; TERM_PROGRAM_VERSION 1.60.2\r#\u0026gt; TMP C:\\Users\\linchao\\AppData\\Local\\Temp\r#\u0026gt; USERDOMAIN TALI\r#\u0026gt; USERDOMAIN_ROAMINGPROFILE\r#\u0026gt; TALI\r#\u0026gt; USERNAME linchao\r#\u0026gt; USERPROFILE C:\\Users\\linchao\r#\u0026gt; VSCODE_GIT_ASKPASS_MAIN\r#\u0026gt; c:\\Users\\linchao\\AppData\\Local\\Programs\\Microsoft\r#\u0026gt; VS\r#\u0026gt; Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js\r#\u0026gt; VSCODE_GIT_ASKPASS_NODE\r#\u0026gt; C:\\Users\\linchao\\AppData\\Local\\Programs\\Microsoft\r#\u0026gt; VS Code\\Code.exe\r#\u0026gt; VSCODE_GIT_IPC_HANDLE \\\\.\\pipe\\vscode-git-787abf7477-sock\r#\u0026gt; windir C:\\WINDOWS\rhugocmd(m=\u0026#34;expand\u0026#34; ,end=T)\r#\u0026gt; \rSys.setenv(R_TEST = \u0026quot;testit\u0026quot;)\rSys.getenv(\u0026quot;R_TEST\u0026quot;)\r#\u0026gt; [1] \u0026quot;testit\u0026quot;\rSys.unsetenv(\u0026quot;R_TEST\u0026quot;) # on Unix-alike may warn and not succeed\rSys.getenv(\u0026quot;R_TEST\u0026quot;, unset = NA)\r#\u0026gt; [1] NA\r (ÂæÖË£úÂÖÖ)ÊØîËºÉÊúâË∂£ÁöÑÊåá‰ª§\nSys.sleep(0.1)\r \r\rRÁöÑÁí∞Â¢ÉËÆäÊï∏ Âú®‰ΩúÊ•≠Á≥ªÁµ±‰∏≠ÁöÑÊ™îÊ°à,‰æãÂ¶Ç.Renviron,.RprofileÊúÉÂΩ±ÈüøRÁöÑÂïüÂãïÁí∞Â¢É(‚úîÂèÉËÄÉ)„ÄÇ\n .Platform = .Platform$OS.type .Renviron - which contains environment variables to be set in R sessions.  .Renviron Âú®%USERPROFILE%‰∏≠(È†êË®≠ÊòØÊ≤íÊúâÁöÑ)„ÄÇÁî®‰æÜÂú®RÂïüÂãï‰πãÂâç,Ë®≠ÂÆöÁ≥ªÁµ±ÁöÑÁí∞Â¢ÉËÆäÊï∏ÔºåÂÖßÂÆπÊòØÊñáÂ≠óÊ™î,‰ª•KEY=VALUEÁöÑÊñπÂºèË®≠ÂÆö„ÄÇ‰æãÂ¶ÇrtoolsÁöÑ‰ΩçÁΩÆ(ÂèÉËÄÉ1)„ÄÇ   .Rprofile - which contains R code to be run in each session. \rÁØÑ‰æã ~/.Renviron on Unix\r## ÁØÑ‰æã ~/.Renviron on Unix\rR_LIBS=~/R/library\rPAGER=/usr/local/bin/less\r## Example .Renviron on Windows\rR_LIBS=C:/R/library\rMY_TCLTK=\u0026quot;c:/Program Files/Tcl/bin\u0026quot;\r## Example of setting R_DEFAULT_PACKAGES (from R CMD check)\rR_DEFAULT_PACKAGES='utils,grDevices,graphics,stats'\r# this loads the packages in the order given, so they appear on\r# the search path in reverse order.\r   ÂâçÈù¢ÊèêÈÅéÊØèÊ¨°ÂïüÂãïRÁöÑÊôÇÂÄô,ÊúÉËºâÂÖ•(source).Rrofile,Âú®ÈÄôÂÄãsessionËºâÂÖ•‰πãÂæå,ÊúÉÂü∑Ë°å.First(),Âú®ËÑ´Èõ¢ÁöÑÊôÇÂÄô,ÊúÉÂü∑Ë°å.Last()„ÄÇ\n  \rÁØÑ‰æã .Rprofile .First .Last\roptions(width=65, digits=5)\roptions(show.signif.stars=FALSE)\rsetHook(packageEvent(\u0026quot;grDevices\u0026quot;, \u0026quot;onLoad\u0026quot;),\rfunction(...) grDevices::ps.options(horizontal=FALSE))\rset.seed(1234)\r.First \u0026lt;- function() cat(\u0026quot;\\n headache!\\n\\n\u0026quot;)\r.Last \u0026lt;- function() cat(\u0026quot;\\n headacue cured!\\n\\n\u0026quot;)\r    \rÁØÑ‰æã Rprofile.site\rlocal({\r# add MASS to the default packages, set a CRAN mirror\rold \u0026lt;- getOption(\u0026quot;defaultPackages\u0026quot;); r \u0026lt;- getOption(\u0026quot;repos\u0026quot;)\rr[\u0026quot;CRAN\u0026quot;] \u0026lt;- \u0026quot;http://my.local.cran\u0026quot;\roptions(defaultPackages = c(old, \u0026quot;MASS\u0026quot;), repos = r)\r## (for Unix terminal users) set the width from COLUMNS if set\rcols \u0026lt;- Sys.getenv(\u0026quot;COLUMNS\u0026quot;)\rif(nzchar(cols)) options(width = as.integer(cols))\r# interactive sessions get a fortune cookie (needs fortunes package)\rif (interactive())\rfortunes::fortune()\r})\r## if .Renviron contains\rFOOBAR=\u0026quot;coo\\bar\u0026quot;doh\\ex\u0026quot;abc\\\u0026quot;def'\u0026quot;\r## then we get\r# \u0026gt; cat(Sys.getenv(\u0026quot;FOOBAR\u0026quot;), \u0026quot;\\n\u0026quot;)\r# coo\\bardoh\\exabc\u0026quot;def'\r    R.home() Sys.getenv(\u0026quot;R_HOME\u0026quot;) ÈÉΩÂèØ‰ª•Áü•ÈÅìÂÆâË£ùÁöÑÁõÆÈåÑ\n  ÁõÆÂâçÁöÑË®≠ÂÆö - ÂáΩÊï∏options()\n  options()\rgetOption(\u0026quot;windowsTimeouts\u0026quot;)\r \roptions()ÁöÑÂü∑Ë°åÁµêÊûú\r#\u0026gt; $add.smooth\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $blogdown.method\r#\u0026gt; [1] \u0026quot;markdown\u0026quot;\r#\u0026gt; #\u0026gt; $blogdown.serve_site.startup\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $browserNLdisabled\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $CBoundsCheck\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $check.bounds\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $citation.bibtex.max\r#\u0026gt; [1] 1\r#\u0026gt; #\u0026gt; $continue\r#\u0026gt; [1] \u0026quot;+ \u0026quot;\r#\u0026gt; #\u0026gt; $contrasts\r#\u0026gt; unordered ordered #\u0026gt; \u0026quot;contr.treatment\u0026quot; \u0026quot;contr.poly\u0026quot; #\u0026gt; #\u0026gt; $defaultPackages\r#\u0026gt; [1] \u0026quot;datasets\u0026quot; \u0026quot;utils\u0026quot; \u0026quot;grDevices\u0026quot; \u0026quot;graphics\u0026quot; \u0026quot;stats\u0026quot; \u0026quot;methods\u0026quot; #\u0026gt; #\u0026gt; $demo.ask\r#\u0026gt; [1] \u0026quot;default\u0026quot;\r#\u0026gt; #\u0026gt; $deparse.cutoff\r#\u0026gt; [1] 60\r#\u0026gt; #\u0026gt; $device\r#\u0026gt; function (width = 7, height = 7, ...) #\u0026gt; {\r#\u0026gt; grDevices::pdf(NULL, width, height, ...)\r#\u0026gt; }\r#\u0026gt; \u0026lt;bytecode: 0x000000001a675208\u0026gt;\r#\u0026gt; \u0026lt;environment: namespace:knitr\u0026gt;\r#\u0026gt; #\u0026gt; $device.ask.default\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $digits\r#\u0026gt; [1] 7\r#\u0026gt; #\u0026gt; $echo\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $editor\r#\u0026gt; [1] \u0026quot;notepad\u0026quot;\r#\u0026gt; #\u0026gt; $encoding\r#\u0026gt; [1] \u0026quot;native.enc\u0026quot; \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;ËÆÄÊ™îÊôÇÊúÉÁî®Âà∞,‰æãÂ¶ÇreadLine()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; #\u0026gt; $example.ask\r#\u0026gt; [1] \u0026quot;default\u0026quot;\r#\u0026gt; #\u0026gt; $expressions\r#\u0026gt; [1] 5000\r#\u0026gt; #\u0026gt; $help.search.types\r#\u0026gt; [1] \u0026quot;vignette\u0026quot; \u0026quot;demo\u0026quot; \u0026quot;help\u0026quot; #\u0026gt; #\u0026gt; $help.try.all.packages\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $help_type\r#\u0026gt; [1] \u0026quot;html\u0026quot;\r#\u0026gt; #\u0026gt; $HTTPUserAgent\r#\u0026gt; [1] \u0026quot;R (4.1.1 x86_64-w64-mingw32 x86_64 mingw32)\u0026quot;\r#\u0026gt; #\u0026gt; $install.packages.compile.from.source\r#\u0026gt; [1] \u0026quot;interactive\u0026quot;\r#\u0026gt; #\u0026gt; $internet.info\r#\u0026gt; [1] 2\r#\u0026gt; #\u0026gt; $keep.parse.data\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $keep.parse.data.pkgs\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $keep.source\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $keep.source.pkgs\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $knitr.in.progress \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;ÁõÆÂâçÁöÑÊñá‰ª∂Âú®RMD‰∏≠Áî¢Áîü\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $locatorBell\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $mailer\r#\u0026gt; [1] \u0026quot;mailto\u0026quot;\r#\u0026gt; #\u0026gt; $matprod\r#\u0026gt; [1] \u0026quot;default\u0026quot;\r#\u0026gt; #\u0026gt; $max.print\r#\u0026gt; [1] 99999\r#\u0026gt; #\u0026gt; $menu.graphics\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $na.action\r#\u0026gt; [1] \u0026quot;na.omit\u0026quot;\r#\u0026gt; #\u0026gt; $nwarnings\r#\u0026gt; [1] 50\r#\u0026gt; #\u0026gt; $OutDec\r#\u0026gt; [1] \u0026quot;.\u0026quot;\r#\u0026gt; #\u0026gt; $pager\r#\u0026gt; [1] \u0026quot;internal\u0026quot;\r#\u0026gt; #\u0026gt; $papersize\r#\u0026gt; [1] \u0026quot;a4\u0026quot;\r#\u0026gt; #\u0026gt; $PCRE_limit_recursion\r#\u0026gt; [1] NA\r#\u0026gt; #\u0026gt; $PCRE_study\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $PCRE_use_JIT\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $pdfviewer\r#\u0026gt; [1] \u0026quot;C:/PROGRA~1/R/R-41~1.1/bin/x64/open.exe\u0026quot;\r#\u0026gt; #\u0026gt; $pkgType\r#\u0026gt; [1] \u0026quot;both\u0026quot;\r#\u0026gt; #\u0026gt; $prompt\r#\u0026gt; [1] \u0026quot;\u0026gt; \u0026quot;\r#\u0026gt; #\u0026gt; $repos\r#\u0026gt; CRAN #\u0026gt; \u0026quot;@CRAN@\u0026quot; #\u0026gt; #\u0026gt; $scipen\r#\u0026gt; [1] 0\r#\u0026gt; #\u0026gt; $show.coef.Pvalues\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $show.error.messages\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $show.signif.stars\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $showErrorCalls\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $str\r#\u0026gt; $str$strict.width\r#\u0026gt; [1] \u0026quot;no\u0026quot;\r#\u0026gt; #\u0026gt; $str$digits.d\r#\u0026gt; [1] 3\r#\u0026gt; #\u0026gt; $str$vec.len\r#\u0026gt; [1] 4\r#\u0026gt; #\u0026gt; $str$list.len\r#\u0026gt; [1] 99\r#\u0026gt; #\u0026gt; $str$deparse.lines\r#\u0026gt; NULL\r#\u0026gt; #\u0026gt; $str$drop.deparse.attr\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $str$formatNum\r#\u0026gt; function (x, ...) #\u0026gt; format(x, trim = TRUE, drop0trailing = TRUE, ...)\r#\u0026gt; \u0026lt;environment: 0x00000000193f2900\u0026gt;\r#\u0026gt; #\u0026gt; #\u0026gt; $str.dendrogram.last\r#\u0026gt; [1] \u0026quot;`\u0026quot;\r#\u0026gt; #\u0026gt; $stringsAsFactors\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $tikzMetricsDictionary\r#\u0026gt; [1] \u0026quot;1_0_requirement-tikzDictionary\u0026quot;\r#\u0026gt; #\u0026gt; $timeout\r#\u0026gt; [1] 60\r#\u0026gt; #\u0026gt; $try.outFile\r#\u0026gt; A connection with #\u0026gt; description \u0026quot;output\u0026quot; #\u0026gt; class \u0026quot;textConnection\u0026quot;\r#\u0026gt; mode \u0026quot;wr\u0026quot; #\u0026gt; text \u0026quot;text\u0026quot; #\u0026gt; opened \u0026quot;opened\u0026quot; #\u0026gt; can read \u0026quot;no\u0026quot; #\u0026gt; can write \u0026quot;yes\u0026quot; #\u0026gt; #\u0026gt; $ts.eps\r#\u0026gt; [1] 1e-05\r#\u0026gt; #\u0026gt; $ts.S.compat\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $unzip\r#\u0026gt; [1] \u0026quot;internal\u0026quot;\r#\u0026gt; #\u0026gt; $useFancyQuotes\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $verbose\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $warn\r#\u0026gt; [1] 0\r#\u0026gt; #\u0026gt; $warning.length\r#\u0026gt; [1] 1000\r#\u0026gt; #\u0026gt; $width\r#\u0026gt; [1] 80\r#\u0026gt; #\u0026gt; $windowsTimeouts\r#\u0026gt; [1] 100 500\r  ÂÆâË£ùÁöÑÊôÇÂÄô,Âá∫ÁèæÊâæ‰∏çÂà∞repos,ÂèØ‰ª•Â¶Ç‰∏ã,ÈÄôÊ®£‰∏çÁî®Á¨¨‰∫åÊ¨°ÂÆöÁæ©\nr = getOption(\u0026quot;repos\u0026quot;) \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;options()$\u0026quot;repos\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\rr[\u0026quot;CRAN\u0026quot;] = \u0026quot;http://cran.us.r-project.org\u0026quot;\roptions(repos = r)\r Ëß£Èáã\nr # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;Â∏∂ÂêçÂ≠óÁöÑÂ≠ó‰∏≤,Á∞°ÂñÆÁêÜËß£ÁÇ∫ÂÖÉÁ¥†Á∑®ËôüÂèØ‰ª•Áî®ÂÖÉÁ¥†ÂêçÂ≠ó‰ª£Êõø\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; CRAN #\u0026gt; \u0026quot;http://cran.us.r-project.org\u0026quot; #\u0026gt; attr(,\u0026quot;RStudio\u0026quot;)\r#\u0026gt; [1] TRUE\rr[\u0026quot;CRAN\u0026quot;] # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;=r[1]\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; CRAN #\u0026gt; \u0026quot;http://cran.us.r-project.org\u0026quot;  \r\rÁ∑¥Áøí ÊØîËºÉ‰∏Ä‰∏ãenvironments()ÈÄôÂÄãÂáΩÊï∏ÔºåÂèØ‰ª•ÂàóÂá∫ÁõÆÂâçÂ∑•‰ΩúÂçÄ‰∏äÁöÑËÆäÊï∏„ÄÇenvironment() ÂÇ≥Âõû‰∏ÄÂÄãframe,Áõ∏Áï∂ÊñºRÊèê‰æõÁöÑÁ∏ΩÈ´îËÆäÊï∏.GlobalEnv\nnames(environment()) # üè∑Âõ†ÁÇ∫ÊòØÁµêÊßãframe Âõ†Ê≠§ÂèØ‰ª•Âà©Áî®names()ÂàóÂá∫Ê¨Ñ‰Ωç\ridentical(.GlobalEnv, environment()) #üè∑Áî®‰æÜÊØîËºÉÂÖ©ÂÄãÂèÉÊï∏ÊòØÂê¶Áõ∏Âêå,ÂåÖÊã¨ÂÄºÂíåÈ°ûÂà•\rnames(.GlobalEnv)\r"},
{"uri": "/blogR//rlang/1_3_%E5%9F%B7%E8%A1%8C.html","title": "1.3 Âü∑Ë°å",
	"tags": [],
	"description": "1_1_run",
	"content": "ÁÑ°Ê≥ïÂïüÂãïbash args \u0026lt;- commandArgs()\rprint(args)\rscript in .R ÊÄéÊ®£Áü•ÈÅìScript ÁöÑÂ∑•‰ΩúÁõÆÈåÑ(ÂèÉËÄÉ)\nscript.dir \u0026lt;- dirname(sys.frame(1)$ofile)\r .Rprofile  Ë©≥Á¥∞ÁöÑÁØÑ‰æã\n debug  ÂáΩÊï∏:debug()  ‰æãÂ¶ÇÊúâ‰∏ÄÂÄãÂáΩÊï∏ÁÇ∫g(),Ââádebug(g)ÂèØ‰ª•ÈñãÂßãÂÅµÈåØ„ÄÇ   ÂáΩÊï∏Stopifnot(x\u0026gt;0): ÊîæÂú®ÂáΩÊï∏‰∏≠Èñì,Á¢∫ÂÆöËÆäÊï∏x\u0026gt;0„ÄÇ ÂáΩÊï∏traceback()ÊéßÂà∂Âè∞Âá∫ÁèæÁ¥ÖËâ≤Ë®äÊÅØÈ°ØÁ§∫ÈåØË™§ÊôÇ,Âú®ÊéßÂà∂Âè∞Êï≤ÂÖ•traceback()ÂèØ‰ª•ËøΩËπ§ÈåØË™§„ÄÇ ÂáΩÊï∏browser()ÊîæÂú®ÂáΩÊï∏‰∏≠,Âü∑Ë°åÂà∞ÈÄôË°åÁöÑÊôÇÂÄôÊúÉÈÄ≤ÂÖ•ÂÅµÈåØÁöÑÊ≠•ÈÄ≤Ê®°ÂºèÔºåÁÑ∂Âæå‰∏ÄÊ≠•‰∏ÄÊ≠•ÂÅµÈåØ„ÄÇ ÂáΩÊï∏tracer() ÂáΩÊï∏recover()  Ëá™Ë®ÇÂ•ó‰ª∂ÁöÑÂÅµÈåØÔºåÂèØ‰ª•Ë®≠ÂÆöoptions(error = recover)„ÄÇÈÄôÊ®£ÈÅáÂà∞ÈåØË™§ÁöÑÊôÇÂÄô,ÊúÉÈÄ≤ÂÖ•Ê≠•ÈÄ≤Ê®°Âºè„ÄÇ\n"},
{"uri": "/blogR//rlang/1_4_rpackages.html","title": "1.4 R Package",
	"tags": [],
	"description": "Â•ó‰ª∂",
	"content": "Âü∫Êú¨ Â•ó‰ª∂Âú®Âì™Ë£°  R package and Github Âª∫Á´ãRÂ•ó‰ª∂   note: ÂèØ‰ª•DOSÊåá‰ª§tree .ÂàóÂá∫ÁõÆÈåÑÊ®πÁµêÊßã\n  RÂÆâË£ù R.home() #üè∑üëèRË¢´ÂÆâË£ùÂú®Âì™Ë£°\rsystem.file() #üè∑üëèÈ†êË®≠Â•ó‰ª∂baseË¢´Ë£ùÂú®Âì™Ë£°\r  Â¶ÇÊûúË¶ÅÁü•ÈÅìÂÆâË£ùÁöÑÂ•ó‰ª∂Âú®ÈõªËÖ¶ÁöÑÂì™ÂÄãÂú∞Êñπ: .libPaths() Â¶ÇÊûúË¶ÅËá™Â∑±È†êË®≠ÊåáÂÆöÂÆâË£ùÂ•ó‰ª∂‰ΩçÁΩÆÔºåÂèØ‰ª•Âú®‰ΩøÁî®ËÄÖÊñá‰ª∂Â§æ‰∏äÊâæÂà∞.Rprofile ÁÑ∂ÂæåÂØ´‰∏äÈÄô‰∏ÄË°å: .libPaths(\u0026quot;C:/myRlibary\u0026quot;)  Â•ó‰ª∂ÁöÑÂÆâË£ù ÁØÑ‰æã:\ninstall.packages('Rcpp', dependencies = TRUE)\r Á¨¨2ÂÄãÂèÉÊï∏,ÂèØ‰ª•ËÆì‰æùÂ≠òÁöÑÊ™îÊ°àËá™ÂãïÂÆâË£ù„ÄÇ\nÁõÆÂâç‰ΩøÁî®‰∏≠ÁöÑÂ•ó‰ª∂ search()ÂèØ‰ª•ÂàóÂá∫Âú®ÊâπÊ¨°Ê®°Âºè‰∏ã‰ΩøÁî®ÁöÑÂ•ó‰ª∂,Âè¶Â§ñ‰∏ÄÂÄãÊåá‰ª§sessionInfo() ÂèØ‰ª•ÂàóÂá∫Êõ¥Â§öÁõ∏ÈóúË®äÊÅØ„ÄÇ\nÊêúÂ∞ãÂ•ó‰ª∂‰∏≠ÁöÑÊ™îÊ°à system.file(\u0026quot;help\u0026quot;, \u0026quot;AnIndex\u0026quot;, package = \u0026quot;splines\u0026quot;)\r #\u0026gt; [1] \u0026quot;C:/PROGRA~1/MICROS~4/RCLIEN~1/R_SERVER/library/splines/help/AnIndex\u0026quot; üè∑üëèËß£ÈáãÔºöÂú®Â•ó‰ª∂splines ‰∏≠ÁöÑÊ†πÁõÆÈåÑ‰∏≠ÊêúÂ∞ãÂ≠êÁõÆÈåÑhelpÔºåÊâæÂá∫ÂêçÁ®±ÁÇ∫AnIndexÁöÑÊ™îÊ°àÔºå‰∏¶ÂÇ≥ÂõûË∑ØÂæëÂêçÁ®±„ÄÇ\r ÁØÑ‰æã\nsystem.file(package = \u0026quot;stats\u0026quot;)\r #\u0026gt; [1] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/stats\u0026quot;\r ‰∏äÈù¢ÂàóÂá∫Â•ó‰ª∂ÊâÄÂú®ÁöÑÂ≠êÁõÆÈåÑ,‰∏ãÈù¢ÂàóÂá∫ÂÖ∂‰∏≠ÁöÑÂ≠êÁõÆÈåÑ:\ndir(system.file(package = \u0026quot;stats\u0026quot;))\r #\u0026gt; [1] \u0026quot;COPYRIGHTS.modreg\u0026quot; \u0026quot;demo\u0026quot; \u0026quot;DESCRIPTION\u0026quot; #\u0026gt; [4] \u0026quot;help\u0026quot; \u0026quot;html\u0026quot; \u0026quot;INDEX\u0026quot; #\u0026gt; [7] \u0026quot;libs\u0026quot; \u0026quot;Meta\u0026quot; \u0026quot;NAMESPACE\u0026quot; #\u0026gt; [10] \u0026quot;R\u0026quot; \u0026quot;SOURCES.ts\u0026quot; \u0026quot;tests\u0026quot;\r Â¶ÇÊûúË¶ÅÁúãÂÖ∂‰∏≠‰∏ÄÂÄãÂ≠êÁõÆÈåÑÁöÑÂÖßÂÆπ,‰æãÂ¶Çdemo:\ndir(system.file(\u0026quot;demo\u0026quot;, package = \u0026quot;stats\u0026quot;))\r #\u0026gt; [1] \u0026quot;glm.vr.R\u0026quot; \u0026quot;lm.glm.R\u0026quot; \u0026quot;nlm.R\u0026quot; \u0026quot;smooth.R\u0026quot;\r Á∑¥ÁøíÔºö ‰æãÂ¶Ç,Â•ó‰ª∂epuRateÁöÑÂÆâË£ùÁõÆÈåÑÁÇ∫D:\\RSTUDIO\\RMD\\RPACK\\EPURATE-MASTER\\INSTÔºåÁõÆÈåÑÁµêÊßãÂ¶Ç‰∏ãÔºö\nD:\\RSTUDIO\\RMD\\RPACK\\EPURATE-MASTER\\INST\r‚îî‚îÄrmarkdown\r‚îî‚îÄtemplates\r‚îú‚îÄbasic\r‚îÇ ‚îî‚îÄskeleton\r‚îú‚îÄepurate\r‚îÇ ‚îú‚îÄresources\r‚îÇ ‚îî‚îÄskeleton\r‚îî‚îÄPCTG\r‚îú‚îÄresources\r‚îî‚îÄskeleton\r ÂèÉËÄÉ‰∏äÈù¢ÁöÑÁõÆÈåÑÁµêÊßãÔºåÂâá‰∏ãÈù¢Á®ãÂºèÂü∑Ë°åÁöÑÁµêÊûúcss,header, template ÂàÜÂà•ÊòØ‰ªÄÈ∫º? css \u0026lt;- system.file(\u0026quot;rmarkdown\u0026quot;, \u0026quot;templates\u0026quot;, \u0026quot;epurate\u0026quot; ,\u0026quot;resources\u0026quot;, \u0026quot;style.css\u0026quot;, package = \u0026quot;epuRate\u0026quot;)\rheader \u0026lt;- system.file(\u0026quot;rmarkdown\u0026quot;, \u0026quot;templates\u0026quot;, \u0026quot;epurate\u0026quot; ,\u0026quot;resources\u0026quot;, \u0026quot;header.html\u0026quot;, package = \u0026quot;epuRate\u0026quot;)\rtemplate \u0026lt;- system.file(\u0026quot;rmarkdown\u0026quot;, \u0026quot;templates\u0026quot;, \u0026quot;epurate\u0026quot; ,\u0026quot;resources\u0026quot;, \u0026quot;template_epurate.html\u0026quot;, package = \u0026quot;epuRate\u0026quot;)\r ÊèêÁ§∫\r hint:\ncss: D:\\RSTUDIO\\RMD\\RPACK\\EPURATE-MASTER\\INST\\rmarkdown\\templates\\eurate\\resouces\\style.css\r \rÂïèÈ°åÔºö\nsystem.file('rmarkdown')\r #\u0026gt; [1] \u0026quot;\u0026quot;\r ÁÇ∫‰ªÄÈ∫ºÂÇ≥ÂõûÁ©∫ÂÄº : \u0026quot;\u0026quot; ?\nÊèêÁ§∫\r hint Ê≤íÊúâÊåáÂÆöÂ•ó‰ª∂ÂêçÁ®±ÔºåÂõ†Ê≠§È†êË®≠ÁÇ∫baseÔºåËÄåbaseÁöÑÊ†πÁõÆÈåÑ‰∏≠ÔºåÊâæ‰∏çÂà∞Â≠êÁõÆÈåÑÊàñÊ™îÊ°àÁÇ∫rmarkdownÁöÑÊ™îÊ°à„ÄÇ\r‰∏ãÈù¢È©óË≠âÈ©óË≠âÈÄôÂè•Ë©±„ÄåÊâæ‰∏çÂà∞Â≠êÁõÆÈåÑÊàñÊ™îÊ°àÁÇ∫rmarkdownÁöÑÊ™îÊ°à„Äç\nlist.dirs(system.file())\r #\u0026gt; [1] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/base\u0026quot; #\u0026gt; [2] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/base/demo\u0026quot;\r#\u0026gt; [3] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/base/help\u0026quot;\r#\u0026gt; [4] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/base/html\u0026quot;\r#\u0026gt; [5] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/base/Meta\u0026quot;\r#\u0026gt; [6] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/base/R\u0026quot;\r list.files(system.file())\r #\u0026gt; [1] \u0026quot;CITATION\u0026quot; \u0026quot;demo\u0026quot; \u0026quot;DESCRIPTION\u0026quot; \u0026quot;help\u0026quot; \u0026quot;html\u0026quot; #\u0026gt; [6] \u0026quot;INDEX\u0026quot; \u0026quot;Meta\u0026quot; \u0026quot;R\u0026quot;\r  note: list.filesÂÇ≥ÂõûÁöÑ‰∏çÂÉÖÊòØÊ™îÊ°àÂêçÁ®±ÔºåÈÇÑÊúâÂ≠êÁõÆÈåÑÂêçÁ®±„ÄÇ\n system.file()ÂÇ≥ÂõûÂ•ó‰ª∂baseÁöÑÊ†πÁõÆÈåÑ\nlist.dirs(system.file()) ÂÇ≥Âõû‰∏äËø∞Ê†πÁõÆÈåÑÁöÑÊâÄÊúâÂ≠êÁõÆÈåÑ„ÄÇ\nÈ©óË≠âsystem.file()ÁöÑÊêúÂ∞ãÁØÑÂúçÂåÖÊã¨Â≠êÁõÆÈåÑÂíåÊ™îÊ°àÂêçÁ®±„ÄÇ‰∏ãÈù¢ÁöÑÂèÉÊï∏Ôºå‰∏ÄÂÄãÊòØÂ≠êÁõÆÈåÑhtml‰∏ÄÂÄãÊòØÊ™îÊ°àINDEXÔºåÈÉΩÂÇ≥ÂõûË∑ØÂæëÂêçÁ®±„ÄÇ\nsystem.file(\u0026quot;html\u0026quot;)\r #\u0026gt; [1] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/base/html\u0026quot;\r system.file(\u0026quot;INDEX\u0026quot;)\r #\u0026gt; [1] \u0026quot;C:/PROGRA~1/R/R-41~1.1/library/base/INDEX\u0026quot;\r \r\rÂì™ÂÄãÂáΩÊï∏Â±¨ÊñºÂì™ÂÄãÂ•ó‰ª∂? ÂèØ‰ª•Áõ¥Êé•ÊâìÂÖ•ÂáΩÊï∏ÂêçÁ®±‰ΩÜÊòØ‰∏çË¶ÅÊúâÊã¨ËôüÔºåÁúãÊúÄÂæå‰∏ÄË°å:\nR.home \u0026lt;-\rfunction (component = \u0026quot;home\u0026quot;) {\rrh \u0026lt;- .Internal(R.home())\rswitch(component, home = rh, bin = if (.Platform$OS.type == \u0026quot;windows\u0026quot; \u0026amp;\u0026amp; nzchar(p \u0026lt;- .Platform$r_arch)) file.path(rh, component, p) else file.path(rh, component), share = if (nzchar(p \u0026lt;- Sys.getenv(\u0026quot;R_SHARE_DIR\u0026quot;))) p else file.path(rh, component), doc = if (nzchar(p \u0026lt;- Sys.getenv(\u0026quot;R_DOC_DIR\u0026quot;))) p else file.path(rh, component), include = if (nzchar(p \u0026lt;- Sys.getenv(\u0026quot;R_INCLUDE_DIR\u0026quot;))) p else file.path(rh, component), modules = if (nzchar(p \u0026lt;- .Platform$r_arch)) file.path(rh, component, p) else file.path(rh, component), file.path(rh, component))\r}\r\u0026lt;bytecode: 0x3183948\u0026gt;\r\u0026lt;environment: namespace:base\u0026gt;\r Êúâ‰∏âÂÄãÊñπÊ≥ïÂèØ‰ª•ÂæûÂ•ó‰ª∂Â≠òÂèñË≥áÊñô„ÄÇ‰æãÂ¶ÇÔºå\n Âà©Áî®:: ggplot2::diamonds %\u0026gt;% head()\r  library() library(ggplot2)\rdiamonds %\u0026gt;% head()\r  data() data(\u0026quot;diamonds\u0026quot;, package=\u0026quot;ggplot2\u0026quot;)\rls()\r   library() vs require() if (!require(\u0026quot;Â•ó‰ª∂ÂêçÁ®±\u0026quot;)){\rinstall.pacakges(\u0026quot;Â•ó‰ª∂ÂêçÁ®±\u0026quot;)\r}\r detach ÁØÑ‰æã detach_package() Ë®éË´ñÂÖßÂª∫ÂáΩÊï∏detach_package()\n‰ΩøÁî®ÊñπÊ≥ïÔºö\ndetach_package(vegan)\rdetach_package(\u0026quot;vegan\u0026quot;, TRUE)\r Ê≥®ÊÑè‰∏Ä‰∏ãÁ¨¨2ÂÄã‰ΩøÁî®ÊñπÂºèÔºåÁ¨¨2ÂÄãÂèÉÊï∏`character.only'Ôºö\ndetach_package \u0026lt;- function(pkg, character.only = FALSE)\r{\rif(!character.only) #Â¶ÇÊûúÊ≤íÊúâÊåáÂÆöÂèÉÊï∏ÊòØÂ≠ó‰∏≤\r{\rpkg \u0026lt;- deparse(substitute(pkg)) # ËΩâÂ≠ó‰∏≤\r}\rsearch_item \u0026lt;- paste(\u0026quot;package\u0026quot;, pkg, sep = \u0026quot;:\u0026quot;)\rwhile(search_item %in% search())\r{\rdetach(search_item, unload = TRUE, character.only = TRUE)\r}\r}\r ÁØÑ‰æã2Ôºö.libPaths() .libPaths\r #\u0026gt; function (new, include.site = TRUE) #\u0026gt; {\r#\u0026gt; if (!missing(new)) {\r#\u0026gt; new \u0026lt;- Sys.glob(path.expand(new))\r#\u0026gt; paths \u0026lt;- c(new, if (include.site) .Library.site, .Library)\r#\u0026gt; paths \u0026lt;- paths[dir.exists(paths)]\r#\u0026gt; .lib.loc \u0026lt;\u0026lt;- unique(normalizePath(paths, \u0026quot;/\u0026quot;))\r#\u0026gt; }\r#\u0026gt; else .lib.loc\r#\u0026gt; }\r#\u0026gt; \u0026lt;bytecode: 0x0000000017a85d30\u0026gt;\r#\u0026gt; \u0026lt;environment: 0x0000000017a812b8\u0026gt;\r"},
{"uri": "/blogR//rlang/1_5_%E7%B7%A8%E7%A2%BC.html","title": "1.5 Á∑®Á¢º",
	"tags": [],
	"description": "1_5_Á∑®Á¢º",
	"content": "Á∑®Á¢º   ÊØè‰∏ÄÁ®ÆÁâπÂÆöÁöÑË™ûË®ÄÔºåÈÉΩÂ≠òÂú®‰∏ÄÁ®ÆÊàñÊï∏Á®ÆÁöÑ code page(‰ΩÜÊòØÂú®‰∏çÂêåÂª†ÂïÜ(‰æãÂ¶ÇIBM), code page ÁöÑÊï∏Â≠ó‰∏çÂêå) „ÄÇ ‰æãÂ¶ÇÔºö\n code page = 950 : Ê≠£È´î‰∏≠Êñábig5 windows-1252 ÁöÑ code page = 1252 :Ë•øÊ≠êÁöÑËã±Ë™ûÁ≥ª‰ΩøÁî® shift_jis ÁöÑ code page = 932 : Êó•Ë™û‰∏≠ÁöÑÊº¢Â≠ó‰ΩøÁî®„ÄÇ    textmining\n  Êõ¥Â§ö\n  ÂèÉËÄÉ\n  ÊúÄ‰Ω≥Á∑®Á¢ºüëç\n  ÁúãÁúãÁ≥ªÁµ±Êú¨Ë∫´ÁöÑÁ∑®Á¢º(Current Locale)\nl10n_info()\r#\u0026gt; $MBCS ‚õ≥Ë®ªËß£ \r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; $`UTF-8` üè∑üëèÂú®linuxÁ≥ªÁµ±‰∏≠,ÈÄôÂÖ©ÂÄã(UTF-8,Latin-1)Êúâ‰∏ÄÂÄãÊòØÁúüÔºåÊÑèÊÄùÂ∞±ÊòØË™™Ôºå‰∏çÊòØÈÄôÂÄãÔºåÂ∞±ÊòØÈÇ£ÂÄãÔºå‰ΩÜÊòØÂú®windows‰∏≠ÔºåÈÉΩÊòØÔº¶ü§∑‚Äç‚ôÄÔ∏è\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $`Latin-1`\r#\u0026gt; [1] FALSE\r#\u0026gt; #\u0026gt; $codepage\r#\u0026gt; [1] 950\r#\u0026gt; #\u0026gt; $system.codepage\r#\u0026gt; [1] 950\rsessionInfo() # Ë£°ÁöÑ localüè∑Âõ†ÁÇ∫ÂÇ≥ÂõûÁöÑÊòØÁµêÊßãlistÂõ†Ê≠§sessionInfo()$localÂèØ‰ª•ÁúãÂà∞ÁµêÊûú\r#\u0026gt; R version 4.1.1 (2021-08-10)\r#\u0026gt; Platform: x86_64-w64-mingw32/x64 (64-bit)\r#\u0026gt; Running under: Windows 10 x64 (build 19043)\r#\u0026gt; #\u0026gt; Matrix products: default\r#\u0026gt; #\u0026gt; locale:\r#\u0026gt; [1] LC_COLLATE=Chinese (Traditional)_Taiwan.950 üè∑üëèÁï∂ÂâçÁ∑®Á¢ºÁöÑÊéíÂ∫èÂíåÊØîËºÉË¶èÂâá\r#\u0026gt; [2] LC_CTYPE=Chinese (Traditional)_Taiwan.950 üè∑üëè Áî®ÊñºÂ≠óÂÖÉÂàÜÈ°ûÂíåÂ≠ó‰∏≤ËôïÁêÜÔºåÊéßÂà∂ÊâÄÊúâÂ≠óÂÖÉÁöÑËôïÁêÜÊñπÂºèÔºåÂåÖÊã¨Â≠óÂÖÉÁ∑®Á¢ºÔºåÂ≠óÂÖÉÊòØÂñÆÂ≠óÁØÄÈÇÑÊòØÂ§ö‰ΩçÂÖÉÁµÑÔºåÂ¶Ç‰ΩïÂàóÂç∞Á≠â\r#\u0026gt; [3] LC_MONETARY=Chinese (Traditional)_Taiwan.950 üè∑üëèË≤®Âπ£Ê†ºÂºè\r#\u0026gt; [4] LC_NUMERIC=C üè∑üëè ÈùûË≤®Âπ£ÁöÑÊï∏Â≠óÈ°ØÁ§∫Ê†ºÂºè\r#\u0026gt; [5] LC_TIME=Chinese (Traditional)_Taiwan.950 üè∑üëè ÊôÇÈñìÂíåÊó•ÊúüÊ†ºÂºè #\u0026gt; #\u0026gt; attached base packages:\r#\u0026gt; [1] stats graphics grDevices utils datasets methods base #\u0026gt; #\u0026gt; loaded via a namespace (and not attached):\r#\u0026gt; [1] compiler_4.1.1 magrittr_2.0.1 tools_4.1.1 glue_1.4.2 stringi_1.7.4 #\u0026gt; [6] knitr_1.33 stringr_1.4.0 xfun_0.25 evaluate_0.14\rSys.getlocale(\u0026quot;LC_ALL\u0026quot;) # üè∑‚úîÁî±ÈñãÈ†≠SysÔºåÂèØ‰ª•Áü•ÈÅìÈÄôÊòØ‰ΩúÊ•≠Á≥ªÁµ±ËÆäÊï∏Â≠òÂèñ üè∑‚úî‰πüÂèØ‰ª•Âè™ÊâìSys.getlocale()\r#\u0026gt; [1] \u0026quot;LC_COLLATE=Chinese (Traditional)_Taiwan.950;LC_CTYPE=Chinese (Traditional)_Taiwan.950;LC_MONETARY=Chinese (Traditional)_Taiwan.950;LC_NUMERIC=C;LC_TIME=Chinese (Traditional)_Taiwan.950\u0026quot;\rgetOption(\u0026quot;encoding\u0026quot;) # üè∑‚úîÂÖ∂ÂØ¶ÊòØÂæûÂâçÈù¢ÁöÑoptions()‰∏≠ÁöÑÈçµÂÄºencodingÊãøË≥áÊñôÔºåÊâÄ‰ª•options()$encoding‰πüÂèØ‰ª• üè∑‚úîÈÄôÂÄãÈÅ∏È†ÖÊòØÁî®‰æÜÁ∑®Á¢º‰∏≤ÊµÅ(‰æãÂ¶ÇÊ™îÊ°à,URLÁ≠âÁ≠â)ËÄå‰∏çÊòØËß£ËÆÄÁ®ãÂºèÁ¢º‰∏≠ÁöÑÂ≠ó‰∏≤ÂêëÈáè„ÄÇÂÖßÂÆöÊòØ \u0026quot;native.enc\u0026quot; „ÄÇÁôΩË©±ÊñáÁöÑÊÑèÊÄùÂ∞±ÊòØÈÄöË®äÂçîÂÆöÂÖßÂÆöÊòØASCIIÔºàÂõ†Ê≠§ÈúÄË¶ÅÂ∞áÂêÑÁ®Æ‰∏çÊòØASCIIÁöÑÂ≠óÂÖÉÁ∑®Á¢ºÔºåÂèØ‰ª•Âà©Áî®UTF-8Ôºâ,ËÄÉÊÖÆÁ∂≤Ë∑ØÂçîÂÆöÈÉΩÊòØASCII,Âõ†Ê≠§,‰∏çÁî®Ë≤ªËÖ¶Á≠ãÂú®ÈÄôË£°‰∫Ü,Èô§ÈùûË¶ÅÈáçÂØ´Á≥ªÁµ±\r#\u0026gt; [1] \u0026quot;native.enc\u0026quot;\r Êõ¥ÊîπÁ≥ªÁµ±ÁöÑË™ûÁ≥ªÔºå‰ª•‰∏ãÊõ¥ÊîπÁÇ∫ UTF-8\n# for mac\rSys.setlocale(category = \u0026quot;LC_ALL\u0026quot;, locale = \u0026quot;en_US.UTF-8\u0026quot;)\r# for windows\rSys.setlocale(category = \u0026quot;LC_ALL\u0026quot;, locale = \u0026quot;UTF-8\u0026quot;)\rx=\u0026quot;hello\u0026quot;\r# x is a vector\rEncoding(x) #üè∑‚úî‰∏çÊòØÁî®‰æÜÁü•ÈÅìÁ≥ªÁµ±ÁöÑÁ∑®Á¢º,ËÄåÊòØÔº≤Á®ãÂºèÁ¢ºËÆäÊï∏Ôºà‰æãÂ¶ÇÈÄôË£°ÁöÑx)‰∏≠ÁöÑË≥áÊñôÁ∑®Á¢º\r Encoding()ÁöÑ‰ΩøÁî®ÁØÑ‰æã\n üë∫ascii Â≠ó‰∏≤‰æãÂ¶Ç x=\u0026quot;hello\u0026quot; ,Encoding(x)ÁöÑÁµêÊûúÈÉΩÊòØ unknown,Âõ†ÁÇ∫ASCII‰∏çÁî®Á∑®Á¢º,Âú®ÊâÄÊúâÁöÑÁ∑®Á¢ºÁ≥ªÁµ±ÈÉΩ‰∏ÄËá¥„ÄÇ\n x\u0026lt;- 'ÈùûÁôΩÈ¶¨' Encoding(x) ## [1] \u0026quot;unknown\u0026quot; \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;a data-nopre href=\u0026quot;#%e6%8f%90%e7%a4%ba1\u0026quot;\u0026gt;Ë®ªËß£\u0026lt;/a\u0026gt;\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;‚ùìÁÇ∫ÁîöÈ∫ºÊòØunknown‚ùì‚ùìÊåâÁÖßË™™ÊòéÊõ∏,ÈùûASCIIÂÖßÂÆöÈÉΩÊòØÁµ¶ÁõÆÂâçÊåáÂÆöÁöÑlocaleË™ûÁ≥ªÔºåÂ∞±ÊòØl10n_info()ÁÇ∫TRUEÁöÑÈÇ£ÂÄã\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r# Â¶ÇÊûúÊòØbig5\rx2\u0026lt;- iconv(x, 'big5', 'UTF-8') #ËΩâUTF-8ÔºåËΩâÂÆå‰ª•ÂæåÂèØ‰ª•Áî®Encoding(x)ÂÜçÊ¨°È©óË≠â\r# Â¶ÇÊûúÊòØGB2312\rx2\u0026lt;- iconv(x, 'GB2312', 'UTF-8') #ËΩâUTF-8\rEncoding(x2) ## [1] \u0026quot;UTF-8\u0026quot;  ËÆÄÊ™îÊ°àÁöÑÊôÇÂÄô,Â¶ÇÊûúË¶ÅËá™Ë°åÊåáÂÆöÁ∑®Á¢º,ÈÇ£È∫º‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÁõ∏ÈóúÁ®ãÂºèÁ¢º\nsource(\u0026quot;myRcode.R\u0026quot;, encoding = \u0026quot;utf-8\u0026quot;)\rreadLines(\u0026quot;mydata.csv\u0026quot;, encoding = \u0026quot;big5\u0026quot;)\rread.table(..., fileEncoding = \u0026quot;\u0026quot;, encoding = \u0026quot;unknown\u0026quot;,...)\rdata \u0026lt;- iconv(data, \u0026quot;big5\u0026quot;, \u0026quot;utf8\u0026quot;) # Â∞áË≥áÊñôËΩâÊàê UTF-8\r \r\r‰∫ÇÁ¢ºÂ∏∏Áî®ÁöÑÂà§Êñ∑Êü•Ë©¢ üòíÂè™Âú®WIN‰∏äÊ∏¨Ë©¶\n Êü•ÁúãÁõÆÂâçR‰ΩøÁî®ÁöÑË™ûÁ≥ª: Ëº∏ÂÖ• Sys.getlocale() Êàñ Sys.getlocale(category = \u0026quot;LC_ALL\u0026quot;)Ôºå  \rÊàëÁöÑÁ≥ªÁµ±‰∏äÈ°ØÁ§∫ÁöÑÊòØ\rSys.getlocale()\r# \u0026quot;LC_COLLATE=Chinese (Traditional)_Taiwan.950;LC_CTYPE=Chinese (Traditional)_Taiwan.950;LC_MONETARY=Chinese (Traditional)_Taiwan.950;LC_NUMERIC=C;LC_TIME=Chinese (Traditional)_Taiwan.950\u0026quot;\r# üòíÊúâ‰∫õÁ≥ªÁµ±ÊòØÁî®/ÂàÜÈöîÔºå‰æãÂ¶Ç\r#.UTF-8/C/en_US.UTF-8/en_US.UTF-8\u0026quot;      Â¶ÇÊûú‰∏çÊòØ Chinese (Traditional)_Taiwan.950 ËÄÖÔºåÂèØ‰ª•Ëº∏ÂÖ•‰∏ãÂàóÊåá‰ª§Ë®≠ÂÆö RStudio/R ÁöÑË™ûÁ≥ª\n Ëã±ÊñáÔºö  Sys.setlocale(category = \u0026quot;LC_ALL\u0026quot;, locale = ‚ÄúUTF-8\u0026quot;)   ‰∏≠ÊñáÔºö  Sys.setlocale(\u0026quot;LC_ALL\u0026quot;,\u0026quot;Chinese (Traditional)_Taiwan.950\u0026quot;) ÊàñSys.setlocale(\u0026quot;LC_ALL\u0026quot;,\u0026quot;cht\u0026quot;)  \rÂü∑Ë°åÁµêÊûú\rüòíË®≠ÂÆöÁöÑÁµêÊûú,Â∞±ÊòØÈ†êË®≠ÁöÑÂÆâË£ùÁí∞Â¢É,Â¶Ç‰∏ãÊâÄÁ§∫\r \u0026gt; Sys.setlocale(category = \u0026quot;LC_ALL\u0026quot;, locale = \u0026quot;cht\u0026quot;) # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëè Á≠âÂêåÊñºSys.setlocale(\u0026quot;LC_ALL\u0026quot;,\u0026quot;Chinese (Traditional)_Taiwan.950\u0026quot;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r[1] \u0026quot;LC_COLLATE=Chinese (Traditional)_Taiwan.950;LC_CTYPE=Chinese (Traditional)_Taiwan.950;LC_MONETARY=Chinese (Traditional)_Taiwan.950;LC_NUMERIC=C;LC_TIME=Chinese (Traditional)_Taiwan.950\u0026quot;\r    Sys.setlocale(category = \u0026quot;LC_ALL\u0026quot;, locale = \u0026quot;zh_TW.UTF-8\u0026quot;) Êàñ Sys.setlocale(category = \u0026quot;LC_ALL\u0026quot;, locale = \u0026quot;zh_TW\u0026quot;) #üè∑üëèÈÄôÊòØlinuxÂú®Ë¶ñÁ™ó‰∏≠‰∏çË°å  ÈÄôÊáâË©≤ÊòØlinux Âú®windows ÁÑ°‰ΩúÁî®,ÈúÄË¶ÅË∂ÖÁ¥ö‰ΩøÁî®ËÄÖ      Ë©¶Ë©¶Áúã(ÈõñÁÑ∂‰πüÊ≤í‰ªÄÈ∫ºÁî®)\n ÊâæÂà∞Rconsole Ê™îÊ°àÔºàÁî®everythingÊêúÂ∞ãËªüÈ´î,ÂèØËÉΩ‰ΩçÁΩÆ RÁöÑÂÆâË£ùÁõÆÈåÑ\\etc\\RconsoleÔºâ,„ÄÇÈÄôÊòØ‰∏ÄÂÄãÊñáÂ≠óÊ™î„ÄÇ Âú®ÂÖ∂‰∏≠ÊâæÂà∞ language ÁÑ∂ÂæåÊîπÊàêlanguage = English Êàñ zh_TW  read.csv  stack overflow  Âú®linux ‰∏≠,Â¶ÇÊûúÊòØUTF-8,ÈÄôÊ®£Â∞±ÂèØ‰ª• read.csv(\u0026quot;japanese_utf8.csv\u0026quot;) ‰ΩÜÊòØÂ¶ÇÊûú‰∏çÊòØUTF-8,ÂâáÊåáÂÆöÁ∑®Á¢º read.csv(\u0026quot;japanese_shiftjis.csv\u0026quot;, fileEncoding = \u0026quot;SHIFT-JIS\u0026quot;) ÂïèÈ°åÊòØwindows:\nif(!require(readr)){\rinstall.packages(\u0026quot;readr\u0026quot;,dependencies=T)\r}\r #\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºöreadr\r options(stringsAsFactors = FALSE)\rdf\u0026lt;-read_csv(\u0026quot;resources/wh_zh_utf8.csv\u0026quot;,\rcomment=\u0026quot;#\u0026quot;,\rlocale = locale(encoding = \u0026quot;UTF-8\u0026quot;))\r #\u0026gt; Error: 'resources/wh_zh_utf8.csv' does not exist in current working directory ('D:/work/rmi_r').\r knitr::kable(df)\r #\u0026gt; Error in as.data.frame.default(x): ‰∏çËÉΩÊää \u0026quot;'\u0026quot;function\u0026quot;'\u0026quot; È°ûÂà•Âº∑Ëø´ËÆäÊàê data.frame\r df\u0026lt;-read_csv(\u0026quot;resources/wh_zh_950.csv\u0026quot;,\rcomment=\u0026quot;#\u0026quot;,\rlocale = locale(encoding = \u0026quot;big5\u0026quot;) )\r #\u0026gt; Error: 'resources/wh_zh_950.csv' does not exist in current working directory ('D:/work/rmi_r').\r #üè∑‚ùåzh_TW,cht, Chinese (Traditional)_Taiwan.950„ÄÇ‚úî:big5\rknitr::kable(df)\r #\u0026gt; Error in as.data.frame.default(x): ‰∏çËÉΩÊää \u0026quot;'\u0026quot;function\u0026quot;'\u0026quot; È°ûÂà•Âº∑Ëø´ËÆäÊàê data.frame\r ËºîÂä© hugocmd(\u0026quot;expand\u0026quot; ,'title=\u0026quot;\u0026quot; incode=true')\r#\u0026gt;  \rÂ±ïÈñã\riconvlist()\r#\u0026gt; [1] \u0026#34;437\u0026#34; \u0026#34;850\u0026#34; #\u0026gt; [3] \u0026#34;852\u0026#34; \u0026#34;855\u0026#34; #\u0026gt; [5] \u0026#34;857\u0026#34; \u0026#34;860\u0026#34; #\u0026gt; [7] \u0026#34;861\u0026#34; \u0026#34;862\u0026#34; #\u0026gt; [9] \u0026#34;863\u0026#34; \u0026#34;865\u0026#34; #\u0026gt; [11] \u0026#34;866\u0026#34; \u0026#34;869\u0026#34; #\u0026gt; [13] \u0026#34;ANSI_X3.4-1968\u0026#34; \u0026#34;ANSI_X3.4-1986\u0026#34; #\u0026gt; [15] \u0026#34;ASCII\u0026#34; \u0026#34;ASMO-708\u0026#34; #\u0026gt; [17] \u0026#34;BIG-5\u0026#34; \u0026#34;BIG-FIVE\u0026#34; #\u0026gt; [19] \u0026#34;big5\u0026#34; \u0026#34;BIG5\u0026#34; #\u0026gt; [21] \u0026#34;big5-hkscs\u0026#34; \u0026#34;BIG5-HKSCS\u0026#34; #\u0026gt; [23] \u0026#34;big5hkscs\u0026#34; \u0026#34;BIG5HKSCS\u0026#34; #\u0026gt; [25] \u0026#34;CP-GR\u0026#34; \u0026#34;CP-IS\u0026#34; #\u0026gt; [27] \u0026#34;cp1025\u0026#34; \u0026#34;CP1125\u0026#34; #\u0026gt; [29] \u0026#34;CP1133\u0026#34; \u0026#34;CP1200\u0026#34; #\u0026gt; [31] \u0026#34;CP12000\u0026#34; \u0026#34;CP12001\u0026#34; #\u0026gt; [33] \u0026#34;CP1201\u0026#34; \u0026#34;CP1250\u0026#34; #\u0026gt; [35] \u0026#34;CP1251\u0026#34; \u0026#34;CP1252\u0026#34; #\u0026gt; [37] \u0026#34;CP1253\u0026#34; \u0026#34;CP1254\u0026#34; #\u0026gt; [39] \u0026#34;CP1255\u0026#34; \u0026#34;CP1256\u0026#34; #\u0026gt; [41] \u0026#34;CP1257\u0026#34; \u0026#34;CP1258\u0026#34; #\u0026gt; [43] \u0026#34;CP1361\u0026#34; \u0026#34;CP154\u0026#34; #\u0026gt; [45] \u0026#34;CP367\u0026#34; \u0026#34;CP437\u0026#34; #\u0026gt; [47] \u0026#34;CP50221\u0026#34; \u0026#34;CP51932\u0026#34; #\u0026gt; [49] \u0026#34;CP65001\u0026#34; \u0026#34;CP737\u0026#34; #\u0026gt; [51] \u0026#34;CP775\u0026#34; \u0026#34;CP819\u0026#34; #\u0026gt; [53] \u0026#34;CP850\u0026#34; \u0026#34;CP852\u0026#34; #\u0026gt; [55] \u0026#34;CP853\u0026#34; \u0026#34;CP855\u0026#34; #\u0026gt; [57] \u0026#34;CP857\u0026#34; \u0026#34;CP858\u0026#34; #\u0026gt; [59] \u0026#34;CP860\u0026#34; \u0026#34;CP861\u0026#34; #\u0026gt; [61] \u0026#34;CP862\u0026#34; \u0026#34;CP863\u0026#34; #\u0026gt; [63] \u0026#34;CP864\u0026#34; \u0026#34;CP865\u0026#34; #\u0026gt; [65] \u0026#34;cp866\u0026#34; \u0026#34;CP866\u0026#34; #\u0026gt; [67] \u0026#34;CP869\u0026#34; \u0026#34;CP874\u0026#34; #\u0026gt; [69] \u0026#34;cp875\u0026#34; \u0026#34;CP932\u0026#34; #\u0026gt; [71] \u0026#34;CP936\u0026#34; \u0026#34;CP949\u0026#34; #\u0026gt; [73] \u0026#34;CP950\u0026#34; \u0026#34;CSASCII\u0026#34; #\u0026gt; [75] \u0026#34;CSIBM855\u0026#34; \u0026#34;CSIBM857\u0026#34; #\u0026gt; [77] \u0026#34;CSIBM860\u0026#34; \u0026#34;CSIBM861\u0026#34; #\u0026gt; [79] \u0026#34;CSIBM863\u0026#34; \u0026#34;CSIBM864\u0026#34; #\u0026gt; [81] \u0026#34;CSIBM865\u0026#34; \u0026#34;CSIBM866\u0026#34; #\u0026gt; [83] \u0026#34;CSIBM869\u0026#34; \u0026#34;csISO2022JP\u0026#34; #\u0026gt; [85] \u0026#34;CSISOLATIN1\u0026#34; \u0026#34;CSPC775BALTIC\u0026#34; #\u0026gt; [87] \u0026#34;CSPC850MULTILINGUAL\u0026#34; \u0026#34;CSPC862LATINHEBREW\u0026#34; #\u0026gt; [89] \u0026#34;CSPC8CODEPAGE437\u0026#34; \u0026#34;CSPCP852\u0026#34; #\u0026gt; [91] \u0026#34;CSPTCP154\u0026#34; \u0026#34;CSWINDOWS31J\u0026#34; #\u0026gt; [93] \u0026#34;CYRILLIC-ASIAN\u0026#34; \u0026#34;DOS-720\u0026#34; #\u0026gt; [95] \u0026#34;DOS-862\u0026#34; \u0026#34;EUC-CN\u0026#34; #\u0026gt; [97] \u0026#34;euc-jp\u0026#34; \u0026#34;euc-kr\u0026#34; #\u0026gt; [99] \u0026#34;EUC-KR\u0026#34; \u0026#34;EUCCN\u0026#34; #\u0026gt; [101] \u0026#34;eucjp\u0026#34; \u0026#34;euckr\u0026#34; #\u0026gt; [103] \u0026#34;GB18030\u0026#34; \u0026#34;gb2312\u0026#34; #\u0026gt; [105] \u0026#34;GBK\u0026#34; \u0026#34;hz-gb-2312\u0026#34; #\u0026gt; [107] \u0026#34;IBM-CP1133\u0026#34; \u0026#34;IBM-Thai\u0026#34; #\u0026gt; [109] \u0026#34;IBM00858\u0026#34; \u0026#34;IBM00924\u0026#34; #\u0026gt; [111] \u0026#34;IBM01047\u0026#34; \u0026#34;IBM01140\u0026#34; #\u0026gt; [113] \u0026#34;IBM01141\u0026#34; \u0026#34;IBM01142\u0026#34; #\u0026gt; [115] \u0026#34;IBM01143\u0026#34; \u0026#34;IBM01144\u0026#34; #\u0026gt; [117] \u0026#34;IBM01145\u0026#34; \u0026#34;IBM01146\u0026#34; #\u0026gt; [119] \u0026#34;IBM01147\u0026#34; \u0026#34;IBM01148\u0026#34; #\u0026gt; [121] \u0026#34;IBM01149\u0026#34; \u0026#34;IBM037\u0026#34; #\u0026gt; [123] \u0026#34;IBM1026\u0026#34; \u0026#34;IBM273\u0026#34; #\u0026gt; [125] \u0026#34;IBM277\u0026#34; \u0026#34;IBM278\u0026#34; #\u0026gt; [127] \u0026#34;IBM280\u0026#34; \u0026#34;IBM284\u0026#34; #\u0026gt; [129] \u0026#34;IBM285\u0026#34; \u0026#34;IBM290\u0026#34; #\u0026gt; [131] \u0026#34;IBM297\u0026#34; \u0026#34;IBM367\u0026#34; #\u0026gt; [133] \u0026#34;IBM420\u0026#34; \u0026#34;IBM423\u0026#34; #\u0026gt; [135] \u0026#34;IBM424\u0026#34; \u0026#34;IBM437\u0026#34; #\u0026gt; [137] \u0026#34;IBM437\u0026#34; \u0026#34;IBM500\u0026#34; #\u0026gt; [139] \u0026#34;ibm737\u0026#34; \u0026#34;ibm775\u0026#34; #\u0026gt; [141] \u0026#34;IBM775\u0026#34; \u0026#34;IBM819\u0026#34; #\u0026gt; [143] \u0026#34;ibm850\u0026#34; \u0026#34;IBM850\u0026#34; #\u0026gt; [145] \u0026#34;ibm852\u0026#34; \u0026#34;IBM852\u0026#34; #\u0026gt; [147] \u0026#34;IBM855\u0026#34; \u0026#34;IBM855\u0026#34; #\u0026gt; [149] \u0026#34;ibm857\u0026#34; \u0026#34;IBM857\u0026#34; #\u0026gt; [151] \u0026#34;IBM860\u0026#34; \u0026#34;IBM860\u0026#34; #\u0026gt; [153] \u0026#34;ibm861\u0026#34; \u0026#34;IBM861\u0026#34; #\u0026gt; [155] \u0026#34;IBM862\u0026#34; \u0026#34;IBM863\u0026#34; #\u0026gt; [157] \u0026#34;IBM863\u0026#34; \u0026#34;IBM864\u0026#34; #\u0026gt; [159] \u0026#34;IBM864\u0026#34; \u0026#34;IBM865\u0026#34; #\u0026gt; [161] \u0026#34;IBM865\u0026#34; \u0026#34;IBM866\u0026#34; #\u0026gt; [163] \u0026#34;ibm869\u0026#34; \u0026#34;IBM869\u0026#34; #\u0026gt; [165] \u0026#34;IBM870\u0026#34; \u0026#34;IBM871\u0026#34; #\u0026gt; [167] \u0026#34;IBM880\u0026#34; \u0026#34;IBM905\u0026#34; #\u0026gt; [169] \u0026#34;iso-2022-jp\u0026#34; \u0026#34;iso-2022-jp\u0026#34; #\u0026gt; [171] \u0026#34;ISO-2022-JP\u0026#34; \u0026#34;ISO-2022-JP-MS\u0026#34; #\u0026gt; [173] \u0026#34;iso-2022-kr\u0026#34; \u0026#34;ISO-8859-1\u0026#34; #\u0026gt; [175] \u0026#34;iso-8859-13\u0026#34; \u0026#34;iso-8859-15\u0026#34; #\u0026gt; [177] \u0026#34;iso-8859-2\u0026#34; \u0026#34;iso-8859-3\u0026#34; #\u0026gt; [179] \u0026#34;iso-8859-4\u0026#34; \u0026#34;iso-8859-5\u0026#34; #\u0026gt; [181] \u0026#34;iso-8859-6\u0026#34; \u0026#34;iso-8859-7\u0026#34; #\u0026gt; [183] \u0026#34;iso-8859-8\u0026#34; \u0026#34;iso-8859-8-i\u0026#34; #\u0026gt; [185] \u0026#34;iso-8859-9\u0026#34; \u0026#34;ISO-IR-100\u0026#34; #\u0026gt; [187] \u0026#34;ISO-IR-6\u0026#34; \u0026#34;ISO_646.IRV:1991\u0026#34; #\u0026gt; [189] \u0026#34;iso_8859-1\u0026#34; \u0026#34;ISO_8859-1\u0026#34; #\u0026gt; [191] \u0026#34;ISO_8859-1:1987\u0026#34; \u0026#34;iso_8859-13\u0026#34; #\u0026gt; [193] \u0026#34;iso_8859-15\u0026#34; \u0026#34;iso_8859-2\u0026#34; #\u0026gt; [195] \u0026#34;iso_8859-3\u0026#34; \u0026#34;iso_8859-4\u0026#34; #\u0026gt; [197] \u0026#34;iso_8859-5\u0026#34; \u0026#34;iso_8859-6\u0026#34; #\u0026gt; [199] \u0026#34;iso_8859-7\u0026#34; \u0026#34;iso_8859-8\u0026#34; #\u0026gt; [201] \u0026#34;iso_8859-8-i\u0026#34; \u0026#34;iso_8859-9\u0026#34; #\u0026gt; [203] \u0026#34;iso_8859_1\u0026#34; \u0026#34;iso_8859_13\u0026#34; #\u0026gt; [205] \u0026#34;iso_8859_15\u0026#34; \u0026#34;iso_8859_2\u0026#34; #\u0026gt; [207] \u0026#34;iso_8859_3\u0026#34; \u0026#34;iso_8859_4\u0026#34; #\u0026gt; [209] \u0026#34;iso_8859_5\u0026#34; \u0026#34;iso_8859_6\u0026#34; #\u0026gt; [211] \u0026#34;iso_8859_7\u0026#34; \u0026#34;iso_8859_8\u0026#34; #\u0026gt; [213] \u0026#34;iso_8859_8-i\u0026#34; \u0026#34;iso_8859_9\u0026#34; #\u0026gt; [215] \u0026#34;ISO2022-JP\u0026#34; \u0026#34;ISO2022-JP-MS\u0026#34; #\u0026gt; [217] \u0026#34;iso2022-kr\u0026#34; \u0026#34;ISO646-US\u0026#34; #\u0026gt; [219] \u0026#34;iso8859-1\u0026#34; \u0026#34;ISO8859-1\u0026#34; #\u0026gt; [221] \u0026#34;iso8859-13\u0026#34; \u0026#34;iso8859-15\u0026#34; #\u0026gt; [223] \u0026#34;iso8859-2\u0026#34; \u0026#34;iso8859-3\u0026#34; #\u0026gt; [225] \u0026#34;iso8859-4\u0026#34; \u0026#34;iso8859-5\u0026#34; #\u0026gt; [227] \u0026#34;iso8859-6\u0026#34; \u0026#34;iso8859-7\u0026#34; #\u0026gt; [229] \u0026#34;iso8859-8\u0026#34; \u0026#34;iso8859-8-i\u0026#34; #\u0026gt; [231] \u0026#34;iso8859-9\u0026#34; \u0026#34;Johab\u0026#34; #\u0026gt; [233] \u0026#34;JOHAB\u0026#34; \u0026#34;koi8-r\u0026#34; #\u0026gt; [235] \u0026#34;koi8-u\u0026#34; \u0026#34;ks_c_5601-1987\u0026#34; #\u0026gt; [237] \u0026#34;L1\u0026#34; \u0026#34;latin-9\u0026#34; #\u0026gt; [239] \u0026#34;LATIN1\u0026#34; \u0026#34;latin2\u0026#34; #\u0026gt; [241] \u0026#34;latin3\u0026#34; \u0026#34;latin4\u0026#34; #\u0026gt; [243] \u0026#34;latin5\u0026#34; \u0026#34;latin7\u0026#34; #\u0026gt; [245] \u0026#34;latin9\u0026#34; \u0026#34;mac\u0026#34; #\u0026gt; [247] \u0026#34;mac-centraleurope\u0026#34; \u0026#34;mac-is\u0026#34; #\u0026gt; [249] \u0026#34;macarabic\u0026#34; \u0026#34;maccentraleurope\u0026#34; #\u0026gt; [251] \u0026#34;maccroatian\u0026#34; \u0026#34;maccyrillic\u0026#34; #\u0026gt; [253] \u0026#34;macgreek\u0026#34; \u0026#34;machebrew\u0026#34; #\u0026gt; [255] \u0026#34;maciceland\u0026#34; \u0026#34;macintosh\u0026#34; #\u0026gt; [257] \u0026#34;macis\u0026#34; \u0026#34;macroman\u0026#34; #\u0026gt; [259] \u0026#34;macromania\u0026#34; \u0026#34;macthai\u0026#34; #\u0026gt; [261] \u0026#34;macturkish\u0026#34; \u0026#34;macukraine\u0026#34; #\u0026gt; [263] \u0026#34;macukrainian\u0026#34; \u0026#34;MS-ANSI\u0026#34; #\u0026gt; [265] \u0026#34;MS-ARAB\u0026#34; \u0026#34;MS-CYRL\u0026#34; #\u0026gt; [267] \u0026#34;MS-EE\u0026#34; \u0026#34;MS-GREEK\u0026#34; #\u0026gt; [269] \u0026#34;MS-HEBR\u0026#34; \u0026#34;MS-TURK\u0026#34; #\u0026gt; [271] \u0026#34;MS50221\u0026#34; \u0026#34;MS51932\u0026#34; #\u0026gt; [273] \u0026#34;MS932\u0026#34; \u0026#34;MS936\u0026#34; #\u0026gt; [275] \u0026#34;PT154\u0026#34; \u0026#34;PTCP154\u0026#34; #\u0026gt; [277] \u0026#34;SHIFFT_JIS\u0026#34; \u0026#34;SHIFFT_JIS-MS\u0026#34; #\u0026gt; [279] \u0026#34;shift-jis\u0026#34; \u0026#34;shift_jis\u0026#34; #\u0026gt; [281] \u0026#34;SJIS\u0026#34; \u0026#34;SJIS-MS\u0026#34; #\u0026gt; [283] \u0026#34;SJIS-OPEN\u0026#34; \u0026#34;SJIS-WIN\u0026#34; #\u0026gt; [285] \u0026#34;UCS-2\u0026#34; \u0026#34;UCS-2BE\u0026#34; #\u0026gt; [287] \u0026#34;UCS-2LE\u0026#34; \u0026#34;UCS-4\u0026#34; #\u0026gt; [289] \u0026#34;UCS-4BE\u0026#34; \u0026#34;UCS-4BE\u0026#34; #\u0026gt; [291] \u0026#34;UCS-4LE\u0026#34; \u0026#34;UCS-4LE\u0026#34; #\u0026gt; [293] \u0026#34;UCS2\u0026#34; \u0026#34;UCS2BE\u0026#34; #\u0026gt; [295] \u0026#34;UCS2LE\u0026#34; \u0026#34;UCS4\u0026#34; #\u0026gt; [297] \u0026#34;UCS4BE\u0026#34; \u0026#34;UCS4LE\u0026#34; #\u0026gt; [299] \u0026#34;UHC\u0026#34; \u0026#34;unicodeFFFE\u0026#34; #\u0026gt; [301] \u0026#34;US\u0026#34; \u0026#34;US-ASCII\u0026#34; #\u0026gt; [303] \u0026#34;UTF-16\u0026#34; \u0026#34;UTF-16BE\u0026#34; #\u0026gt; [305] \u0026#34;UTF-16LE\u0026#34; \u0026#34;UTF-32\u0026#34; #\u0026gt; [307] \u0026#34;UTF-32BE\u0026#34; \u0026#34;UTF-32LE\u0026#34; #\u0026gt; [309] \u0026#34;UTF-8\u0026#34; \u0026#34;UTF16\u0026#34; #\u0026gt; [311] \u0026#34;UTF16BE\u0026#34; \u0026#34;UTF16LE\u0026#34; #\u0026gt; [313] \u0026#34;UTF32\u0026#34; \u0026#34;UTF32BE\u0026#34; #\u0026gt; [315] \u0026#34;UTF32LE\u0026#34; \u0026#34;UTF8\u0026#34; #\u0026gt; [317] \u0026#34;WINBALTRIM\u0026#34; \u0026#34;windows-1250\u0026#34; #\u0026gt; [319] \u0026#34;windows-1251\u0026#34; \u0026#34;windows-1252\u0026#34; #\u0026gt; [321] \u0026#34;windows-1253\u0026#34; \u0026#34;windows-1254\u0026#34; #\u0026gt; [323] \u0026#34;windows-1255\u0026#34; \u0026#34;windows-1256\u0026#34; #\u0026gt; [325] \u0026#34;windows-1257\u0026#34; \u0026#34;windows-1258\u0026#34; #\u0026gt; [327] \u0026#34;WINDOWS-31J\u0026#34; \u0026#34;WINDOWS-50221\u0026#34; #\u0026gt; [329] \u0026#34;WINDOWS-51932\u0026#34; \u0026#34;windows-874\u0026#34; #\u0026gt; [331] \u0026#34;WINDOWS-932\u0026#34; \u0026#34;WINDOWS-936\u0026#34; #\u0026gt; [333] \u0026#34;x-Chinese_CNS\u0026#34; \u0026#34;x-cp20001\u0026#34; #\u0026gt; [335] \u0026#34;x-cp20003\u0026#34; \u0026#34;x-cp20004\u0026#34; #\u0026gt; [337] \u0026#34;x-cp20005\u0026#34; \u0026#34;x-cp20261\u0026#34; #\u0026gt; [339] \u0026#34;x-cp20269\u0026#34; \u0026#34;x-cp20936\u0026#34; #\u0026gt; [341] \u0026#34;x-cp20949\u0026#34; \u0026#34;x-cp50227\u0026#34; #\u0026gt; [343] \u0026#34;x-EBCDIC-KoreanExtended\u0026#34; \u0026#34;x-Europa\u0026#34; #\u0026gt; [345] \u0026#34;x-IA5\u0026#34; \u0026#34;x-IA5-German\u0026#34; #\u0026gt; [347] \u0026#34;x-IA5-Norwegian\u0026#34; \u0026#34;x-IA5-Swedish\u0026#34; #\u0026gt; [349] \u0026#34;x-iscii-as\u0026#34; \u0026#34;x-iscii-be\u0026#34; #\u0026gt; [351] \u0026#34;x-iscii-de\u0026#34; \u0026#34;x-iscii-gu\u0026#34; #\u0026gt; [353] \u0026#34;x-iscii-ka\u0026#34; \u0026#34;x-iscii-ma\u0026#34; #\u0026gt; [355] \u0026#34;x-iscii-or\u0026#34; \u0026#34;x-iscii-pa\u0026#34; #\u0026gt; [357] \u0026#34;x-iscii-ta\u0026#34; \u0026#34;x-iscii-te\u0026#34; #\u0026gt; [359] \u0026#34;x-mac-arabic\u0026#34; \u0026#34;x-mac-ce\u0026#34; #\u0026gt; [361] \u0026#34;x-mac-chinesesimp\u0026#34; \u0026#34;x-mac-chinesetrad\u0026#34; #\u0026gt; [363] \u0026#34;x-mac-croatian\u0026#34; \u0026#34;x-mac-cyrillic\u0026#34; #\u0026gt; [365] \u0026#34;x-mac-greek\u0026#34; \u0026#34;x-mac-hebrew\u0026#34; #\u0026gt; [367] \u0026#34;x-mac-icelandic\u0026#34; \u0026#34;x-mac-japanese\u0026#34; #\u0026gt; [369] \u0026#34;x-mac-korean\u0026#34; \u0026#34;x-mac-romanian\u0026#34; #\u0026gt; [371] \u0026#34;x-mac-thai\u0026#34; \u0026#34;x-mac-turkish\u0026#34; #\u0026gt; [373] \u0026#34;x-mac-ukrainian\u0026#34; \u0026#34;x_Chinese-Eten\u0026#34;\rhugocmd(m=\u0026#34;expand\u0026#34; ,end=T)\r#\u0026gt;  Âíå‰ΩúÊ•≠Á≥ªÁµ±‰∏ÄËá¥ÁöÑÁ∑®Á¢º\nlocaleToCharset(locale =Sys.getlocale(\u0026quot;LC_CTYPE\u0026quot;))\r Â∑•ÂÖ∑Á®ãÂºè\nnative_encode = function(x) {\rif (.Platform$OS.type == 'unix') return(x)\rx2 = enc2native(x)\rif (identical(enc2utf8(x2), x)) x2 else x\r}\r Â∑•ÂÖ∑Á®ãÂºè\ndetails \u0026lt;- function(x) {\rdetails \u0026lt;-\rlist(x=x,encoding=Encoding(x),bytes=nchar(x,\u0026quot;b\u0026quot;),chars=nchar(x,\u0026quot;c\u0026quot;),\rwidth=nchar(x,\u0026quot;w\u0026quot;),raw=paste(charToRaw(x),collapse=\u0026quot;:\u0026quot;))\rprint(t(as.matrix(details)))\r}\rx \u0026lt;- \u0026quot;Maur\\xEDcio\u0026quot;\rEncoding(x) \u0026lt;- \u0026quot;latin1\u0026quot;\rdetails(x)\r#\u0026gt; x encoding bytes chars width raw #\u0026gt; [1,] \u0026quot;Mauricio\u0026quot; \u0026quot;latin1\u0026quot; 8 8 8 \u0026quot;4d:61:75:72:ed:63:69:6f\u0026quot;\rx \u0026lt;- \u0026quot;‰Ω†Â•Ω\u0026quot;\rEncoding(x) \u0026lt;- \u0026quot;UTF-8\u0026quot;\rdetails(x)\r#\u0026gt; Error in nchar(x, \u0026quot;c\u0026quot;): invalid multibyte string, element 1\rx \u0026lt;- \u0026quot;‰Ω†Â•Ω\u0026quot;\riconv(x,\u0026quot;unknown\u0026quot;,\u0026quot;utf-8\u0026quot;)\r#\u0026gt; Error in iconv(x, \u0026quot;unknown\u0026quot;, \u0026quot;utf-8\u0026quot;): Âú®Á∑®Á¢ºÈ†Å 950 ‰∏≠‰∏çÊîØÊè¥Âæû 'unknown' ËΩâÊèõÂà∞ 'utf-8'\rEncoding(x) \u0026lt;- \u0026quot;UTF-8\u0026quot;\rdetails(x)\r#\u0026gt; Error in nchar(x, \u0026quot;c\u0026quot;): invalid multibyte string, element 1\rx \u0026lt;- \u0026quot;‰Ω†Â•Ω\u0026quot;\ry\u0026lt;-enc2utf8(x)\rdetails(y)\r#\u0026gt; x encoding bytes chars width raw #\u0026gt; [1,] \u0026quot;‰Ω†Â•Ω\u0026quot; \u0026quot;UTF-8\u0026quot; 6 2 4 \u0026quot;e4:bd:a0:e5:a5:bd\u0026quot;\r ÂàùÊ≠•ÁµêË´ñÂ∞±ÊòØÁ≥ªÁµ±‰ΩøÁî®big5ÁöÑÈõô‰ΩçÂÖÉ„ÄÇÁî®enc2utf8(),enc2native()ÊáâË©≤ÊòØÊØîËºÉÁ¨¶Âêàwindows10Á≥ªÁµ±ÁöÑÊñπÊ≥ï„ÄÇ\nÂ∑•ÂÖ∑\n Âà§Êñ∑ÊòØ‰∏çÊòØUTF-8 is.na(iconv(x, \u0026quot;UTF-8\u0026quot;, \u0026quot;UTF-8\u0026quot;))\r  "},
{"uri": "/blogR//rlang/11_environments.html","title": "11 Environments",
	"tags": [],
	"description": "ÈÄ≤Èöé",
	"content": "ÂèÉËÄÉ https://holtzy.github.io/Pimp-my-rmd/\nIntroduction The environment is the data structure that powers scoping. Áõ∏ÈóúÊ¶ÇÂøµ:lexical scoping, namespaces, and R6 classes„ÄÇ\nÈÄôÂÄãÊñá‰ª∂ÈúÄË¶Å devtools::install_github(\u0026quot;tidyverse/rlang\u0026quot;)\nQuiz If you can answer the following questions correctly, you already know the most important topics in this chapter. You can find the answers at the end of the chapter in answers.\n List at least three ways that an environment is different to a list. What is the parent of the global environment? What is the only environment that doesn't have a parent? What is the enclosing environment of a function? Why is it important? How do you determine the environment from which a function was called? How are \u0026lt;- and \u0026lt;\u0026lt;- different?  Outline  Environment basics introduces you to the basic properties of an environment and shows you how to create your own. Recursing over environments provides a function template for computing with environments, illustrating the idea with a useful function. Explicit environments briefly discusses three places where environments are useful data structures for solving other problems.  Prerequisites ÈÄôÂÄãÁ´†ÁØÄÂà©Áî®‰∫ÜÂ•ó‰ª∂rlangË£°ÁöÑÂáΩÊï∏Ôºå‰æÜÊé¢Á¥¢Áí∞Â¢ÉÁâ©‰ª∂„ÄÇ\nÂú®rlangÂ•ó‰ª∂‰∏≠,env_ÂáΩÊï∏ÊòØË®≠Ë®àÁî®‰æÜÂíåpipe‰∏ÄËµ∑Â∑•‰ΩúÁöÑ,ÈÄôË£°‰∏çÊ∑±ÂÖ•„ÄÇ\nglobal_env()Âíåglobalenv()ÁöÑÂü∑Ë°åÁµêÊûú‰∏ÄÊ®£„ÄÇ\n.GlobalEnv\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\rglobalenv()\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\rglobal_env()\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\r.BaseNamespaceEnv\r#\u0026gt; \u0026lt;environment: namespace:base\u0026gt;\rcurrent_env() #\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\r \r\rÂü∫Êú¨ Âü∫Êú¨‰∏ä‰∏ÄÂÄã environment È°û‰ººÂêçÁ®±‰∏≤Âàó(named list),‰ΩÜÊòØÊúâ4ÂÄã‰æãÂ§ñ:\n ÂêçÁ®±ÂîØ‰∏Ä(Â∞±ÊòØËÆäÊï∏ÂîØ‰∏Ä) ÂêçÁ®±Ê≤íÊúâÈ†ÜÂ∫èÈóú‰øÇ ÊúÉÊúâ‰∏ÄÂÄãparent Áï∂ÊîπËÆäÁöÑÊôÇÂÄô,‰∏çÊúÉËá™ÂãïË§áË£Ω (Environments are not copied when modified).  ÂàÜÂà•Êé¢Á¥¢‰∏äÈù¢ÂõõÈªû:\nÊèêË¶Å Ë¶ÅÂª∫Á´ãenvironment, ‰ΩøÁî® rlang::env(). È°û‰ºº‰ΩøÁî®list(),‰πüÊòØ‰∏ÄÁµÑÂêçÁ®±-ÂÄºÁöÑÈÖçÂ∞ç„ÄÇ:\ne1 \u0026lt;- env(\ra = FALSE,\rb = \u0026quot;a\u0026quot;,\rc = 2.3,\rd = 1:3\r)\r Âª∫Á´ãenvironmentÁâ©‰ª∂,Âà©Áî®ÂáΩÊï∏ new.env() ‰∏çÁî®ÁÆ°ÂèÉÊï∏ hash Âíå size„ÄÇÊ≥®ÊÑè‰∏çËÉΩÂà©Áî®\u0026lt;-ÂêåÊôÇÂÆöÁæ©ÂíåÂª∫Á´ã parameters; ‰æãÂ¶Ç, e1 \u0026lt;- env( a \u0026lt;- FALSE ) # error\r\r\renvironmentÁâ©‰ª∂ÂèØ‰ª•ÊÉ≥ÊàêÊòØ‰∏ÄÂÄãË¢ãÂ≠ê,ÊàñÊòØnamesÈõÜÂêà„ÄÇÂõ†ÁÇ∫Ê≤íÊúâÊ¨°Â∫èÈóú‰øÇ\n\rÂ∞±ÂÉèÂú® names and values, Ë®éË´ñÁöÑ,ÈÄôÂÄãÁâ©‰ª∂ÊòØÂèÉËÄÉÁÇ∫Âü∫Á§é.(in C concept) ‰∏çÊúÉÊúâcopy on modifying„ÄÇËÄå‰∏î,Áí∞Â¢ÉÁâ©‰ª∂ÂèØ‰ª•Ëá™Â∑±ÊåáÂêëËá™Â∑±(recursion)\ne1$d \u0026lt;- e1\r \rÊ≤íÊúâÊåáÊ¥æÁöÑÁí∞Â¢ÉËÆäÊï∏,Âè™ÊúÉÈ°ØÁ§∫Ë®òÊÜ∂È´î‰ΩçÂùÄ:\ne1\r#\u0026gt; \u0026lt;environment: 0x0000000013c47d10\u0026gt;\r Ë¶ÅÁü•ÈÅìÂÖßÂÆπÂèØ‰ª•‰ΩøÁî® env_print() :\nenv_print(e1)\r#\u0026gt; \u0026lt;environment: 0000000013C47D10\u0026gt;\r#\u0026gt; parent: \u0026lt;environment: global\u0026gt;\r#\u0026gt; bindings:\r#\u0026gt; * a: \u0026lt;lgl\u0026gt;\r#\u0026gt; * b: \u0026lt;chr\u0026gt;\r#\u0026gt; * c: \u0026lt;dbl\u0026gt;\r#\u0026gt; * d: \u0026lt;env\u0026gt;\r ÊÉ≥Ë¶ÅÁü•ÈÅìÁõÆÂâçÊúâÂì™‰∫õbinding(ÂêçÁ®±-ÂÄº ÈÖçÂ∞ç)ÂèØ‰ª•Âà©Áî® env_names()\nenv_names(e1)\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; \u0026quot;d\u0026quot;\r Ë¶ÅÂàóÂá∫Áí∞Â¢É‰∏ãÁöÑÁπ´ÁµêÔºåÂú®R 3.2.0 ‰ª•‰∏ä,ÂèØ‰ª•‰ΩøÁî®ÂáΩÊï∏names() ,‰πãÂâçÁöÑÁâàÊú¨ÂâáÊòØ ls(), ‰ΩÜÊòØË¶ÅÊ≥®ÊÑèÁöÑÊòØls ÁöÑÂèÉÊï∏ all.names ÂÖßË®≠ÊòØ FALSE Âõ†Ê≠§.ÈñãÈ†≠ÁöÑÁúã‰∏çÂà∞„ÄÇ.\r\r\rImportant environments Âè¶Â§ñÂèÉËÄÉ [Special environments]„ÄÇ current_env() ÂèØ‰ª•Áü•ÈÅìÁõÆÂâçÁ®ãÂºèÁ¢ºÁöÑÂü∑Ë°åÁí∞Â¢É„ÄÇ‰æãÂ¶Ç,Áï∂ÊàëÂÄë‰∫íÂãïÂü∑Ë°åRCODEÁöÑÊôÇÂÄô,Áí∞Â¢ÉÈÄöÂ∏∏ÊòØ [Á∏ΩÈ´îÁí∞Â¢É](#global environment),ÊàñËÄÖÁî±ÂáΩÊï∏global_env()ÂèØ‰ª•ÂæóÂà∞„ÄÇÈÄôÂÄãÁ∏ΩÈ´îÁí∞Â¢ÉÊúâÊôÇÂÄôÂ∞±Âè´\u0026quot;workspace\u0026quot;ÔºåÂêåÊôÇ,ÈÄô‰πüÊòØÂáΩÊï∏Â§ñÈù¢ÊâÄÊúâ‰∫íÂãïË®àÁÆóÁôºÁîüÁöÑÂú∞Êñπ„ÄÇ Áí∞Â¢ÉÁâ©‰ª∂ÁöÑÊØîËºÉ‰∏çËÉΩÁî®==,Âè™ËÉΩÁî®ÂáΩÊï∏identical()„ÄÇ\nidentical(global_env(), current_env())\r#\u0026gt; [1] TRUE\rglobal_env() == current_env()\r#\u0026gt; Error in global_env() == current_env(): Âè™ÊúâÂü∫ÂÖÉÊàñ‰∏≤ÂàóÈ°ûÂûãÊâçËÉΩÂÅöÊØîËºÉ (1)\r  globalenv() Âíå.GlobalEnv: ÊãøÂà∞global environmentand„ÄÇ environment():ÊãøÂà∞ÁõÆÂâçÁöÑÁí∞Â¢É  global environment ÁöÑÂêçÁ®±ÁÇ∫ R_GlobalEnv „ÄÇ\nglobal_env()\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\rcurrent_env()\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\r.GlobalEnv\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\r \r\rParents ÊØè‰∏ÄÂÄãÁí∞Â¢ÉÁâ©‰ª∂ÈÉΩÊúâ‰∏ÄÂÄã parent„ÄÇ parent ‰πü‰∏ÄÂÄãÁí∞Â¢ÉÁâ©‰ª∂„ÄÇÂú®ÊñπÂ°äÂúñ‰∏≠,parent‰ª•ËóçËâ≤ÂúàË°®Á§∫,‰∏¶Áî®ÁÆ≠È†≠ÊåáÂêëÂè¶‰∏ÄÂÄãÁí∞Â¢ÉÁâ©‰ª∂„ÄÇ\nÈÄôÂÄãparentÁî®‰æÜÂª∫Á´ã lexical scoping: Â¶ÇÊûúnameÊ≤íÊúâÂú®ÊüêÂÄãÁí∞Â¢ÉÁâ©‰ª∂ÊâæÂà∞,RÊúÉÈáçË§áÁöÑÂú®parent‰∏≠Êâæ„ÄÇ\nÂáΩÊï∏env()ÂèØ‰ª•Áî®‰æÜÂª∫Á´ã‰∏ÄÂÄãÊ≤íÊúâÂêçÂ≠óÁöÑÁí∞Â¢É You can set the parent environment by supplying an unnamed argument to env(). If you don't supply it, it defaults to the current environment.\ne2a \u0026lt;- env(d = 4, e = 5)\re2b \u0026lt;- env(e2a, a = 1, b = 2, c = 3)\r \r\re2bÁöÑparent ÁÇ∫e2a,e2aÊ≤íÊúâparent„ÄÇ\nÂáΩÊï∏ env_parent()ÂèØ‰ª•Áî®‰æÜÊâæÂá∫ÊüêÂÄãÁí∞Â¢ÉÁâ©‰ª∂ÁöÑparent:\nenv_parent(e2b)\r#\u0026gt; \u0026lt;environment: 0x0000000015418df8\u0026gt;\renv_parent(e2a)\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\r parent.env() === env_parent()\r\r\rÊâÄÊúâÁöÑÁí∞Â¢ÉÁâ©‰ª∂‰∏≠Âè™Êúâ‰∏ÄÂÄãÂêçÁ®±ÁÇ∫R_EmptyEnvÁöÑÁâ©‰ª∂Ê≤íÊúâparent(Áî®Á©∫ÂøÉËóçËâ≤Ë°®Á§∫):\ne2c \u0026lt;- env(empty_env(), d = 4, e = 5)\re2d \u0026lt;- env(e2c, a = 1, b = 2, c = 3)\r \remptyenv() === empty_env()\r\r\rË©¶ÂúñÂà©Áî®ÂáΩÊï∏env_parent()ÊâæÁ©∫Áí∞Â¢ÉÁâ©‰ª∂ÁöÑparentÊúÉÁôºÁîüÈåØË™§:\nenv_parent(empty_env())\r#\u0026gt; Error: The empty environment has no parent\r ÂáΩÊï∏ env_parents()ÂèØ‰ª•ÊâæÂá∫ÁõÆÂâçÁí∞Â¢ÉÁâ©‰ª∂ÁöÑÊâÄÊúâÁ•ñÂÖà:ÈÄôÂÄãÂáΩÊï∏ÊúÉÁπºÁ∫åÁõ¥Âà∞ÈÅá‰∏äglobal environment ÊàñÊòØÁ©∫Áí∞Â¢ÉÁâ©‰ª∂„ÄÇ‰∏äËø∞ÈÅéÁ®ãÂèØ‰ª•Âà©Áî®lastÁí∞Â¢ÉÁâ©‰ª∂ÊéßÂà∂„ÄÇ\nenv_parents(e2b)\r#\u0026gt; [[1]] \u0026lt;env: 0000000015418DF8\u0026gt;\r#\u0026gt; [[2]] $ \u0026lt;env: global\u0026gt;\renv_parents(e2d)\r#\u0026gt; [[1]] \u0026lt;env: 0000000015F16BB0\u0026gt;\r#\u0026gt; [[2]] $ \u0026lt;env: empty\u0026gt;\r ÂèØ‰ª•Âà©Áî®Use parent.env() ÊâæÂà∞Áí∞Â¢ÉÁöÑparentÔºå‰ΩÜÊòØbase‰∏≠Ê≤íÊúâÂèØ‰ª•ÊâæÂá∫ÊâÄÊúâÁ•ñÂÖàÁöÑÂáΩÊï∏„ÄÇ\r\r\rGetting and setting Â≠òÂèñÁí∞Â¢É‰∏≠ÂÖÉÁ¥†ÁöÑÊñπÊ≥ïÂíålistÈ°û‰ºº:‰ΩøÁî® $ Âíå [[:\ne3 \u0026lt;- env(x = 1, y = 2)\re3$x\r#\u0026gt; [1] 1\re3$z \u0026lt;- 3\re3[[\u0026quot;z\u0026quot;]]\r#\u0026gt; [1] 3\r ‰ΩÜÊòØ‰∏çËÉΩ‰ΩøÁî® [[ +Êï∏Â≠óÁ¥¢Âºï,‰πü‰∏çËÉΩÂñÆÁç®‰ΩøÁî® [:\ne3[[1]]\r#\u0026gt; Error in e3[[1]]: ÂèñÂ≠êÈõÜÁí∞Â¢ÉÊôÇÁöÑÂºïÊï∏‰∏çÊ≠£Á¢∫\re3[c(\u0026quot;x\u0026quot;, \u0026quot;y\u0026quot;)]\r#\u0026gt; Error in e3[c(\u0026quot;x\u0026quot;, \u0026quot;y\u0026quot;)]: 'environment' È°ûÂûãÁöÑÁâ©‰ª∂ÁÑ°Ê≥ïÂÖ∑ÊúâÂ≠êÈõÜÂêà\r Áï∂Áí∞Â¢É‰∏≠ÁöÑÁπ´Áµê‰∏çÂ≠òÂú®ÊôÇ(Á∞°ÂñÆÈªû,Â∞±ÊòØËÆäÊï∏‰∏çÂ≠òÂú®ÊôÇ)$ Âíå [[ ÊúÉÂÇ≥Âõû NULL ‰ΩÜ‰∏çÊúÉÂºïÁôºÈåØË™§,Â¶ÇÊûúË¶ÅÊúâÈåØË™§Ë≠¶Âëä,ÂâáÂà©Áî® env_get() :\ne3$xyz\r#\u0026gt; NULL\renv_get(e3, \u0026quot;xyz\u0026quot;)\r#\u0026gt; Error in env_get(e3, \u0026quot;xyz\u0026quot;): Áº∫Â∞ëÂºïÊï∏ \u0026quot;default\u0026quot;Ôºå‰πüÊ≤íÊúâÈ†êË®≠ÂÄº\r Áï∂Áπ´Áµê‰∏çÂ≠òÂú®,‰ΩÜÊòØÊÉ≥Ë¶ÅÊúâÈ†êË®≠ÂÄºÂÇ≥ÂõûÊôÇ,ÂèØ‰ª•Âà©Áî®ÂèÉÊï∏ default .\nenv_get(e3, \u0026quot;xyz\u0026quot;, default = NA)\r#\u0026gt; [1] NA\r Âè¶ÊúâÂÖ©Á®ÆÊñπÂºèÂèØ‰ª•Âú®Áí∞Â¢ÉÁâ©‰ª∂Âä†ÂÖ•Áπ´Áµê:\n  env_poke()1 takes a name (as string) and a value:\nenv_poke(e3, \u0026quot;a\u0026quot;, 100)\re3$a\r#\u0026gt; [1] 100\r   env_bind() allows you to bind multiple values:\nenv_bind(e3, a = 10, b = 20)\renv_names(e3)\r#\u0026gt; [1] \u0026quot;x\u0026quot; \u0026quot;y\u0026quot; \u0026quot;z\u0026quot; \u0026quot;a\u0026quot; \u0026quot;b\u0026quot;\r   env_has(): ÊòØÂê¶Áí∞Â¢É‰∏≠ÊúâÁπ´Áµê\nenv_has(e3, \u0026quot;a\u0026quot;)\r#\u0026gt; a #\u0026gt; TRUE\r ‰∏çËÉΩÂÉèÊòØlist‰∏≠Âà™Èô§ÂÖÉÁ¥†ÁöÑÊñπÂºè(ÊåáÊ¥æNULLÁµ¶ÂÖÉÁ¥†)ÔºåËÄåÂøÖÈ†à‰ΩøÁî® env_unbind():\ne3$a \u0026lt;- NULL\renv_has(e3, \u0026quot;a\u0026quot;)\r#\u0026gt; a #\u0026gt; TRUE\renv_unbind(e3, \u0026quot;a\u0026quot;)\renv_has(e3, \u0026quot;a\u0026quot;)\r#\u0026gt; a #\u0026gt; FALSE\r Âæû‰∏ÄÂÄãÁâ©‰ª∂Unbinding Ëß£Èô§ÂêçÁ®±Ôºå‰∏¶‰∏çÊúÉÂà™Èô§Áâ©‰ª∂ÔºåÊòØÂê¶Âà™Èô§Áâ©‰ª∂ÊòØ garbage collectorÁöÑÂ∑•‰Ωú.„ÄÇÂèØ‰ª•ÂèÉËÄÉ GC.\nSee get(), assign(), exists(), and rm(). These are designed interactively for use with the current environment, so working with other environments is a little clunky. Also beware the inherits argument: it defaults to TRUE meaning that the base equivalents will inspect the supplied environment and all its ancestors.\r\r\rAdvanced bindings There are two more exotic variants of env_bind():\n  env_bind_exprs() creates delayed bindings, which are evaluated the first time they are accessed. Behind the scenes, delayed bindings create promises, so behave in the same way as function arguments.\nenv_bind_exprs(current_env(), b = {Sys.sleep(1); 1})\r#\u0026gt; Warning: `env_bind_exprs()` is deprecated as of rlang 0.3.0.\r#\u0026gt; Please use `env_bind_lazy()` instead.\r#\u0026gt; This warning is displayed once per session.\rsystem.time(print(b))\r#\u0026gt; [1] 1\r#\u0026gt; ‰ΩøÁî®ËÄÖ Á≥ªÁµ± ÊµÅÈÄù #\u0026gt; 0.00 0.00 1.01\rsystem.time(print(b))\r#\u0026gt; [1] 1\r#\u0026gt; ‰ΩøÁî®ËÄÖ Á≥ªÁµ± ÊµÅÈÄù #\u0026gt; 0 0 0\r Delayed bindings are used to implement autoload(), which makes R behave as if the package data is in memory, even though it's only loaded from disk when you ask for it.\n  env_bind_fns() creates active bindings which are re-computed every time they're accessed:\nenv_bind_fns(current_env(), z1 = function(val) runif(1)) #\u0026gt; Warning: `env_bind_fns()` is deprecated as of rlang 0.3.0.\r#\u0026gt; Please use `env_bind_active()` instead.\r#\u0026gt; This warning is displayed once per session.\rz1\r#\u0026gt; [1] 0.5319685\rz1\r#\u0026gt; [1] 0.2939102\r The argument to the function allows you to also override behaviour when the variable is set:\nenv_bind_fns(current_env(), z2 = function(val) {\rif (missing(val)) {\r2\r} else {\rstop(\u0026quot;Don't touch z2!\u0026quot;, call. = FALSE)\r}\r})\rz2\r#\u0026gt; [1] 2\rz2 \u0026lt;- 3\r#\u0026gt; Error: Don't touch z2!\r   See ?delayedAssign() and ?makeActiveBinding().\r\r\rExercises  List three ways in which an environment differs from a list. Create an environment as illustrated by this picture. \r Create a pair of environments as illustrated by this picture. \r Explain why e[[1]] and e[c(\u0026quot;a\u0026quot;, \u0026quot;b\u0026quot;)] don't make sense when e is an environment. Create a version of env_poke() that will only bind new names, never re-bind old names. Some programming languages only do this, and are known as single assignment languages.  Recursing over environments If you want to operate on every ancestor of an environment, it's often convenient to write a recursive function. This section shows you how, applying your new knowledge of environments to write a function that given a name, finds the environment where() that name is defined, using R's regular scoping rules.\nThe definition of where() is straightforward. It has two arguments: the name to look for (as a string), and the environment in which to start the search. (We'll learn why caller_env() is a good default in calling environments.)\nwhere \u0026lt;- function(name, env = caller_env()) {\rif (identical(env, empty_env())) {\r# Base case\rstop(\u0026quot;Can't find \u0026quot;, name, call. = FALSE)\r} else if (env_has(env, name)) {\r# Success case\renv\r} else {\r# Recursive case\rwhere(name, env_parent(env))\r}\r}\r 3ÂÄãÊÉÖÊ≥Å:\n The base case: Âà∞ÈÅîempty environment Ê≤íÊúâparentÁÑ°Ê≥ïÁπºÁ∫å,ÊâÄ‰ª•‰∏üÂá∫error. The successful case: Âú®env‰∏≠ÊâæÂà∞name ÔºåÊàêÂäü,ÊâÄ‰ª•ÂÇ≥Âõûenv„ÄÇ. The recursive case: Âú®env‰∏≠Êâæ‰∏çÂà∞,ÁπºÁ∫åÂú®parent‰∏≠Êâæ„ÄÇ.  These three cases are illustrated with these three examples:\nwhere(\u0026quot;yyy\u0026quot;)\r#\u0026gt; Error: Can't find yyy\rx \u0026lt;- 5\rwhere(\u0026quot;x\u0026quot;)\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\rwhere(\u0026quot;mean\u0026quot;)\r#\u0026gt; \u0026lt;environment: base\u0026gt;\r ÊÉ≥ÂÉèÊúâÂÖ©ÂÄãÁí∞Â¢ÉÁâ©‰ª∂(Â¶ÇÂúñ):\ne4a \u0026lt;- env(empty_env(), a = 1, b = 2)\re4b \u0026lt;- env(e4a, x = 10, a = 11)\r \r where(a, e4a) will find a in e4a. where(\u0026quot;b\u0026quot;, e4a) doesn't find b in e4a, so it looks in its parent, e4b, and finds it there. where(\u0026quot;c\u0026quot;, e4a) looks in e4a, then e4b, then hits the empty environment and throws an error.  It's natural to work with environments recursively, so where() provides a useful template. Removing the specifics of where() shows the structure more clearly:\nf \u0026lt;- function(..., env = caller_env()) {\rif (identical(env, empty_env())) {\r# base case\r} else if (success) {\r# success case\r} else {\r# recursive case\rf(..., env = env_parent(env))\r}\r}\r Iteration vs recursion ‰πüÂèØ‰ª•Áî®Ëø≠‰ª£ÁöÑÊñπÂºè\nf2 \u0026lt;- function(..., env = caller_env()) {\rwhile (!identical(env, empty_env())) {\rif (success) {\r# success case\rreturn()\r}\r# inspect parent\renv \u0026lt;- env_parent(env)\r}\r# base case\r}\r \r\rExercises   Modify where() to return all environments that contain a binding for name. Carefully think through what type of object the function will need to return.\n  Write a function called fget() that finds only function objects. It should have two arguments, name and env, and should obey the regular scoping rules for functions: if there's an object with a matching name that's not a function, look in the parent. For an added challenge, also add an inherits argument which controls whether the function recurses up the parents or only looks in one environment.\n  Special environments ÈÄôË£°Ë®éË´ñ package environments. ÁÑ∂ÂæåÊé¢Ë®éÁï∂ÂáΩÊï∏Âª∫Á´ãÊôÇ,Á∂ÅÂÖ•ÂáΩÊï∏ÁöÑÂáΩÊï∏Áí∞Â¢É„ÄÇÈÇÑÊúâÁï∂ÂáΩÊï∏Ë¢´ÂëºÂè´ÊôÇÁöÑÂü∑Ë°åÁí∞Â¢É(ephemeral)„ÄÇ\nÂ•óË£ùÁí∞Â¢É‰∏ªË¶ÅÊòØÁúãÈÄô‰∫õÁí∞Â¢ÉÂ¶Ç‰ΩïÊîØÊè¥namespaces„ÄÇÂêåÊôÇ,namespaceËÆìpackageÊØèÊ¨°ËºâÂÖ•ÁöÑÊôÇÂÄô,ÈÉΩÊúâ‰∏ÄÊ®£ÁöÑË°åÁÇ∫,ËÄå‰∏çÂîÆÂÖ∂‰ªñpackagesËºâÂÖ•ÂÖàÂæåÁöÑÂΩ±Èüø„ÄÇ\nÂ•ó‰ª∂Áí∞Â¢ÉÂíåÊêúÂ∞ãË∑ØÂæë ÊØèÂÄãÂ•ó‰ª∂Á∂ìÁî±library() Êàñ require() Êé•ÂÖ•ÊàêÁÇ∫Á∏ΩÈ´îÁí∞Â¢ÉÁöÑparent„ÄÇËÄåÊúÄÂæå‰∏ÄÂÄãÊé•ÂÖ•ÁöÑÂ•ó‰ª∂,ÂâáÊòØÁ∏ΩÈ´îÁí∞Â¢ÉÁöÑÁ¨¨‰∏ÄÂÄãparent:\nload Âíå attach‰∏ç‰∏ÄÊ®£ÔºåÁï∂ÊàëÂÄë‰ΩøÁî®requireÊàñ libraryÁöÑÊôÇÂÄô,ÊàëÂÄëÂÅöÁöÑÊòØattach „ÄÇÂ∞±ÊòØÂú®ÁõÆÂâç(‰ΩøÁî®ËÄÖ)Áí∞Â¢É‰∏≤Âàó‰∏≠Âä†ÂÖ•ÊàëÂÄëÂà©Áî®libraryËºâÂÖ•ÁöÑÁâ©‰ª∂.\n attaching and .onAttach  thus means that a package is attached to the user space aka the global environment usually this is done via library(pkg) and you can use normal fun() syntax   loading and .onLoad  thus means that package is (in any way) made available to the current R-session (e.g. by loading/attaching another package that depends on it or by using pkg::fun() syntax the first time) though you will not find functions in the global environment you can use pkg::fun()    \r\r‰æãÂ¶ÇÊâæÂá∫Á∏ΩÈ´îÁí∞Â¢ÉÁöÑparent\nenv_parent(global_env())\r#\u0026gt; \u0026lt;environment: package:rlang\u0026gt;\r#\u0026gt; attr(,\u0026quot;name\u0026quot;)\r#\u0026gt; [1] \u0026quot;package:rlang\u0026quot;\r#\u0026gt; attr(,\u0026quot;path\u0026quot;)\r#\u0026gt; [1] \u0026quot;C:/Users/linchao/Documents/R/win-library/4.1/rlang\u0026quot;\r ÊâæÂà∞ÊòØÊúÄËøë‰∏ÄÊ¨°,‰ΩøÁî®Êåá‰ª§library(packageA),Ë£°Èù¢ÈÄôÂÄãpackageA„ÄÇ‰ª•Ê≠§È°ûÊé®,‰∏ãÈù¢ÊâæÂá∫Âú®packageA‰πãÂâçÁöÑÂ•ó‰ª∂Áí∞Â¢É„ÄÇ\nenv_parent(env_parent(global_env()))\r#\u0026gt; \u0026lt;environment: package:stats\u0026gt;\r#\u0026gt; attr(,\u0026quot;name\u0026quot;)\r#\u0026gt; [1] \u0026quot;package:stats\u0026quot;\r#\u0026gt; attr(,\u0026quot;path\u0026quot;)\r#\u0026gt; [1] \u0026quot;C:/Program Files/R/R-4.1.1/library/stats\u0026quot;\r Â¶ÇÊûú‰∏ÄÂ±§‰∏ÄÂ±§parentÂõûÊúî,Â∞±ÂèØ‰ª•Âà∞ÊØèÂÄãÂ•ó‰ª∂Ë¢´Êé•ÂÖ•ÁöÑÈ†ÜÂ∫è,ÈÄô‰πüÊòØRÂü∑Ë°å‰∏≠ÊúÉÁî®Âà∞ÁöÑ search path Âõ†ÁÇ∫ÈÄô‰∫õÁí∞Â¢ÉÁöÑÊâÄÊúâÁâ©‰ª∂ÈÉΩÂèØ‰ª•Á∂ìÁî± top-level interactive workspaceÊâæÂà∞„ÄÇ\nsearch_envs()\r#\u0026gt; [[1]] $ \u0026lt;env: global\u0026gt;\r#\u0026gt; [[2]] $ \u0026lt;env: package:rlang\u0026gt;\r#\u0026gt; [[3]] $ \u0026lt;env: package:stats\u0026gt;\r#\u0026gt; [[4]] $ \u0026lt;env: package:graphics\u0026gt;\r#\u0026gt; [[5]] $ \u0026lt;env: package:grDevices\u0026gt;\r#\u0026gt; [[6]] $ \u0026lt;env: package:utils\u0026gt;\r#\u0026gt; [[7]] $ \u0026lt;env: package:datasets\u0026gt;\r#\u0026gt; [[8]] $ \u0026lt;env: package:methods\u0026gt;\r#\u0026gt; [[9]] $ \u0026lt;env: Autoloads\u0026gt;\r#\u0026gt; [[10]] $ \u0026lt;env: package:base\u0026gt;\r ÂáΩÊï∏ search()ÂèØ‰ª•ÊâæÂá∫Áí∞Â¢ÉÁâ©‰ª∂ÁöÑÂêçÁ®±„ÄÇ\r\r\rÊúÄÂæåÂÖ©ÂÄãÁí∞Â¢ÉÁâ©‰ª∂ÈÉΩ‰∏ÄÊ®£:\n  Autoloads Áí∞Â¢ÉÁâ©‰ª∂,Âà©Áî® delayed bindings‰æÜÁØÄÁúÅË®òÊÜ∂È´îÔºå‰πüÂ∞±ÊòØÂú®ÈúÄË¶ÅÁöÑÊôÇÂÄôÊâçËºâÂÖ•(loading)package‰∏≠ÁöÑÁâ©‰ª∂(‰æãÂ¶ÇÂ§ßÂûãË≥áÊñôÈõÜ)„ÄÇ\n  base environment, package:base ÊàñÁ∞°Á®± base, ÊòØbase Â•óË£ùÁöÑÁí∞Â¢ÉÁâ©‰ª∂„ÄÇÁî®‰æÜ ËºâÂÖ•ÂÖ∂‰ªñÂ•óË£ù(bootstrap)„ÄÇÂà©Áî®ÂáΩÊï∏ base_env()Â≠òÂèñ.\n  Âà©Áî®ÂúñÂûãË°®Á§∫:\n\rÁï∂Âà©Áî® library() attachÂÖ∂‰ªñÂ•ó‰ª∂ÁöÑÊôÇÂÄô, Á∏ΩÈ´îÁí∞Â¢ÉÁöÑparentÈ¶¨‰∏äÊîπËÆä:\n\rThe function environment Áï∂ÂáΩÊï∏Ë¢´Âª∫Á´ãÁöÑÊôÇÂÄô,ÁèæÊúâÁöÑÁí∞Â¢ÉÊúÉË¢´Áπ´Áµê„ÄÇÁ®±ÁÇ∫function environment, ‰∏ªË¶ÅÁî®‰æÜÊîØÊè¥lexical scoping. Âú®ÈõªËÖ¶Ë™ûË®Ä‰∏≠,Áï∂ÂáΩÊï∏Á¥ÄÈåÑÂÆÉÂÄëÁöÑÈÅã‰ΩúÁí∞Â¢ÉÊôÇ,ÊàëÂÄëË™™ÈÄôÂÄãÂáΩÊï∏Â±¨Êñº closures„ÄÇ,ÈÄô‰πüÊòØÁÇ∫ÁîöÈ∫ºÈÄôÂÄãÂ≠óÁúºÁ∂ìÂ∏∏Âú®RË™ûË®Ä‰∏≠Âá∫Áèæ„ÄÇ.\nÂà©Áî®ÂáΩÊï∏ fn_env()ÂèØ‰ª•ÂæóÂà∞ÂáΩÊï∏ÁöÑÁí∞Â¢ÉÁâ©‰ª∂:\ny \u0026lt;- 1\rf \u0026lt;- function(x) x + y\rfn_env(f)\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\r ‰∏ÄÊ®£Âà©Áî®ÂáΩÊï∏ environment(f) ÂèØ‰ª•ÊâæÂà∞ÂáΩÊï∏ fÁöÑÁí∞Â¢É.\r\r\rÂú®ÂúñÂΩ¢‰∏≠,ÂáΩÊï∏Ë¢´Áï´ÊàêÈ°û‰ººÂ≠êÂΩà,ËÄåÂΩàÈ†≠ÁöÑÈÉ®ÂàÜÁπ´ÁµêÁí∞Â¢É„ÄÇ\n\rÂú®ÈÄôÂÄãÊ°à‰æã‰∏≠,f()Áπ´ÁµêÁöÑÁí∞Â¢ÉÁâ©‰ª∂,Â∞±ÊòØÁπ´ÁµêÂêçÁ®±fÁöÑÁí∞Â¢É„ÄÇ‰ΩÜ‰∏¶‰∏ç‰∏ÄÂÆöÁ∏ΩÊòØÈÄôÊ®£Ôºå‰æãÂ¶ÇÂú®‰∏ã‰∏ÄÂÄã‰æãÂ≠ê‰∏≠,gË¢´Áπ´ÁµêÂú®Êñ∞Áí∞Â¢ÉÁâ©‰ª∂e‰∏≠„ÄÇ‰ΩÜÊòØÂáΩÊï∏g()Áπ´ÁµêÁöÑÊòØglobal environment„ÄÇÈÄô‰πãÈñìÁöÑÂàÜÂà•ÊòØÊàëÂÄëÂ¶Ç‰ΩïÊâæÂà∞gÂíågÂ¶Ç‰ΩïÊâæÂà∞‰ªñÁöÑËÆäÊï∏„ÄÇ\ne \u0026lt;- env()\re$g \u0026lt;- function() 1\r \rNamespaces Âú®‰∏äÈù¢ÁöÑÂúñÂΩ¢‰∏≠,ÊàëÂÄëÂ∑≤Á∂ìÁü•ÈÅìÂ•ó‰ª∂ÁöÑparentÊúÉÈö®Ëëó‰πãÂâçÂ•ó‰ª∂ËºâÂÖ•ÁöÑÈ†ÜÂ∫è‰∏çÂêåËÄå‰∏çÂêå„ÄÇÈÄôÂ∞±Â∞éËá¥RÁ®ãÂºèË®≠Ë®àËÄÖÂøÖÈ†à‰øùË≠âÂÄãÂà•Â•ó‰ª∂‰∏äÂ¶ÇÊûú‰ΩøÁî®Âà•ÁöÑÂ•ó‰ª∂ÁöÑÂáΩÊï∏ÔºåÂøÖÈ†àÊòØÂéüÂßãÁõÆÁöÑÁöÑÈÇ£‰∏ÄÂÄã„ÄÇnamespaces Â∞±ÊòØÁÇ∫Ê≠§ÁõÆÁöÑËÄåÁî¢Áîü: ÊØèÂÄãÂ•ó‰ª∂ÂøÖÈ†àÁöÑ‰ΩøÁî®ÂøÖÈ†à‰∏ÄËá¥,ËÄå‰∏çÁÆ°‰ΩøÁî®ËÄÖÂ¶Ç‰ΩïËºâÂÖ•Â•ó‰ª∂.\n‰ª• sd()ÁÇ∫‰æãÂ≠ê:\nsd\r#\u0026gt; function (x, na.rm = FALSE) #\u0026gt; sqrt(var(if (is.vector(x) || is.factor(x)) x else as.double(x), #\u0026gt; na.rm = na.rm))\r#\u0026gt; \u0026lt;bytecode: 0x000000001c9a2d28\u0026gt;\r#\u0026gt; \u0026lt;environment: namespace:stats\u0026gt;\r sd() ÂøÖÈ†à‰ΩøÁî®ÂáΩÊï∏ var(), Âõ†Ê≠§ÈÄôÂÄãvar()Âà∞Â∫ï‰æÜËá™ global environment,ÈÇÑÊòØÂÖ∂‰ªñÊé•ÂÖ•(attached)ÁöÑÂ•ó‰ª∂ÁöÑÈÄôÁ®ÆÂïèÈ°åÂøÖÈ†àÈÅøÂÖç„ÄÇ R avoids this problem by taking advantage of the function vs. binding environment described above.\nÊØèÂÄãÂ•ó‰ª∂‰∏≠ÁöÑÂáΩÊï∏Âíå‰∏ÄÂ∞çÁí∞Â¢ÉÁâ©‰ª∂ÊúâÈóú:Â•ó‰ª∂Áí∞Â¢É(‰πãÂâçÂ≠∏Âà∞ÁöÑ)ÈÇÑÊúâ namespace Áí∞Â¢ÉÁâ©‰ª∂„ÄÇ\n package environment: ÊòØÂ•ó‰ª∂ÁöÑÂ§ñÈÉ®‰ªãÈù¢ÔºåÈÄôÊòØR‰ΩøÁî®ËÄÖÂ¶Ç‰ΩïÂú®Êé•ÂÖ•ÁöÑÂ•ó‰ª∂‰∏≠Â∞ãÊâæÂáΩÊï∏ÁöÑÂú∞Êñπ(ÊàñËÄÖÂèØ‰ª•Âà©Áî® ::) package enviromnent ÁöÑparent Áî±ÊêúÂ∞ãË∑ØÂæëÊ±∫ÂÆö(ÂèØ‰ª•Âà©Áî®search()Áü•ÈÅì)Ê±∫ÂÆö(‰πüÂ∞±ÊòØËºâÂÖ•ÁöÑÈ†ÜÂ∫è) namespace environment:ÊòØÂ•ó‰ª∂ÁöÑÂÖßÈÉ®‰ªãÈù¢„ÄÇpackage environment ÊéßÂà∂ÊàëÂÄëÂ¶Ç‰ΩïÊâæÂà∞ÂáΩÊï∏,ËÄånamespace environmentÊéßÂà∂ÂáΩÊï∏Â¶Ç‰ΩïÊâæÂà∞ËÆäÊï∏„ÄÇ  Âú®package environmentÁöÑÊØèÂÄãÁπ´Áµê‰πüÂèØ‰ª•Âú®namespace environment‰∏≠ÊâæÂà∞„ÄÇÈÄôÊ®£ÂèØ‰ª•Á¢∫‰øùÊØèÂÄãÂáΩÊï∏ÂèØ‰ª•‰ΩøÁî®Â•ó‰ª∂‰∏≠ÁöÑÂÖ∂‰ªñÂáΩÊï∏„ÄÇ‰ΩÜÊòØÊúâ‰∫õÁπ´ÁµêÂè™ËÉΩÂú®namespace ‰∏≠ÊâæÂà∞(‰æãÂ¶ÇÂÖßÈÉ®ÊàñÈùûËº∏Âá∫Áâ©‰ª∂),ÈÄôÁ®ÆÂÖßÈÉ®Áâ©‰ª∂ÈÄöÂ∏∏ÊòØÁî®‰æÜÈö±Ëóè‰∏Ä‰∫õÁπÅÁë£ÁöÑ‰∏î‰∏çÈúÄË¶ÅÁµ¶‰ΩøÁî®ËÄÖÁúãÂà∞ÁöÑÁ¥∞ÁØÄ„ÄÇ;\n\rÊØèÂÄãnamespace environment Êúâ‰∏ÄÊ®£ÁöÑÁ•ñÈõÜÂêà:\n ÊØèÂÄãnamespaceÊúâ imports ÁöÑÁí∞Â¢ÉÁâ©‰ª∂ÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∫ÜÂ•ó‰ª∂‰∏≠Áî®Âà∞ÁöÑÊâÄÊúâÂáΩÊï∏Áπ´Áµê„ÄÇËÄåÊâÄË¨ÇËº∏ÂÖ•Áí∞Â¢ÉÂØ¶ÈöõÁî±Â•óË£ùÈñãÁôº‰∫∫Âì°Âú®Ê™îÊ°àNAMESPACEÊåáÂÆö ÊòéÁ¢∫ÁöÑËº∏ÂÖ•ÊØèÂÄãbaseÂáΩÊï∏,ÂæàÁπÅÁë£,ÊâÄ‰ª•RÁõ¥Êé•Ë®≠ÂÆöimport enviromentÁöÑparentÊòØbase *namespae*[^1]„ÄÇ  The base namespace contains the same bindings as the base environment, but it has different parent.\r\r\r base namespace ÁöÑparentÊòØÁ∏ΩÈ´îÁí∞Â¢É(#global environment).ÂèÉËÄÉ‰∏ãÂúñ,ÈÄôÁ®ÆË®≠Ë®àÂ∞éËá¥Âú®import environment‰∏≠Êâæ‰∏çÂà∞Áπ´ÁµêÊôÇ,ÊúÉÈñãÂßãÂÜçÁ∏ΩÈ´îÁí∞Â¢É‰∏≠Â∞ãÊâæ,ËÄå‰πãÂâçÊèêÈÅéÁ∏ΩÈ´îÁí∞Â¢ÉÈÄöÂ∏∏ÊòØ‰∫íÂãïÁí∞Â¢É‰∏ãÂêçÁ®±ÊêúÂ∞ãÁöÑÈñãÂßãË∑ØÂæë,ÈÄô‰πüÂ∞éËá¥ÊêúÂ∞ãÁöÑÊñπÂºèÂèóÂà∞Â•ó‰ª∂ËºâÂÖ•È†ÜÂ∫èÁöÑÂΩ±Èüø„ÄÇÂõ†Ê≠§,RÊèê‰æõ‰∫Ü‰∫ÜR CMD check‰æÜË≠¶ÂëäÊ≠§Á®ÆÊÉÖÊ≥ÅÁöÑÁôºÁîü„ÄÇ(ÈõñÁÑ∂ÊúâÈ∫ªÁÖ©,‰ΩÜÊòØÁî±ÊñºS3 ÊñπÊ≥ïÁöÑdispatch Èóú‰øÇ,Ê≠§Á®ÆÊñπÂºè‰ªçÁÑ∂ÁïôËëó)  \rÁ∂úÂêà‰∏äËø∞,ÂèØ‰ª•ÂæóÂà∞‰∏ãÂúñ:: \rÊâÄ‰ª•Áï∂ sd() ÊêúÂ∞ãvar ÁöÑÂÄºÁöÑÊôÇÂÄô,ÊêúÂ∞ãÈ†ÜÂ∫èÊòØÂèóÂà∞ÈñãÁôºËÄÖÁöÑÊåáÂÆö(Âú®Ê™îÊ°àNAMESPACEÂà©Áî®import)ÔºåËÄå‰∏çÊúÉÂèóÂà∞Â•óË£ù‰ΩøÁî®ËÄÖÁöÑÂΩ±Èüø„ÄÇÈÄôÊ®£‰øùË≠âÊØèÊ¨°Â•ó‰ª∂Á®ãÂºèÁ¢ºÂü∑Ë°åÁöÑÊôÇÂÄô,ÈÉΩ‰∏ÄÊ®£,ËÄå‰∏çÊúÉÂèóÂà∞‰∏ÄËà¨‰ΩøÁî®ËÄÖËºâÂÖ•Â•ó‰ª∂ÁöÑÈ†ÜÂ∫èËÄåÂΩ±Èüø„ÄÇ\nÊ≥®ÊÑèÂú®packageÂíånamespaceÂÖ©Á®ÆÁí∞Â¢É‰πãÈñìÊ≤íÊúâÁõ¥Êé•ÁöÑÈÄ£Áµê.ÈÄ£ÁµêÊòØÁî±ÂáΩÊï∏Áí∞Â¢ÉÂÆöÁæ©„ÄÇ\nExecution environments execution environment. ‰∏ãÈù¢ÁöÑÂáΩÊï∏Á¨¨‰∏ÄÊ¨°Âü∑Ë°åÁöÑÊôÇÂÄôÊúÉÂÇ≥ÂõûÁîöÈ∫º?Á¨¨2Ê¨°Âë¢?\ng \u0026lt;- function(x) {\rif (!env_has(current_env(), \u0026quot;a\u0026quot;)) {\rmessage(\u0026quot;Defining a\u0026quot;)\ra \u0026lt;- 1\r} else {\ra \u0026lt;- a + 1\r}\ra\r}\r ÂÜç‰∏ÄÊ¨°Âà©Áî®‰∏ãÈù¢ÁöÑË™øÁî®,Á¢∫Ë™ç‰Ω†ÁöÑÁ≠îÊ°à:\ng(10)\r#\u0026gt; Defining a\r#\u0026gt; [1] 1\rg(10)\r#\u0026gt; Defining a\r#\u0026gt; [1] 1\rg(11)\r#\u0026gt; Defining a\r#\u0026gt; [1] 1\r ÈÄôÂÄãÂáΩÊï∏ÊØèÊ¨°Âü∑Ë°åÈÉΩÂÇ≥ÂõûüíØ‰∏ÄÊ®£ÁöÑÁ≠îÊ°à,ÂèÉËÄÉ a fresh start. ÊØèÊ¨°ÂáΩÊï∏Ë¢´Ë™øÁî®ÁöÑÊôÇÂÄô,‰∏ÄÂÄãÊñ∞ÁöÑÁí∞Â¢ÉÈÉΩÊúÉË¢´Âª∫Á´ã‰æÜ‰∏ªÂ∞éÂü∑Ë°å„ÄÇÈÄôÁ®ÆÁí∞Â¢ÉÁ®±ÁÇ∫Âü∑Ë°åÁí∞Â¢É„ÄÇËÄåÂü∑Ë°åÁí∞Â¢ÉÁöÑparentÁÇ∫ function environment.\nÁî®Âè¶‰∏ÄÂÄãÁ∞°ÂñÆÈªûÁöÑ‰æãÂ≠êË™™Êòé. (Âúñ‰∏≠,Âü∑Ë°åÁí∞Â¢ÉÁöÑparentÈñìÊé•Ë°®Á§∫:Á∂ìÁî±ÂáΩÊï∏Áí∞Â¢É).\nh \u0026lt;- function(x) {\r# 1.\ra \u0026lt;- 2 # 2.\rx + a\r}\ry \u0026lt;- h(1) # 3.\r \rÂü∑Ë°åÁí∞Â¢É(execution environment)Áü≠Êö´Â≠òÂú®,Áï∂ÂáΩÊï∏Âü∑Ë°åÂÆåÁï¢ÈÄöÂ∏∏ÊúÉË¢´GC„ÄÇÂú®ÂπæÁ®ÆÊÉÖÊ≥Å‰∏ã,ÊúÉÂú®Ë®òÊÜ∂È´îÂ≠òÂú®ÊØîËºÉ‰πÖ,Á¨¨‰∏ÄÁ®ÆÊòØÂõûÂÇ≥Áµ¶Âè¶‰∏ÄÂÄãËÆäÊï∏:\nh2 \u0026lt;- function(x) {\ra \u0026lt;- x * 2\rcurrent_env()\r}\re \u0026lt;- h2(x = 10)\renv_print(e)\r#\u0026gt; \u0026lt;environment: 000000001D3DEF08\u0026gt;\r#\u0026gt; parent: \u0026lt;environment: global\u0026gt;\r#\u0026gt; bindings:\r#\u0026gt; * a: \u0026lt;dbl\u0026gt;\r#\u0026gt; * x: \u0026lt;dbl\u0026gt;\rfn_env(h2)\r#\u0026gt; \u0026lt;environment: R_GlobalEnv\u0026gt;\r Another way to capture it is to return an object with a binding to that environment, like a function. The following example illustrates that idea with a function factory, plus(). We use that factory to create a function called plus_one().\nThere's a lot going on in the diagram because the enclosing environment of plus_one() is the execution environment of plus().\nplus \u0026lt;- function(x) {\rfunction(y) x + y\r}\rplus_one \u0026lt;- plus(1)\rplus_one\r#\u0026gt; function(y) x + y\r#\u0026gt; \u0026lt;environment: 0x000000001d7333a0\u0026gt;\r \rWhat happens when we call plus_one()? Its execution environment will have the captured execution environment of plus() as its parent:\nplus_one(2)\r#\u0026gt; [1] 3\r \rYou'll learn more about function factories in functional programming.\nExercises   How is search_envs() different to env_parents(global_env())?\n  Draw a diagram that shows the enclosing environments of this function:\nf1 \u0026lt;- function(x1) {\rf2 \u0026lt;- function(x2) {\rf3 \u0026lt;- function(x3) {\rx1 + x2 + x3\r}\rf3(3)\r}\rf2(2)\r}\rf1(1)\r   Write an enhanced version of str() that provides more information about functions. Show where the function was found and what environment it was defined in.\n  The call stack ÈÇÑÊúâÂè¶‰∏ÄÁ®ÆÁí∞Â¢ÉÁ®±ÁÇ∫ caller environment, ÂèØ‰ª•Á∂ìÁî± rlang::caller_env()Â≠òÂèñ„ÄÇ. This provides the environment from which the function was called, and hence varies based on how the function is called, not how the function was created. As we saw above this is a useful default whenever you write a function that takes an environment as an argument.\nparent.frame() is equivalent to caller_env(); just note that it returns an environment, not a frame.\r\r\rTo fully understand the caller environment we need to discuss two related concepts: the call stack, which is made up of frames. Executing a function creates two types of context. You've learned about one already: the execution environment is a child of the function environment, which is determined by where the function was created. There's another type of context created by where the function was called: this is called the call stack.\nThere are also a couple of small wrinkles when it comes to custom evaluation. See environments vs. frames for more details.\nSimple call stacks Let's illustrate this with a simple sequence of calls: f() calls g() calls h().\nf \u0026lt;- function(x) {\rg(x = 2)\r}\rg \u0026lt;- function(x) {\rh(x = 3)\r}\rh \u0026lt;- function(x) {\rstop()\r}\r The way you most commonly see a call stack in R is by looking at the traceback() after an error has occured:\nf(x = 1)\r#\u0026gt; Error:\rtraceback()\r#\u0026gt; 4: stop()\r#\u0026gt; 3: h(x = 3) #\u0026gt; 2: g(x = 2)\r#\u0026gt; 1: f(x = 1)\r Instead of stop() + traceback() to understand the call stack, we're going to use lobstr::cst() to print out the call stack tree:\nh \u0026lt;- function(x) {\rlobstr::cst()\r}\rf(x = 1)\r#\u0026gt; ???\r#\u0026gt; ??Óúø?¬Äf(x = 1)\r#\u0026gt; ??Óúø?¬Äg(x = 2)\r#\u0026gt; ??Óúø?¬Äh(x = 3)\r#\u0026gt; ??Óúø?¬Älobstr::cst()\r This shows us that cst() was called from h(), which was called from g(), which was called from f(). Note that the order is the opposite from traceback(). As the call stacks get more compliated, I think it's easier to understand the sequence of calls if you start from the beginning, rather than the end (i.e. f() calls g(); rather than g() was called by f()).\nLazy evaluation The call stack above is simple - while you get a hint that there's some tree-like structure involved, everything happens on a single branch. This is typical of a call stack when all arguments are eagerly evaluated.\nLet's create a more complicated example that involves some lazy evaluation. We'll create a sequence of functions, a(), b(), c(), that pass along an argument x.\na \u0026lt;- function(x) b(x)\rb \u0026lt;- function(x) c(x)\rc \u0026lt;- function(x) x\ra(f())\r#\u0026gt; ???\r#\u0026gt; ??Ó∞ß?¬Äa(f())\r#\u0026gt; ??? ??Óúø?¬Äb(x)\r#\u0026gt; ??? ??Óúø?¬Äc(x)\r#\u0026gt; ??Óúø?¬Äf()\r#\u0026gt; ??Óúø?¬Äg(x = 2)\r#\u0026gt; ??Óúø?¬Äh(x = 3)\r#\u0026gt; ??Óúø?¬Älobstr::cst()\r x is lazily evaluated so this tree gets two branches. In the first branch a() calls b(), then b() calls c(). The second branch starts when c() evaluates its argument x. This argument is evaluated in a new branch because the environment in which it is evaluated is the global environment, not the environment of c().\nFrames Each element of the call stack is a frame2, also known as an evaluation context. The frame is an extremely important internal data structure, and R code can only access a small part of the data structure because it's so critical. A frame has three main components that are accessible from R:\n  An expression (labelled with expr) giving the function call. This is what traceback() prints out.\n  An environment (labelled with env), which is typically the execution environment of a function. There are two main exceptions: the environment of the global frame is the global environment, and calling eval() also generates frames, where the environment can be anything.\n  A parent, the previous call in the call stack (shown by a grey arrow).\n  \r(To focus on the calling environments, I have omitted the bindings in the global environment from f, g, and h to the respective function objects.)\nThe frame also holds exit handlers created with on.exit(), restarts and handlers for the condition system, and which context to return() to when a function completes. These are important for the internal operation of R, but are not directly accessible.\nDynamic scope Looking up variables in the calling stack rather than in the enclosing environment is called dynamic scoping. Few languages implement dynamic scoping (Emacs Lisp is a notable exception.) This is because dynamic scoping makes it much harder to reason about how a function operates: not only do you need to know how it was defined, you also need to know the context in which it was called. Dynamic scoping is primarily useful for developing functions that aid interactive data analysis. It is one of the topics discussed in non-standard evaluation.\nExercises  Write a function that lists all the variables defined in the environment in which it was called. It should return the same results as ls().  As data structures As well as powering scoping, environments are also useful data structures in their own right because they have reference semantics. There are three common problems that they can help solve:\n  Avoiding copies of large data. Since environments have reference semantics, you'll never accidentally create a copy. This makes it a useful vessel for large objects. Bare environments are not that pleasant to work with; I recommend using R6 objects instead. Learn more in [R6].\n  Managing state within a package. Explicit environments are useful in packages because they allow you to maintain state across function calls. Normally, objects in a package are locked, so you can't modify them directly. Instead, you can do something like this:\nmy_env \u0026lt;- new.env(parent = emptyenv())\rmy_env$a \u0026lt;- 1\rget_a \u0026lt;- function() {\rmy_env$a\r}\rset_a \u0026lt;- function(value) {\rold \u0026lt;- my_env$a\rmy_env$a \u0026lt;- value\rinvisible(old)\r}\r Returning the old value from setter functions is a good pattern because it makes it easier to reset the previous value in conjunction with on.exit() (see more in on exit).\n  As a hashmap. A hashmap is a data structure that takes constant, O(1), time to find an object based on its name. Environments provide this behaviour by default, so can be used to simulate a hashmap. See the CRAN package hash for a complete development of this idea.\n  \u0026lt;\u0026lt;- The ancestors of an environment have an important relationship to \u0026lt;\u0026lt;-. The regular assignment arrow, \u0026lt;-, always creates a variable in the current environment. The deep assignment arrow, \u0026lt;\u0026lt;-, never creates a variable in the current environment, but instead modifies an existing variable found by walking up the parent environments.\nx \u0026lt;- 0\rf \u0026lt;- function() {\rx \u0026lt;\u0026lt;- 1\r}\rf()\rx\r#\u0026gt; [1] 1\r If \u0026lt;\u0026lt;- doesn't find an existing variable, it will create one in the global environment. This is usually undesirable, because global variables introduce non-obvious dependencies between functions. \u0026lt;\u0026lt;- is most often used in conjunction with a closure, as described in Closures.\nExercises   What does this function do? How does it differ from \u0026lt;\u0026lt;- and why might you prefer it?\nrebind \u0026lt;- function(name, value, env = caller_env()) {\rif (identical(env, empty_env())) {\rstop(\u0026quot;Can't find `\u0026quot;, name, \u0026quot;`\u0026quot;, call. = FALSE)\r} else if (env_has(env, name)) {\renv_poke(env, name, value)\r} else {\rrebind(name, value, env_parent(env))\r}\r}\rrebind(\u0026quot;a\u0026quot;, 10)\r#\u0026gt; Error: Can't find `a`\ra \u0026lt;- 5\rrebind(\u0026quot;a\u0026quot;, 10)\ra\r#\u0026gt; [1] 10\r   Quiz answers   There are four ways: every object in an environment must have a name; order doesn't matter; environments have parents; environments have reference semantics.\n  The parent of the global environment is the last package that you loaded. The only environment that doesn't have a parent is the empty environment.\n  The enclosing environment of a function is the environment where it was created. It determines where a function looks for variables.\n  Use caller_env() or parent.frame().\n  \u0026lt;- always creates a binding in the current environment; \u0026lt;\u0026lt;- rebinds an existing name in a parent of the current environment.\n  term global environment :Á∏ΩÈ´îÁí∞Â¢É package environments imports environment   You might wonder why rlang has env_poke() instead of env_set(). This is for consistency: _set() functions return a modified copy; _poke() functions modify in place.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n NB: ?environment uses frame in a different sense: \u0026quot;Environments consist of a frame, or collection of named objects, and a pointer to an enclosing environment.\u0026quot;. We avoid this sense of frame, which comes from S, because it's very specific and not widely used in base R. For example, the \u0026quot;frame\u0026quot; in parent.frame() is an execution context, not a collection of named objects.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n  "},
{"uri": "/blogR//rlang/2_0_%E8%BC%B8%E5%87%BA%E8%BC%B8%E5%85%A5.html","title": "2.0 Âü∫Êú¨Ëº∏Âá∫Ëº∏ÂÖ•",
	"tags": [],
	"description": "2_0_Ëº∏Âá∫Ëº∏ÂÖ•",
	"content": "R Ëº∏Âá∫ÊèêË¶Å Á∏Ω‰πã You should use cat() when making the print.*() functions for S3 objects. For everything else, you should use message() unless the state of the program is problematic. e.g. bad error that is recoverable gives warning() vs. show stopping error uses stop().\nGoal The objective of this post is to provide feedback on the different output options a package developer has access to and how one should structure output that is potentially on a new object or based upon strings.\nÂ§ßÊ¶ÇÊúâÈÄôÂπæÁ®ÆÔºö\n print() cat() message() warning() stop()  ÂâçÂÖ©ÂÄãËº∏Âá∫Âà∞Ê®ôÊ∫ñËº∏Âá∫Ë£ùÁΩÆ(standard output)ÔºåÂæå‰∏âÂÄãÊúÉÈ°ØÁ§∫Âú®Ê®ôÊ∫ñÈåØË™§Ë£ùÁΩÆ‰∏ä(standard error)„ÄÇ\nDesigning for Users and External Packages Now, the above is framed more in a I/O mindset and not necessarily a user-facing frameset. So, let's provide some motivation for it in the context of an everyday R user. In particular, by using 3-5 or the stderr functions, their output is able to be suppressed without tinkering with the console text via sink() or capture.output(). The suppression normally comes in the form of suppressWarnings(), suppressMessages(), suppressPackageStartupMessages(), and so on. Thus, users are only confronted with result facing output. This is particularly important if you plan to allow users the flexibility of turning off text-based output when creating dynamic documents via either knitr, rmarkdown, or Sweave.\nIn particular, knitr offers chunk options such as error = F, message = F, and warning = F. This enables the reduction of text accompanying a command in the document. Furthermore, this prevents the need from using the results = \u0026quot;hide\u0026quot; option that would disable all output.\nSpecifics of Output  print() - ÁÑ°Ê≥ïÈÄ£ÁµêÂ≠ó‰∏≤ÔºåÊúÉÂ∏∂Êúâ[1]Ôºå‰æãÂ¶ÇÔºö print(paste(\u0026quot;Hello\u0026quot;,\u0026quot;World!\u0026quot;))\r[1] \u0026quot;Hello World!\u0026quot;\r  cat() Â∏∂ÊúâÈ°û‰ººpaste()ÁöÑÂèÉÊï∏Ôºåsep=\u0026quot; \u0026quot;ÔºåÊâÄ‰ª•ÈÄ£ÁµêÂ≠ó‰∏≤ÊØîËºÉÊñπ‰æøÔºå‰ΩÜÊòØÂøÖÈ†àËá™Ë°åÂØ´ÊèõË°åÁ¨¶Ëôü\\n„ÄÇË¶Å‰∏çÁÑ∂Â∞±ÊòØfill=T cat(\u0026quot;Hello!\\n\u0026quot;)\rHello!\rcat(\u0026quot;Hello\u0026quot;,\u0026quot;World!\\n\u0026quot;)\rHello World!\rcat(\u0026quot;Hello\u0026quot;,\u0026quot;World!\\n\u0026quot;, sep = \u0026quot;\u0026quot;)\rHelloWorld!\r  message() Â∏∂Á¥ÖÂ≠óÁöÑËº∏Âá∫ÔºåÂü∫Êú¨‰∏äÊòØÂà∞Ê®ôÊ∫ñÈåØË™§Ë£ùÁΩÆ„ÄÇ message(\u0026quot;Hello \u0026quot;,\u0026quot;World!\u0026quot;) # Note the space after Hello\r#\u0026gt; \u0026quot;Hello World!\u0026quot;\r  Êõ¥Êñπ‰æøÁöÑÊòØËÉΩÁî®‰æÜÈÖçÂêàtryCatch()e.g. tryCatch(message(\u0026quot;hello\\n\u0026quot;), message=function(e){cat(\u0026quot;goodbye\\n\u0026quot;)})\rgoodbye\r    warning() : The warning() function is not something to use casually. The warning function is differentiated from the message function primarily by having a line prefixed to it (\u0026quot;Warning message:\u0026quot;) and its state is consider to be problematic. stop(): Last but not least, we have stop(). This takes warnings to the next level by completely killing the task at hand and returning control back to the user. Furthermore, it has the most serious prefix with the term \u0026quot;Error:\u0026quot; being added.  sprintf Specifier Value Type   %c Character  %d or %i Signed Decimal Integer  %e or %E Scientific notation  %f Decimal Floating Point  %u Unsigned Decimal Integer  %p Pointer address    "},
{"uri": "/blogR//rlang/2_1_%E8%AE%80%E6%AA%94%E5%AF%AB%E6%AA%94.html","title": "2.1 ËÆÄÊ™îÂØ´Ê™î",
	"tags": [],
	"description": "ËÆÄÊ™îÂØ´Ê™î",
	"content": "ËÆÄÊ™î Âü∫Êú¨Ëº∏ÂÖ•ÂíåËº∏Âá∫ üòúÂèÉËÄÉÁ¨¨4ÈÉ®ÂàÜÂ≠ó‰∏≤‰∏ÄÁØÄ\n print() cat() sprintf()  a\u0026lt;-\u0026quot;hello\u0026quot;\rprint(a)\r#\u0026gt; [1] \u0026quot;hello\u0026quot;\rprint(\u0026quot;hello\u0026quot;)\r#\u0026gt; [1] \u0026quot;hello\u0026quot;\rb\u0026lt;-'ÈôåÁîü‰∫∫'\rprint(b)\r#\u0026gt; [1] \u0026quot;ÈôåÁîü‰∫∫\u0026quot;\rprint('hello')\r#\u0026gt; [1] \u0026quot;hello\u0026quot;\rcat(a)\r#\u0026gt; hello\rcat(b)\r#\u0026gt; ÈôåÁîü‰∫∫\rcat(\u0026quot;ÈôåÁîü‰∫∫\u0026quot;)\r#\u0026gt; ÈôåÁîü‰∫∫\rc\u0026lt;-paste0(a,b)\rprint(c)\r#\u0026gt; [1] \u0026quot;helloÈôåÁîü‰∫∫\u0026quot;\rc\u0026lt;-paste0(a,\u0026quot; \u0026quot;,b)\rprint(c)\r#\u0026gt; [1] \u0026quot;hello ÈôåÁîü‰∫∫\u0026quot;\r print(),cat()ÈõñÁÑ∂Âú®‰∏äÈù¢ÁöÑ‰æãÂ≠êÁúãËµ∑‰æÜ‰∏ÄÊ®£„ÄÇ‰ΩÜÊòØÂàùÂ≠∏ËÄÖÊé®Ëñ¶‰ΩøÁî®print()„ÄÇ\n cat() Ë™çË≠òÂ≠ó‰∏≤‰∏≠ÁöÑÊèõË°åÁ¨¶Ëôü\\n, print() ‰∏çË™çË≠ò Â¶ÇÊûúÊúâÂ§öÂÄãÂ≠ó‰∏≤,‰ΩøÁî®cat()ÁöÑÊôÇÂÄô,ÂèØ‰ª•Ë®≠ÂÆöcat(..., sep=\u0026quot;\\n\u0026quot;)„ÄÇ  \rË£úÂÖÖ\rcat()ÈÄöÂ∏∏ÊòØÂú®Ê™îÊ°àËôïÁêÜÁöÑÊôÇÂÄô„ÄÇÂú®CÈ°ûÁöÑË™ûË®Ä‰∏≠,ÈçµÁõ§ÂíåËû¢ÂπïÈÉΩÂ±¨ÊñºÊ™îÊ°à-ÁâπÊÆäÊ™îÊ°à,‰∏ÄÁ®ÆÂè™ËÉΩËÆÄÂá∫,‰∏ÄÁ®ÆÂè™ËÉΩÂØ´ÂÖ•,ÊäΩË±°ËßÄÂøµÁöÑÊèèËø∞ÊòØ‰∏≤ÊµÅ„ÄÇ ‰ΩøÁî®ÁØÑ‰æãÂ¶Ç‰∏ã:\nsink(\u0026quot;foobar.txt\u0026quot;) # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;ÂæûÈÄôÂÄãÊåá‰ª§ÈñãÂßã,ÊâÄÊúâÊµÅÂêëËû¢ÂπïÁöÑËº∏Âá∫ÈÉΩËº∏Âá∫Âà∞Ê™îÊ°àfoobar.txt\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\rcat('\u0026quot;foo\u0026quot;\\n')\rcat('\u0026quot;bar\u0026quot;')\rsink() #\u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;ÁµêÊùü\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r Ê™îÊ°àÂÖßÂÆπÊòØ:\n\u0026quot;foo\u0026quot;\r\u0026quot;bar\u0026quot;\r  ‰∏ÄË°åÊåá‰ª§ÂÆåÊàê‰∏äËø∞Á®ãÂºèÁ¢º cat('\u0026quot;foo\u0026quot;', '\u0026quot;bar\u0026quot;', file=\u0026quot;foobar.txt\u0026quot;, sep=\u0026quot;\\n\u0026quot;)\r  Â¶ÇÊûúÊ™îÊ°àÂ∑≤Á∂ìÂ≠òÂú®,ÈÇÑË¶ÅÊ∑ªÂä†,ÈÇ£È∫ºÂ∞±Âä†‰∏äÂèÉÊï∏append=T cat('\u0026quot;foo\u0026quot;', file=\u0026quot;foobar.txt\u0026quot;, append=TRUE)\rcat('\u0026quot;bar\u0026quot;', file=\u0026quot;foobar.txt\u0026quot;, append=TRUE)\r    ÂÉÖÂÉÖÊü•ÁúãÊ™îÊ°àÂÖßÂÆπ  Ê∏¨Ë©¶‰∏≠ÊñáÊ™îÊ°àÁöÑÊåá‰ª§  readLines(logf, encoding=\u0026quot;UTF-8\u0026quot;) writeLines(Â≠ó‰∏≤, Ê™îÊ°àÂêçÁ®±, useBytes=T) \rÂ±ïÈñã\rreadLines()ÁöÑÁØÑ‰æã\ndir(system.file())\r#\u0026gt; [1] \u0026quot;CITATION\u0026quot; \u0026quot;demo\u0026quot; \u0026quot;DESCRIPTION\u0026quot;‚õ≥ \u0026quot;help\u0026quot; #\u0026gt; [5] \u0026quot;html\u0026quot; \u0026quot;INDEX\u0026quot; \u0026quot;Meta\u0026quot; \u0026quot;R\u0026quot; res \u0026lt;- readLines(system.file(\u0026quot;DESCRIPTION\u0026quot;, package=\u0026quot;MASS\u0026quot;)) \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÁîöÈ∫ºÊòØDESCRIPTION? Áúã‰∏äÈù¢ÁöÑdir(system.file()) Ëº∏Âá∫\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\rlength(res)\r     \rÂèØ‰ª•Áî®‰æÜÁ∑¥ÁøíÁöÑÊñáÂ≠óÊ™î\r\rJournals.csv\r\rsample1.csv\r\rsample2.csv\r\rsample3.csv\r\rsimple.csv\r\rsmoker.csv\r\rtrees91.csv\r\rwh.csv\r\rwh_zh_950.csv\r\rwh_zh_utf8.csv\r\r Ê≥®ÊÑèÊ™îÊ°àÂÖßÂÆπÁ¨¨‰∏ÄË°å‰∏çÊòØË≥áÊñô,ËÄåÊòØÊ¨Ñ‰Ωç„ÄÇ\nfile.show(\u0026quot;resources/wh.csv\u0026quot;)ÊúÉÊâìÈñãexcel\n‰πüÂèØ‰ª•Âà©Áî®ÊÆºÂ±§Êåá‰ª§:\nsystem(\u0026quot;cat resources/wh.csv\u0026quot;)Ôºå‰ΩÜÊòØÂ¶ÇÊûúÂÖßÂÆπÊòØ‰∏≠Êñá,È°ØÁ§∫ÁµêÊûúÊúÉËÆäÊàê‰∫ÇÁ¢º„ÄÇ\n‰∏äÈù¢ÂÖ©Á®ÆÊñπÊ≥ï,ÂèØËÉΩÊúÉË¶∫ÂæóÊúâÈªûÂ§öÈ§ò,Âõ†ÁÇ∫Âú®Ë¶ñÁ™ó‰ªãÈù¢‰∏≠,Áõ¥Êé•ÊåâÂÖ©‰∏ãÂ∞±ÂèØ‰ª•ÊâìË©≤Ê™îÊ°à„ÄÇ‰ΩÜÊòØÔºåÊúâÊôÇÂÄôÊ™îÊ°àÂæàÂ§ß,‰∏ÄËà¨ÁöÑÁ∑®ËºØÂô®Êâì‰∏çÈñã‰ΩÜÊòØÂèà‰∏çÁü•ÈÅìÊòØÁîöÈ∫ºÊ†ºÂºèÔºåÈÄôÊôÇÂèØ‰ª•‰ΩøÁî®ÂèØ‰ª•ÊåáÂÆöËÆÄÂÖ•Èï∑Â∫¶ÁöÑÊåá‰ª§readChar()\n  Ê∏¨Ë©¶readChar()\ncat(readChar(\u0026quot;resources/wh.csv\u0026quot;, 1e5)) #\u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëè1e5ÊåáÂÆöÊúÄÂ§ßÈï∑Â∫¶,ÂèØ‰ª•‰∏çË¶ÅÊúâ\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; Warning in readChar(\u0026quot;resources/wh.csv\u0026quot;, 1e+05): Âú®Èùû UTF-8 MBCS Ë™ûÂçÄ‰∏≠Âè™ËÉΩ‰ª•‰ΩçÂÖÉ\r#\u0026gt; ÁµÑÁÇ∫ÂñÆ‰ΩçËÆÄÂèñ\r#\u0026gt; # this is a test file\r#\u0026gt; height,weight,sex\r#\u0026gt; 156,56, m\r#\u0026gt; 167,., f\r#\u0026gt; 189,70, m\r#\u0026gt; 180,, f\r   Âà©Áî®useBytes ‰∏çÊúÉÂá∫ÁèæË≠¶Âëä\ncat(readChar(\u0026quot;resources/wh_zh_utf8.csv\u0026quot;, useBytes=TRUE,1e5)) #\u0026gt; Error in cat(readChar(\u0026quot;resources/wh_zh_utf8.csv\u0026quot;, useBytes = TRUE, 1e+05)): ÁÑ°ÊïàÁöÑÂ§ö‰ΩçÂÖÉÁµÑÂ≠ó‰∏≤Êñº '\u0026lt;e9\u0026gt;¬Ä\u0026lt;99\u0026gt;\u0026lt;e6\u0026gt;Ó¶ÄÁöúÁ•àÂ≤´Áëº\u0026lt;94\u0026gt;\r#\u0026gt; È†®ÊÅç\u0026lt;ab\u0026gt;\u0026lt;98\u0026gt;,ÊìÉÓùÜ\u0026lt;87\u0026gt;\u0026lt;8d\u0026gt;,\u0026lt;e6\u0026gt;¬ÄÊâπÔçÜ\r#\u0026gt; 156,56,\u0026lt;e7\u0026gt;Óúî\r#\u0026gt; 167,66,ÊÜü\u0026lt;b3\u0026gt;\r#\u0026gt; 189,70,\u0026lt;e7\u0026gt;Óúî\r#\u0026gt; 180,,ÊÜü\u0026lt;b3\u0026gt;\r#\u0026gt; '\r   ‚ùåÂèÉÊï∏ÊúâuseBytes,‰ΩÜÊòØ‰∏çÁÆ°TRUE/FALSEÔºåÈÉΩÊòØ‰∏≠Êñá‰∫ÇÁ¢º\n  ‚úîÊ≠£Ëß£:\nx\u0026lt;-readChar(\u0026quot;resources/wh_zh_utf8.csv\u0026quot;, useBytes=TRUE,1e5)\rEncoding(x)\r#\u0026gt; [1] \u0026quot;unknown\u0026quot;\rEncoding(x)\u0026lt;-\u0026quot;UTF-8\u0026quot; #\u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÂõ†ÁÇ∫WIN10Áî®ÁöÑÊòØÁ≥ªÁµ±ÁöÑÁ∑®Á¢º,‰πüÂ∞±ÊòØnative.lang,ÂèçÊ≠£Â∞±ÊòØEncoding(x)ÁöÑÁµêÊûúÊòØunknown\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\rcat(x)\r#\u0026gt; #ÈÄôÊòØÊ∏¨Ë©¶Ê™î\r#\u0026gt; Ë∫´È´ò,È´îÈáç,ÊÄßÂà•\r#\u0026gt; 156,56,Áî∑\r#\u0026gt; 167,66,Â•≥\r#\u0026gt; 189,70,Áî∑\r#\u0026gt; 180,,Â•≥\r   Â¶ÇÊûúË¶ÅËΩâÁ¢º: ‚ùìiconv(x,\u0026quot;UTF-8\u0026quot;,\u0026quot;zh_TW\u0026quot;)\n  \r\rcsv ÁØÑ‰æã \rwh.csvÁöÑÂÖßÂÆπ\r# this is a test file\rheight,weight,sex\r156,56, m\r167,., f\r189,70, m\r180,, f\r\r rst = read.csv('resources/wh.csv',comment.char=\u0026quot;#\u0026quot;,na.string='.')\rwrite.csv(rst, file = \u0026quot;MyData.csv\u0026quot;,row.names=FALSE, quote=F)\rcat(readLines('MyData.csv'), sep = '\\n') # üè∑ÂÖßÂª∫ readLine()\r#\u0026gt; height,weight,sex\r#\u0026gt; 156,56, m\r#\u0026gt; 167,NA, f\r#\u0026gt; 189,70, m\r#\u0026gt; 180,NA, f\rcat(readr::read_file(\u0026quot;MyData.csv\u0026quot;)) # üè∑Âà©Áî®Â•ó‰ª∂readr\r#\u0026gt; height,weight,sex\r#\u0026gt; 156,56, m\r#\u0026gt; 167,NA, f\r#\u0026gt; 189,70, m\r#\u0026gt; 180,NA, f\r ‰∏ÄËà¨ÁöÑÈñãÊ™î/ÈóúÊ™îÈÅéÁ®ã ‰ΩéÈöé Â§ßÈ´î‰∏äÊØèÂÄãË™ûË®ÄÁöÑÈñãÊ™îÂíåÈóúÊ™îÊ°àÁöÑÈÅéÁ®ãÔºåÈÉΩÊúÉÂà©Áî®Âà∞‰ΩúÊ•≠Á≥ªÁµ±ÔºåÂõ†Ê≠§ÊúÉÊúâÈñãÊ™îÂãï‰ΩúÔºåÂæû‰ΩúÊ•≠Á≥ªÁµ±ÂæóÂà∞‰∏ÄÂÄãÊï∏Â≠óÔºåÈÄôË£°Á®±ÁÇ∫Ê™îÊ°àÊåáÊ®ôÔºåÁÑ∂ÂæåÂà©Áî®ÈÄôÂÄãÊåáÊ®ôÔºåËÆÄÂÖ•ÊñáÂ≠óÊàñÂØ´ÂÖ•ÊñáÂ≠óÔºåÁÑ∂ÂæåÊúâ‰∏ÄÂÄãÈóúÈñâÊ™îÊ°àÁöÑÂãï‰ΩúÂëäË®¥‰ΩúÊ•≠Á≥ªÁµ±ÔºåËôïÁêÜÊ™îÊ°àÁµêÊùü„ÄÇ\nÂú®RË™ûË®Ä‰∏≠ÔºåÈñãÊ™î‰∏çÊòØopen(),ËÄåÊòØfileÔºö\ncon = file(filepath, \u0026quot;r\u0026quot;)\rÈñãÂßãËÆÄÂØ´Êìç‰Ωú\rclose(con)\r Ëø¥Âúà‰∏ÄË°å‰∏ÄË°åËÆÄÂÖ•‰∏¶ÂØ´Âà∞Ëû¢Âπï‰∏ä\nprocessFile = function(filepath) {\rcon = file(filepath, \u0026quot;r\u0026quot;)\rwhile ( TRUE ) {\rline = readLines(con, n = 1) # üè∑n=1 ÊØèÊ¨°ËÆÄÂÖ•‰∏ÄË°å\rif ( length(line) == 0 ) {\rbreak\r}\rprint(line)\r}\rclose(con)\r}\r Âà©Áî®Â•ó‰ª∂ËÆÄÂèñexcelÁöÑcsv read.csv(\u0026quot;filename.csv\u0026quot;, #name of file\rheader = TRUE, #are there column names in 1st row?\rsep = \u0026quot;,\u0026quot;, #what separates rows?\ras.is = !stringsAsFactors, #ÈóúÊéâÂ≠óÂÖÉËΩâfactor\rcolClasses = NA # to convert everything to character data set to \u0026quot;character\u0026quot;\rna.string = \u0026quot;NA\u0026quot; # could be \u0026quot;.\u0026quot; for SAS files\rskip = 0, #Ë¶ÅË∑≥ÈÅéÁöÑÂâçÂπæË°åÊï∏ÁõÆ\u0026gt;0\rstrip.white = TRUE, #Êì†ÊéâÁ©∫ÁôΩ,‰æãÂ¶Ç \u0026quot; 0.1\u0026quot; = \u0026quot;0.1\u0026quot;\rfill = TRUE, #fill in rows that have unequal numbers of columns\rcomment.char = \u0026quot;#\u0026quot;, #Ë®ªËß£‰∏çËÆÄÂÖ•\rstringsAsFactors = FALSE #ÊØîas.is Â∏∏Áî®,ÈóúÊéâÂ≠óÂÖÉËΩâfactor\r)\r read.csv()ÊúÄÁ∞°ÂñÆÁöÑÁî®Ê≥ïÊòØÁõ¥Êé•Áµ¶Ê™îÊ°àÂêçÁ®±,‰æãÂ¶Ç\nrst = read.csv('resources/wh.csv')\r ‰ΩÜÊòØwh.csv ÂâçÈù¢ÊúâÂπæË°åÊòØË®ªËß£\nreadLines('resources/wh.csv',n=3)\r Âõ†Ê≠§Âä†‰∏äskip ÂèÉÊï∏\nrst = read.csv('resources/wh.csv',skip=1)\rhead(rst)\r height weight sex   156 56 m  167 . f  189 70 m  180  f     ‰πüÂèØ‰ª•Âà©Áî®ÂèÉÊï∏comment.char\nrst = read.csv('resources/wh.csv',comment.char=\u0026quot;#\u0026quot;)\rhead(rst)\r height weight sex   156 56 m  167 . f  189 70 m  180  f     ‰ΩÜÊòØÊ≥®ÊÑèÂà∞weightÈÄôÂÄãÊ¨Ñ‰ΩçË¢´ËΩâÁÇ∫Â≠ó‰∏≤,Âõ†ÁÇ∫Êúâ‰∏ÄÂÄã \u0026quot;.\u0026quot; „ÄÇÊúâ‰∫õÂ•óË£ùËªüÈ´îÁöÑCSVËº∏Âá∫Â∞áNAËΩâÁÇ∫\u0026quot;.\u0026quot;,Âõ†Ê≠§\nrst = read.csv('resources/wh.csv',comment.char=\u0026quot;#\u0026quot;,na.string='.')\rhead(rst)\r height weight sex   156 56 m  167 NA f  189 70 m  180 NA f     data.frame to CSV rst = read.csv('resources/wh.csv',comment.char=\u0026quot;#\u0026quot;,na.string='.') # ËÆÄÈÄ≤‰æÜÁöÑÊ™îÊ°àÈ°ûÂà•ÊòØ class(rst) = data.frame\rwrite.csv(rst, file = \u0026quot;MyData.csv\u0026quot;)\rreadLines(\u0026quot;MyData.csv\u0026quot;,n=3) #\u0026gt; [1] \u0026quot;\\\u0026quot;\\\u0026quot;,\\\u0026quot;height\\\u0026quot;,\\\u0026quot;weight\\\u0026quot;,\\\u0026quot;sex\\\u0026quot;\u0026quot; \u0026quot;\\\u0026quot;1\\\u0026quot;,156,56,\\\u0026quot; m\\\u0026quot;\u0026quot; #\u0026gt; [3] \u0026quot;\\\u0026quot;2\\\u0026quot;,167,NA,\\\u0026quot; f\\\u0026quot;\u0026quot;\r Â¶ÇÊûúrow names‰∏çË¶ÅÂØ´ÈÄ≤csv,ÂèØ‰ª•Âà©Áî®ÂèÉÊï∏ row.names=FALSE„ÄÇ\nrst = read.csv('resources/wh.csv',comment.char=\u0026quot;#\u0026quot;,na.string='.')\rwrite.csv(rst, file = \u0026quot;MyData.csv\u0026quot;,row.names=FALSE)\rreadLines(\u0026quot;MyData.csv\u0026quot;,n=3) #\u0026gt; [1] \u0026quot;\\\u0026quot;height\\\u0026quot;,\\\u0026quot;weight\\\u0026quot;,\\\u0026quot;sex\\\u0026quot;\u0026quot; \u0026quot;156,56,\\\u0026quot; m\\\u0026quot;\u0026quot; #\u0026gt; [3] \u0026quot;167,NA,\\\u0026quot; f\\\u0026quot;\u0026quot;\r rst = read.csv('resources/wh.csv',comment.char=\u0026quot;#\u0026quot;,na.string='.')\rwrite.csv(rst, file = \u0026quot;MyData.csv\u0026quot;,row.names=FALSE)\rreadLines(\u0026quot;MyData.csv\u0026quot;,n=3)  Ëº∏Âá∫ÊòØ:\n[1] \u0026quot;\\\u0026quot;height\\\u0026quot;,\\\u0026quot;weight\\\u0026quot;,\\\u0026quot;sex\\\u0026quot;\u0026quot; [2] \u0026quot;156,56,\\\u0026quot; m\\\u0026quot;\u0026quot; [3] \u0026quot;167,NA,\\\u0026quot; f\\\u0026quot;\u0026quot;  ÂèØ‰ª•ÁúãÂá∫‰æÜÊØè‰∏ÄË°åÈÉΩÊúâÈõôÂºïËôüË°®Á§∫Â≠ó‰∏≤„ÄÇ\nÂ∞çÁÖßÂéü‰æÜÁöÑÊñáÂ≠óÊ™î(mData.csv)\n\u0026quot;height\u0026quot;,\u0026quot;weight\u0026quot;,\u0026quot;sex\u0026quot; 156,56,\u0026quot; m\u0026quot; 167,NA,\u0026quot; f\u0026quot; 189,70,\u0026quot; m\u0026quot; 180,NA,\u0026quot; f\u0026quot;  \r\r ‰∏äÈù¢sidebar‰∏≠,È°ØÁ§∫ÁöÑÁöÑsexÊ¨Ñ‰Ωç,ÂèØ‰ª•ÁúãË¶ã\u0026quot; m\u0026quot; ‰πüÂ∞±ÊòØÊúâÁ©∫ÁôΩ,ÂïèÂà©Áî®read.csv ËÆÄÂÖ•ÊôÇ,ÊúÉÊòØÁîöÈ∫ºÊÉÖÊ≥Å?  \r\r Â¶ÇÊûúËº∏Âá∫ÊôÇ,Â≠ó‰∏≤‰∏çË¶ÅÈõôÂºïËôü,ÂâáÂèØ‰ª•Áî®quote=FALSE (Ëá™Ë°åÂ∞çÁÖß‰∏äÈù¢ÁöÑsidebar)  rst = read.csv('resources/wh.csv',comment.char=\u0026quot;#\u0026quot;,na.string='.')\rwrite.csv(rst, file = \u0026quot;MyData.csv\u0026quot;,row.names=FALSE, quote=F) # üè∑ÈñãÈóúquote=F\rcat(readLines('MyData.csv'), sep = '\\n')\r  Â¶ÇÊûúË¶ÅÊåáÂÆöNAÁöÑÂÄº,ÂèØ‰ª•Âà©Áî®Ê¨Ñ‰Ωç=\u0026quot;\u0026quot;,Âê¶ÂâáÈ†êÂÆöÊòØNA  rst = read.csv('resources/wh.csv',comment.char=\u0026quot;#\u0026quot;,na.string='.')\rwrite.csv(rst, file = \u0026quot;MyData.csv\u0026quot;,row.names=FALSE, na=\u0026quot;\u0026quot;) # üè∑Ëº∏Âá∫ÁöÑÊñá‰ª∂‰∏≠,ÈÄôÊ¨ÑÊòØÁ©∫ÁöÑ\rcat(readLines(\u0026quot;MyData.csv\u0026quot;), sep = '\\n')\r more Â¶ÇÊûúË¶ÅÊõ¥Â§öÁöÑËº∏Âá∫ÊéßÂà∂ÂèØ‰ª•ÂèÉËÄÉÂèØ‰ª•write.table(). write.csv()ÂáΩÊï∏,ÂØ¶Èöõ‰∏äÊúÉÂÜçÂëºÂè´write.table()ÂáΩÊï∏„ÄÇ‰æãÂ¶Ç,Ê¨Ñ‰ΩçÂêçÁ®±‰πü‰∏çË¶ÅËº∏Âá∫ÁöÑË©±,ÂèØ‰ª•Âà©Áî®write.table()ÔºåË¶ÅË®≠ÂÆöÁöÑÂèÉÊï∏Â¶Ç‰∏ã: sep=‚Äù,‚Äù Âíå col.names=FALSE,ÂâçËÄÖÊòØCSVÁöÑ‰∏ªË¶ÅÂàÜÈöîÂ≠óÂÖÉ,ÂæåËÄÖÂâáÊòØ‰∏çË¶ÅÊ¨Ñ‰ΩçÂêçÁ®±„ÄÇ\nwrite.table(rst, file = \u0026quot;MyData.csv\u0026quot;,row.names=FALSE, na=\u0026quot;\u0026quot;,col.names=FALSE, sep=\u0026quot;,\u0026quot;)\rcat(readLines('MyData.csv'), sep = '\\n')\r RË™ûË®ÄÁöÑÊ™îÊ°àÊ†ºÂºè  name.rdb: a concatenation of serialized objects. name.rdx: file contains an index. name.rds the serialized R objects written by saveRDS name.rda(RData): ‰∫åÈÄ≤‰ΩçRË≥áÊñôÊ™î„ÄÇ(Áî®load(name)ËºâÂÖ•)  Â¶ÇÊûú‰∏çËÄÉÊÖÆÂ≠òÊ™îÊ†ºÂºèÔºåÈÇ£È∫ºÂèØ‰ª•Âà©Áî®\nsave(v1,v2,...file=\u0026quot;myfile.RData\u0026quot;)\r...\rload(file=\u0026quot;myfie.RData\u0026quot;)\r ÁØÑ‰æã\nx=3 #üè∑ÊàëË¶ÅÊö´ÊôÇÊääÈÄôÂÄãÁµêÊûúx=3Â≠òÊ™î,ÈÄ≤Ë°åÂÖ∂‰ªñË≥áÊñôËôïÁêÜ\r#.....do task\rsave(x,file=\u0026quot;xx\u0026quot;) # üè∑‚ùìÂïèÈ°å:Â≠òÂà∞Âì™?\rdir(getwd()) # üè∑ÂåÖÊã¨ÁõÆÈåÑ(list.dir())ÂíåÊ™îÊ°à(list.files())\r#\u0026gt; [1] \u0026quot;desktop.ini\u0026quot; \u0026quot;foobar.txt\u0026quot; \u0026quot;My Music\u0026quot; \u0026quot;My Pictures\u0026quot;\r#\u0026gt; [5] \u0026quot;My Videos\u0026quot; \u0026quot;R\u0026quot; \u0026quot;xx\u0026quot; x=5 #üè∑ÁúãÁúãÁ≠â‰∏ãÂæûÊ™îÊ°àËºâÂÖ•ÈÄ≤‰æÜÁöÑÊôÇÂÄô,ÊúÉ‰∏çÊúÉÊòØÂéü‰æÜÁöÑ3\rload(\u0026quot;xx\u0026quot;)\rx\r#\u0026gt; [1] 3\r  üìù Ëß£Á≠î\nuserfolder\u0026lt;-??\rallfolder\u0026lt;-list.dir()\rokfolder\u0026lt;-allfolder[dir.exists(userfolder)]\r"},
{"uri": "/blogR//rlang/2_2_data_explorer.html","title": "2.2 Ë≥áÊñôÊé¢Á¥¢",
	"tags": [],
	"description": "Ë≥áÊñôÊé¢Á¥¢",
	"content": "Â∏∏Áî®ÂáΩÊï∏  Mean Median Quartile Percentile Range Interquartile Range Box Plot Variance Standard Deviation Covariance Correlation Coefficient Central Moment Skewness Kurtosis  mean(mtcars$mpg)\r#\u0026gt; [1] 20.09062\rmedian(mtcars$mpg)\r#\u0026gt; [1] 19.2\rmin(mtcars$mpg)\r#\u0026gt; [1] 10.4\rmax(mtcars$mpg)\r#\u0026gt; [1] 33.9\rquantile(mtcars$mpg)\r#\u0026gt; 0% 25% 50% 75% 100% #\u0026gt; 10.400 15.425 19.200 22.800 33.900\rquantile(mtcars$mpg,c(0.2))\r#\u0026gt; 20% #\u0026gt; 15.2\rif(!require(moments))\rinstall.packages(\u0026quot;moment\u0026quot;)\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºömoments\rskewness(mtcars$mpg)\r#\u0026gt; [1] 0.6404399\rkurtosis(mtcars$mpg)\r#\u0026gt; [1] 2.799467\r x \u0026lt;- rnorm(100)\rquantile(x, probs = c(0, 0.25, 0.5, 0.75, 1)) # quartile\rquantile(x, probs = seq(0, 1, by= 0.01)) # decile\recdf(x)\r ÂïèÈ°åÔºöecdf()ÁöÑÁµêÊûúÂíåquantile()ÁöÑÁµêÊûúÊòØÂê¶‰∏ÄÊ®£Ôºü\nÂåØÂÖ•ÂÖ∂‰ªñÊ†ºÂºèÁöÑË≥áÊñô ÂÆâË£ùpackage : foreignÔºå‰ª•stata ÁÇ∫‰æã(Âà©Áî®ÂÖ∂‰∏≠ÁöÑÂáΩÊï∏read.dta())Ôºö\nif (!file.exists('resources/ceosal1.RData')){\rceosal1\u0026lt;-read.dta(\u0026quot;http://fmwww.bc.edu/ec-p/data/wooldridge/ceosal1.dta\u0026quot;)\rsave(ceosal1, file='resources/ceosal1.RData')\r}\r ‰æÜËá™wooldridge ÁöÑË≥áÊñôÈõÜ base cheat sheet\nË≥áÊñô affairs\nload('resources/affairs.RData')\r# ÂéüÂßãË≥áÊñôkidÊòØÊï¥Êï∏ÔºåÂä†ÂÖ•Ê®ôÁ±§ÊàêÁÇ∫factor haskids \u0026lt;- factor(affairs$kids,labels=c(\u0026quot;no\u0026quot;,\u0026quot;yes\u0026quot;))\rmlab \u0026lt;- c(\u0026quot;very unhappy\u0026quot;,\u0026quot;unhappy\u0026quot;,\u0026quot;average\u0026quot;,\u0026quot;happy\u0026quot;, \u0026quot;very happy\u0026quot;)\rmarriage \u0026lt;- factor(affairs$ratemarr, labels=mlab)\r# Frequencies for having kids:\rtable(haskids)\r#\u0026gt; haskids\r#\u0026gt; no yes #\u0026gt; 171 430\r# Marriage ratings (share):\rprop.table(table(marriage))\r#\u0026gt; marriage\r#\u0026gt; very unhappy unhappy average happy very happy #\u0026gt; 0.0266223 0.1098170 0.1547421 0.3227953 0.3860233\r# Contigency table: counts (display \u0026amp; store in var.)\r(countstab \u0026lt;- table(marriage,haskids))\r#\u0026gt; haskids\r#\u0026gt; marriage no yes\r#\u0026gt; very unhappy 3 13\r#\u0026gt; unhappy 8 58\r#\u0026gt; average 24 69\r#\u0026gt; happy 40 154\r#\u0026gt; very happy 96 136\r# Share within \u0026quot;marriage\u0026quot; (i.e. within a row):\rprop.table(countstab, margin=1)\r#\u0026gt; haskids\r#\u0026gt; marriage no yes\r#\u0026gt; very unhappy 0.1875000 0.8125000\r#\u0026gt; unhappy 0.1212121 0.8787879\r#\u0026gt; average 0.2580645 0.7419355\r#\u0026gt; happy 0.2061856 0.7938144\r#\u0026gt; very happy 0.4137931 0.5862069\r# Share within \u0026quot;haskids\u0026quot; (i.e. within a column):\rprop.table(countstab, margin=2)\r#\u0026gt; haskids\r#\u0026gt; marriage no yes\r#\u0026gt; very unhappy 0.01754386 0.03023256\r#\u0026gt; unhappy 0.04678363 0.13488372\r#\u0026gt; average 0.14035088 0.16046512\r#\u0026gt; happy 0.23391813 0.35813953\r#\u0026gt; very happy 0.56140351 0.31627907\r Â¶ÇÊûú‰∏çÁü•ÈÅìÂáΩÊï∏prop.table()\nÁúã‰∏Ä‰∏ãË≥áÊñôÁµêÊßã\nstr(x\u0026lt;-table(haskids))\r#\u0026gt; 'table' int [1:2(1d)] 171 430\r#\u0026gt; - attr(*, \u0026quot;dimnames\u0026quot;)=List of 1\r#\u0026gt; ..$ haskids: chr [1:2] \u0026quot;no\u0026quot; \u0026quot;yes\u0026quot;\r ‰∏äÈù¢ÁöÑÁµêÊßãÈ°ØÁ§∫Ôºå\n int [1:2(1d)] 171 430 : Êï¥Êï∏ÂêëÈáèÔºåÈï∑Â∫¶Áî±1Âà∞2ÔºåÊòØÂÄã1Á∂≠ÂêëÈáè„ÄÇÂÖÉÁ¥†1Âà∞2ÁöÑÂÖßÂÆπÂàÜÂà•ÊòØ171,430„ÄÇ ÂèØ‰ª•Áî±dimnames(x)ÂæóÂà∞‰∏ÄÂÄãlist,Ë£°Èù¢Âè™Êúâ‰∏ÄÂÄãÂÖÉÁ¥†ÔºåÈÄôÂÄãÂÖÉÁ¥†ÂèàÊòØ‰∏ÄÂÄãchar list(Èï∑Â∫¶ÁÇ∫2)„ÄÇ\nÂõ†Ê≠§ÂèØ‰ª•Ë©¶Ë©¶Áúã  x/sum(x)\r#\u0026gt; haskids\r#\u0026gt; no yes #\u0026gt; 0.2845258 0.7154742\r ÁµêÊûúÊáâË©≤Âíåprop.table()‰∏ÄÊ®£„ÄÇ\nÈÇ£È∫º2 way Âë¢Ôºü ‰πüÊòØÂÖàÁúãÁµêÊßãÔºö\nstr(countstab \u0026lt;- table(marriage,haskids))\r#\u0026gt; 'table' int [1:5, 1:2] 3 8 24 40 96 13 58 69 154 136\r#\u0026gt; - attr(*, \u0026quot;dimnames\u0026quot;)=List of 2\r#\u0026gt; ..$ marriage: chr [1:5] \u0026quot;very unhappy\u0026quot; \u0026quot;unhappy\u0026quot; \u0026quot;average\u0026quot; \u0026quot;happy\u0026quot; ...\r#\u0026gt; ..$ haskids : chr [1:2] \u0026quot;no\u0026quot; \u0026quot;yes\u0026quot;\rcountstab/rowSums(countstab)\r#\u0026gt; haskids\r#\u0026gt; marriage no yes\r#\u0026gt; very unhappy 0.1875000 0.8125000\r#\u0026gt; unhappy 0.1212121 0.8787879\r#\u0026gt; average 0.2580645 0.7419355\r#\u0026gt; happy 0.2061856 0.7938144\r#\u0026gt; very happy 0.4137931 0.5862069\rcountstab/colSums(countstab)\r#\u0026gt; haskids\r#\u0026gt; marriage no yes\r#\u0026gt; very unhappy 0.01754386 0.03023256\r#\u0026gt; unhappy 0.01860465 0.33918129\r#\u0026gt; average 0.14035088 0.16046512\r#\u0026gt; happy 0.09302326 0.90058480\r#\u0026gt; very happy 0.56140351 0.31627907\r#??countstab/colsum(countstab)\r ceosal1\nload('resources/ceosal1.RData')\r# sample average:\rmean(ceosal1$salary)\r#\u0026gt; [1] 1281.12\r# sample median:\rmedian(ceosal1$salary)\r#\u0026gt; [1] 1039\r#standard deviation:\rsd(ceosal1$salary)\r#\u0026gt; [1] 1372.345\r# summary information:\rsummary(ceosal1$salary)\r#\u0026gt; Min. 1st Qu. Median Mean 3rd Qu. Max. #\u0026gt; 223 736 1039 1281 1407 14822\r# correlation with ROE:\rcor(ceosal1$salary, ceosal1$roe)\r#\u0026gt; [1] 0.1148417\rboxplot(ceosal1$roe,horizontal = T)\r figure\r\r\rboxplot(ceosal1$roe~ceosal1$consprod)\r figure\r\r\rt-test Manually enter raw data from Wooldridge, Table C.3: SR87\u0026lt;-c(10,1,6,.45,1.25,1.3,1.06,3,8.18,1.67,.98,1,.45,\r5.03,8,9,18,.28,7,3.97)\rSR88\u0026lt;-c(3,1,5,.5,1.54,1.5,.8,2,.67,1.17,.51,.5,.61,6.7,\r4,7,19,.2,5,3.83)\r Calculate Change (the parentheses just display the results): (Change \u0026lt;- SR88 - SR87)\r#\u0026gt; [1] -7.00 0.00 -1.00 0.05 0.29 0.20 -0.26 -1.00 -7.51 -0.50 -0.47 -0.50\r#\u0026gt; [13] 0.16 1.67 -4.00 -2.00 1.00 -0.08 -2.00 -0.14\r Ingredients to CI formula (avgCh\u0026lt;- mean(Change))\r#\u0026gt; [1] -1.1545\r(n \u0026lt;- length(Change))\r#\u0026gt; [1] 20\r(sdCh \u0026lt;- sd(Change))\r#\u0026gt; [1] 2.400639\r(se \u0026lt;- sdCh/sqrt(n))\r#\u0026gt; [1] 0.5367992\r(c \u0026lt;- qt(.975, n-1))\r#\u0026gt; [1] 2.093024\r Confidence intervall: c( avgCh - c*se, avgCh + c*se )\r#\u0026gt; [1] -2.27803369 -0.03096631\r È©óË≠â\nv.n \u0026lt;- length(Change)\rv.mean \u0026lt;- sum(Change)/v.n\rv.std \u0026lt;-sqrt(sum((Change-v.mean)^2)/(v.n-1))\rv.se \u0026lt;- v.std/sqrt(v.n)\rrst\u0026lt;-list(v.n,v.mean,v.std,v.se)\rrst\r#\u0026gt; [[1]]\r#\u0026gt; [1] 20\r#\u0026gt; #\u0026gt; [[2]]\r#\u0026gt; [1] -1.1545\r#\u0026gt; #\u0026gt; [[3]]\r#\u0026gt; [1] 2.400639\r#\u0026gt; #\u0026gt; [[4]]\r#\u0026gt; [1] 0.5367992\r Á∑¥ÁøíÔºöÈªëÁôΩÁ®ÆÔºåÁî®Âêå‰∏ÄÂÄãCVÊâæÂ∑•‰Ωú„ÄÇ\naudit\n#library(readr)\rlibrary(haven)\raudit\u0026lt;-read_dta('resources/audit.dta')\rhead(audit)\r \rw b y   1 1 0  1 1 0  1 1 0  1 1 0  1 1 0  0 0 0     yÊòØÂâçÂÖ©ÂÄãÊ¨Ñ‰ΩçÁõ∏Ê∏õ„ÄÇ‰ª•Á¨¨1Á≠ÜË≥áÊñôÁÇ∫‰æãÔºåÂÖ©ÂÄãÈÉΩÊòØ1ÔºåÊ≤íÂ∑ÆÂà•(y=0)„ÄÇ\naudit\u0026lt;-read_dta('resources/audit.dta')\r# Ingredients to CI formula\r(avgy\u0026lt;- mean(audit$y))\r#\u0026gt; [1] -0.1327801\r(n \u0026lt;- length(audit$y))\r#\u0026gt; [1] 241\r(sdy \u0026lt;- sd(audit$y))\r#\u0026gt; [1] 0.4819709\r(se \u0026lt;- sdy/sqrt(n))\r#\u0026gt; [1] 0.03104648\r(c \u0026lt;- qnorm(.975))\r#\u0026gt; [1] 1.959964\r# 95% Confidence intervall:\ravgy + c * c(-se,+se)\r#\u0026gt; [1] -0.19363006 -0.07193011\r# 99% Confidence intervall:\ravgy + qnorm(.995) * c(-se,+se)\r#\u0026gt; [1] -0.21275051 -0.05280966\r by hand t statistic for H0: mu=0:\nËá™Áî±Â∫¶(d.f.)ÁÇ∫ n-1 =240 ÁöÑtÂàÜÈÖçÔºåÂÖ∂Ëá®ÁïåÂÄºCritical values(Â¶Ç‰∏ã):\nalpha.one.tailed = c(0.1, 0.05, 0.025, 0.01, 0.005, .001)\rCV \u0026lt;- qt(1 - alpha.one.tailed, n-1)\rcbind(alpha.one.tailed, CV)\r#\u0026gt; alpha.one.tailed CV\r#\u0026gt; [1,] 0.100 1.285089\r#\u0026gt; [2,] 0.050 1.651227\r#\u0026gt; [3,] 0.025 1.969898\r#\u0026gt; [4,] 0.010 2.341985\r#\u0026gt; [5,] 0.005 2.596469\r#\u0026gt; [6,] 0.001 3.124536\r by ÂáΩÊï∏t.test() H0: y=5, H1:y\u0026gt;5, ‰ø°Ë≥¥ÂçÄÈñì0.99 t.test(y, mu=5, alternative=\u0026quot;greater\u0026quot;, conf.level=0.99) Âà©Áî®ÂáΩÊï∏ÁÆóÔºö\n# ex.C.3: two-sided CI\rt.test(audit$y)\r# ex.C.5 \u0026amp; C.7: 1-sided test:\rt.test(audit$y, alternative=\u0026quot;less\u0026quot;)\r One Sample t-test\rdata: audit$y\rt = -4.2768, df = 240, p-value = 2.739e-05\ralternative hypothesis: true mean is not equal to 0\r95 percent confidence interval:\r-0.1939385 -0.0716217 **Ë™™ÊòéÔºömu +/- c.level*(se) Ë¶ãÊâãÁÆó‰æã **\rsample estimates:\rmean of x -0.1327801 One Sample t-test\rdata: audit$y\rt = -4.2768, df = 240, p-value = 1.369e-05\ralternative hypothesis: true mean is less than 0\r95 percent confidence interval:\r-Inf -0.08151529\rsample estimates:\rmean of x -0.1327801\r ÂàÜÁµÑ ÁõÆÁöÑÔºöÂàÜÁµÑÊ±ÇÁµ±Ë®àÈáè Â§ßÁ∂±ÊòØÔºöÂÖàÊé¢Á¥¢‰∏Ä‰∏ãÊàëÂÄëÂèØËÉΩÁî®Âà∞ÁöÑRË™ûË®ÄÊäÄÂ∑ßÔºåÁÑ∂ÂæåÊòØÂØ´ÊàêÂáΩÊï∏„ÄÇ\nÊñπÊ≥ï1: Âà©Áî® forËø¥Âúà Â¶ÇÊûú‰∏çÂàÜÁµÑ\nage = c(23.0883, 25.8344, 29.4648, 32.7858, 33.6372,\r34.935, 35.2115, 35.2115, 5.2115, 36.7803)\rgroup = c(1, 1, 1, 2, 1, 1, 2, 2, 2, 1)\rdframe = data.frame(age=age, group=group)\rsummary(dframe)\r#\u0026gt; age group #\u0026gt; Min. : 5.212 Min. :1.0 #\u0026gt; 1st Qu.:26.742 1st Qu.:1.0 #\u0026gt; Median :33.212 Median :1.0 #\u0026gt; Mean :29.216 Mean :1.4 #\u0026gt; 3rd Qu.:35.142 3rd Qu.:2.0 #\u0026gt; Max. :36.780 Max. :2.0\r data.frame ÁöÑrecordÁØ©ÈÅ∏ÔºåÂèØ‰ª•Âà©Áî®ÈÇèËºØÂÄºÁ¥¢Âºï‰æÜÁØ©ÈÅ∏ÂàÜÁµÑÔºåÈÄôË£°ÁöÑÁØÑ‰æãÈÉΩÊòØÊ±ÇÂæó‰∏ÄÁµÑ(‰ª•Á¨¨‰∏ÄÂàÜÈ°ûÁÇ∫‰æã)Ôºö\nft\u0026lt;-factor(dframe$group)\rgn\u0026lt;-length(levels(ft)) # nlevels(ft)\rgf\u0026lt;-ft==levels(ft)[1] # Á¨¨‰∏ÄÁµÑ\rg1\u0026lt;-dframe[gf,]\rg1\r  age group   1 23.0883 1  2 25.8344 1  3 29.4648 1  5 33.6372 1  6 34.9350 1  10 36.7803 1     Èô§‰∫Ü‰∏äÈù¢ÁöÑÁØ©ÈÅ∏ÊñπÂºè‰ª•Â§ñÔºå‰πüÂèØ‰ª•Âà©Áî®%in%\nft\u0026lt;-factor(dframe$group)\rgn\u0026lt;-length(levels(ft)) # nlevels(ft)\rgf\u0026lt;-as.numeric(levels(ft)[1]) # Á¨¨‰∏ÄÁµÑ\rg1\u0026lt;-dframe[group %in% gf,] # ‰∏çÊòØ gf %in% group\rrst\u0026lt;-summary(g1)\rrst[4,1]\r#\u0026gt; [1] \u0026quot;Mean :30.62 \u0026quot;\rrst[4,2]\r#\u0026gt; [1] \u0026quot;Mean :1 \u0026quot;\r ÊúÄÂæåÁöÑÁ®ãÂºèÁ¢ºÔºö\nft\u0026lt;-factor(dframe$group)\rrst \u0026lt;- as.list(numeric(nlevels(ft)))\rnames(rst)\u0026lt;-levels(ft)\rfor (gi in levels(ft) ){\rgf\u0026lt;-as.numeric(gi)\rg1\u0026lt;-dframe[group %in% gf,] t\u0026lt;-summary(g1)\rrst[gi]=t[4,1]\r}\rprint(rst)\r#\u0026gt; $`1`\r#\u0026gt; [1] \u0026quot;Mean :30.62 \u0026quot;\r#\u0026gt; #\u0026gt; $`2`\r#\u0026gt; [1] \u0026quot;Mean :27.105 \u0026quot;\r ÂáΩÊï∏summary()ÁöÑÁµêÊûúÊòØ‰∏ÄÂÄãtableÔºå‰ΩÜÊòØËÄå‰∏îË£°Èù¢ÁöÑÂÖÉÁ¥†ÊòØ„ÄåÂ≠ó‰∏≤„ÄçÔºå‰æãÂ¶Ç\nage group Min. : 5.212 Min. :1.0 1st Qu.:26.742 1st Qu.:1.0 Median :33.212 Median :1.0 Mean :29.216 Mean :1.4 3rd Qu.:35.142 3rd Qu.:2.0 Max. :36.780 Max. :2.0  ‰ΩÜÊòØÂú®ÂæàÂ§öÊÉÖÊ≥Å‰∏ãÔºåÊàëÂÄëÂ∏åÊúõÂèØ‰ª•Ëá™Â∑±ÂèØ‰ª•ÊéßÂà∂ÁöÑÊ†ºÂºè‰æøÊñºÈÄ≤Ê≠•ÂàÜÊûê„ÄÇ‰æãÂ¶ÇÔºåË¶Å‰∏ÄÂÄãÁü©Èô£ÔºåÊ≠§ÊôÇÂèØ‰ª•Âà©Áî®sub()Ôºö as.numeric(sub('.*:', '', summary(dframe)[4,1]))\n\r\rÊñπÊ≥ï2:„ÄÄÂáΩÊï∏aggregate() aggregate(dframe$age, by=list(dframe$group), FUN=mean)\r Group.1 x   1 30.62333  2 27.10507     aggregate(dframe$age, by=list(dframe$group), FUN=mean)[2]\r \rx   30.62333  27.10507     aggregate()ÂÇ≥Âõûdata.frameÔºåËΩâÁü©Èô£Âà©Áî®as.matrix()\nÁ∑¥ÁøíÔºö ‰∏äÈù¢ÁöÑÁØÑ‰æãÊòØÊØèÁµÑÊ±ÇÂæó‰∏ÄÂÄãÂÄºÔºåÂ¶ÇÊûúÊòØÂ§öÂÄãÂë¢Ôºü‰æãÂ¶ÇÂà©Áî®aggregate()Ê±ÇÂæóÊØèÁµÑmin,max,median,q25,q75 ?\nÊñπÊ≥ï3: ÂáΩÊï∏„ÄÄtapply f1\u0026lt;-function(im)\r{\rc(min(im),median(im),mean(im),max(im))\r}\rrst\u0026lt;-tapply(dframe$age,dframe$group,FUN = f1)#ÁµêÊûúÊòØlistÂÖ©ÂÄãÂÖÉÁ¥†ÔºåÂàÜÂà•Â∞çÊáâf1ÁöÑË®àÁÆóÁµêÊûú\rrstm\u0026lt;-unlist(rst) # unlist ÊúÉÊäärst ËÆäÊàê1Á∂≠ÂêëÈáè\rrstm\u0026lt;-matrix(rstm,ncol=2) # hard code2 , try `length(levels(factor(dframe$group)))`\rrownames(rstm)\u0026lt;-c(\u0026quot;min\u0026quot;,\u0026quot;median\u0026quot;,\u0026quot;mean\u0026quot;,\u0026quot;max\u0026quot;)\rcolnames(rstm)\u0026lt;-paste(\u0026quot;ÁµÑÂà•:\u0026quot;,levels(factor(dframe$group)))\rrstm\r#\u0026gt; ÁµÑÂà•: 1 ÁµÑÂà•: 2\r#\u0026gt; min 23.08830 5.21150\r#\u0026gt; median 31.55100 33.99865\r#\u0026gt; mean 30.62333 27.10507\r#\u0026gt; max 36.78030 35.21150\r ÊñπÊ≥ï3 Âà©Áî®ÂÖ∂‰ªñÂ•ó‰ª∂ library(dplyr)\rdt \u0026lt;- data.frame(age=rchisq(20,10), group=sample(1:2,20, rep=T))\rgrp \u0026lt;- group_by(dt, group)\rsummarise(grp, mean=mean(age), sd=sd(age))\rdetach(\u0026quot;package:dplyr\u0026quot;, unload=TRUE)\r plot ÈÄôË£°ÁöÑÂàÜÁµÑ‰∏çËÉΩÁî®‰πãÂâçÁöÑhard code ‰∏≠ÊèêÂà∞ÁöÑÊñπÊ≥ïÔºåÂõ†ÁÇ∫ÂêÑÁµÑÂèØËÉΩÊï∏Èáè‰∏çÂêå„ÄÇ\nv1\u0026lt;-c(1,2,3)\rv2\u0026lt;-c(4,4)\rcbind(v1,v2)\r#\u0026gt; Warning in cbind(v1, v2): number of rows of result is not a multiple of vector\r#\u0026gt; length (arg 2)\r#\u0026gt; v1 v2\r#\u0026gt; [1,] 1 4\r#\u0026gt; [2,] 2 4\r#\u0026gt; [3,] 3 4\r rbind(v1,v2) ÁôºÁîüÈåØË™§ÔºåÊòØÂê¶Âè™ËÉΩÁî®Êñºdata.frame\nÂïèÈ°åÔºö Â¶ÇÊûúÊÉ≥Ë¶ÅÂêà‰ΩµÂÖ©ÂÄãÂêëÈáèÔºåÂêåÊôÇÂ¶ÇÊûúÈï∑Â∫¶‰∏ç‰∏ÄÊ®£ÔºåÂ∞±Áü≠ÁöÑÂêëÈáèÂ∞±Ë£úNAË¶ÅÊÄéÈ∫ºÂÅöÔºüÁ∑¥ÁøíÂØ´ÊàêÂáΩÊï∏„ÄÇ\n#\u0026gt; v1 v2\r#\u0026gt; [1,] 1 4\r#\u0026gt; [2,] 2 4\r#\u0026gt; [3,] 3 NA\r Á∑¥Áøí:\nÂ∑≤Á∂ìÁü•ÈÅìboxplot()ÁöÑÂèÉÊï∏Â¶ÇÊûúÂÇ≥ÈÄ≤Áü©Èô£ÊàñË≥áÊñôÈõÜÔºåÂ∞áÂ∞çÊØè‰∏ÄÂÄãÊ¨Ñ‰Ωç‰ΩúÂúñ\nnote:boxplotÂêÉ y~xÂõûÊ≠∏Âºè,‰æãÂ¶Ç\nboxplot(formula = Ozone ~ Month, # Y ~ X data = airquality, # Ë≥áÊñô\rxlab = \u0026quot;Month\u0026quot;, ylab = \u0026quot;Ozone (ppb)\u0026quot;, col =\u0026quot;red\u0026quot;)\r boxplot(matrix(rnorm(100),ncol=2))\r figure\r\r\rÁèæÂú®Ë¶ÅÂàÜÁµÑÂ∞çÂπ¥ÈΩ°boxplot,Ë´ãÂØ´Âá∫Á®ãÂºèÁ¢ºÔºåË≥áÊñôÂ¶Ç‰∏ãÔºö\nage = c(23.0883, 25.8344, 29.4648, 32.7858, 33.6372,\r34.935, 35.2115, 35.2115, 5.2115, 36.7803)\rgroup = c(1, 1, 1, 2, 1, 1, 2, 2, 2, 1)\rdframe = data.frame(age=age, group=group)\r hint: ÊØèÁµÑÈï∑Â∫¶ÂèØËÉΩ‰∏ç‰∏ÄÊ®£ÔºåÈúÄË¶ÅË£úNA\nfigure\r\r\rhint: ÊúÄÁ∞°ÂñÆÁöÑÂØ´Ê≥ï boxplot(age~group)\n\u0026lt;1\u0026gt; FUN.Name ÊúÉË∑ëÂà∞mathch.fun() ÈÄôÂÄãÂáΩÊï∏ÔºåËÄåÈÄôÂÄãÂáΩÊï∏ÊòØÁî®Â≠ó‰∏≤ÊêúÂ∞ã\nm2: ÁèæÂú®ÊÉ≥Ë¶ÅÊäärstËΩâÊàêdata.frame„ÄÇ\nÂÖàÁúã‰∏Ä‰∏ãÁ§∫ÁØÑÔºåÂ¶Ç‰ΩïÊäälist ËΩâÊàê data.frame\n# Ëß£ÈáãÁµêÊûú,ÂïèstringsAsFactors=F Êúâ‰ªÄÈ∫ºÊïàÊûúÔºü\rtest1 \u0026lt;- list( c(a='a',b='b',c='c'), c(a='d',b='e',c='f'))\rd1\u0026lt;-as.data.frame(test1)\rd1\r  c.a....a...b....b...c....c.. c.a....d...b....e...c....f..   a a d  b b e  c c f     # ok\rtest2 \u0026lt;- list(a = c(1, 2, 3), b = c(4, 5, 6))\rd2\u0026lt;-as.data.frame(test2)\rd2\r a b   1 4  2 5  3 6    "},
{"uri": "/blogR//rlang/3_01_regular_expression.html","title": "3.1 Regular expression syntax",
	"tags": [],
	"description": "Âü∫Êú¨Ë™ûÊ≥ï",
	"content": "ÈÄôË£°Âè™ÊòØÊ≠£Ë¶èË°®ÈÅîÂºè(Regular expressions)Á∞°Áü≠ÁöÑ‰ªãÁ¥π:Á∏Ω‰πãÂ∞±ÊòØÂà©Áî®‰∏Ä‰∫õÁâπÊÆäÂ≠óÂÖÉÔºå‰æãÂ¶Ç $ * + . ? [ ] ^ { } | ( ) \\ÔºåÁî®‰æÜÂú®ÊñáÂ≠ó‰∏≠Ë°®ÈÅîÊüê‰∫õÊêúÂ∞ãÊ®£Âºè(pattern) ÁöÑË™ûÊ≥ï„ÄÇ\nÂíåÊ®£ÂºèÔºàpattern)ÊêúÂ∞ãÊúâÈóúÁöÑÂáΩÊï∏  strsplit: Âú®regexpÊâæÂà∞ÁöÑÂú∞ÊñπÂàÜÂâ≤Â≠ó‰∏≤ grep, grepl: Âú®Â≠ó‰∏≤‰∏≠Âà©Áî®regular expression Â∞ãÊâæ sub: ÊêúÂ∞ã‰∏¶Âèñ‰ª£Ê≠£Ë¶èË°®ÈÅîÂºèÊâæÂà∞ÁöÑÁ¨¨‰∏ÄÂÄãÁ¨¶ÂêàËÄÖ„ÄÇ gsub: È°û‰ºº‰∏äÈù¢,‰ΩÜÊòØÂºèÊâÄÊúâÁ¨¶ÂêàÁöÑÈÉΩÂèñ‰ª£„ÄÇ  grep, grepl grep,greplÁöÑÂ∑ÆÂà•Âú®ÊñºgreplÁöÑÁ≠îÊ°àÊòØÁµ¶Âá∫logicalÔºå‰∏îÊØîÂ∞çÁöÑÁµêÊûúÂíåÊêúÂ∞ãÂÖßÂÆπÁöÑÂÄãÊï∏Áõ∏Âêå„ÄÇËÄågrepÂè™ÊâæÁ¨¶ÂêàÁöÑ‰ΩçÁΩÆÊàñÂÄº(Áî±ÂèÉÊï∏valueÊåáÂÆö) ‰∏ãÈù¢ÁöÑ‰æãÂ≠êÊòØÊâæÂá∫a.cÈÄôÂÄãÂ≠ó‰∏≤„ÄÇ\ngrep(\u0026quot;a\\\\.c\u0026quot;, c(\u0026quot;abc\u0026quot;, \u0026quot;a.c\u0026quot;, \u0026quot;bef\u0026quot;),value=TRUE) #üè∑ÊâæÂá∫a.cÈÄôÂÄãÂ≠ó‰∏≤\r#\u0026gt; [1] \u0026quot;a.c\u0026quot;\rgrep(\u0026quot;a\\\\.c\u0026quot;, c(\u0026quot;abc\u0026quot;, \u0026quot;a.c\u0026quot;, \u0026quot;bef\u0026quot;)) #üè∑‰ΩçÁΩÆÁÇ∫2\r#\u0026gt; [1] 2\rgrepl(\u0026quot;a\\\\.c\u0026quot;, c(\u0026quot;abc\u0026quot;, \u0026quot;a.c\u0026quot;, \u0026quot;bef\u0026quot;)) #üè∑grep,greplÁöÑÂ∑ÆÂà•Âú®ÊñºgreplÁöÑÁ≠îÊ°àÊòØÁµ¶Âá∫logical\r#\u0026gt; [1] FALSE TRUE FALSE\r ÂèàÂè¶‰∏ÄÂÄã‰æãÂ≠ê,ÊòØÂú®Â≠ó‰∏≤‰∏≠Â∞ãÊâæÂñÆÂºïËôü,ÂÅáÂÆöË¶ÅÂú®ÂúãÂÆ∂‰∏≠ÊâæÂ∞ãÊòØÂê¶ÊúâÂêçÁ®±ÂåÖÂê´ÂñÆÂºïËôüÁöÑÂêçÂ≠ó,ÂèØ‰ª•‰ΩøÁî®'\\'' ÂïèÈ°å:ÁÇ∫ÁîöÈ∫º‰∏çÊòØ'\\\\''\nEscape sequences Ê≠£Ë¶èË°®ÈÅîÂºè‰∏≠.‰ª£Ë°®‰ªªÊÑèÂ≠óÂÖÉ,‰ΩÜÊòØÂ¶ÇÊûúÊàëÂÄëË¶ÅÂú®Â≠ó‰∏≤‰∏≠Êü•Êâæ\u0026quot;.\u0026quot;(‰æãÂ¶Ç,Ê™îÊ°àÂêçÁ®±‰∏≠ÁöÑÈªû) ÁöÑÊôÇÂÄôË¶ÅÊÄéÊ®£Ë°®Á§∫?Á≠îÊ°àÊòØ‰ΩøÁî®ÈÄÉÈÄ∏Â≠óÂÖÉ\\„ÄÇ‰ΩÜÊòØÂú®RË™ûË®Ä‰∏≠,Ê≠£Ë¶èË°®ÈÅîÂºèÔºå‰πüÊòØ‰ΩøÁî®Â≠ó‰∏≤ÔºåÂèØÊòØÂú®Â≠ó‰∏≤‰∏≠,\\Êú¨Ë∫´Â∞±ÈÄÉÈÄ∏Â≠óÂÖÉÔºåÂõ†Ê≠§ÈúÄË¶Å\\\\.„ÄÇ\ndot \u0026lt;- \u0026quot;\\\\.\u0026quot;\rwriteLines(dot)\r#\u0026gt; \\.\rx \u0026lt;- \u0026quot;a\\\\b\u0026quot;\rwriteLines(x)\r#\u0026gt; a\\b\r ÈÄôË£°ÁöÑÈÄÉÈÄ∏Â≠óÂÖÉÂè™ÊòØÂ≠ó‰∏≤ÁöÑÊ®ôÊ∫ñÁî®Ê≥ï,'‰∏çÊòØÊ≠£Ë¶èË°®ÈÅîÂºèÁöÑÁâπÊÆäÂ≠óÂÖÉ„ÄÇÈõªËÖ¶Ë™ûË®ÄË™çÂ≠ó‰∏≤ÁöÑÊñπÊ≥ïÊòØÊàêÂ∞çÁöÑÂºïËôü,ÈÄôÂÄãÊôÇÂÄôÂ¶ÇÊûúÂØ´'''ÈÇ£ÊòØÁîöÈ∫ºÊÑèÊÄù?ÊâÄ‰ª•'\\''Â∞±ÊòØÂ≠ó‰∏≤'ÁöÑÊÑèÊÄù„ÄÇÊâÄ‰ª•ÁÇ∫ÁîöÈ∫º‰πãÂâçÊòØ\u0026quot;a\\.c\u0026quot;‰∏≠,Á¨¨‰∫åÂÄã\\ÊòØËß£ËÑ´Ê≠£Ë¶èË°®ÈÅî‰∏≠.ÁöÑÊÑèÁæ©„ÄÇËÄåÁ¨¨‰∏ÄÂÄãÊòØ\\ÊòØÈÄÉÈÄ∏Â≠ó‰∏≤Ëß£ËÆÄ„ÄÇ\ncountry\u0026lt;-read.delim('resources/country.txt',header=FALSE)\r#\u0026gt; Warning in file(file, \u0026quot;rt\u0026quot;): ÁÑ°Ê≥ïÈñãÂïüÊ™îÊ°à 'resources/country.txt' ÔºöNo such file\r#\u0026gt; or directory\r#\u0026gt; Error in file(file, \u0026quot;rt\u0026quot;): ÁÑ°Ê≥ïÈñãÂïüÈÄ£Êé•\rnames(country)\u0026lt;-\u0026quot;Name\u0026quot; #\u0026gt; Error in names(country) \u0026lt;- \u0026quot;Name\u0026quot;: Êâæ‰∏çÂà∞Áâ©‰ª∂ 'country'\rcname \u0026lt;-levels(country$Name)\r#\u0026gt; Error in levels(country$Name): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'country'\rgrep('\\'', cname, value = TRUE)\r#\u0026gt; Error in is.factor(x): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'cname'\r note:\n ‰∏çÊòØcountry.names\u0026lt;-\u0026quot;Name\u0026quot;  ÂïèÈ°å:‰∏ãÈù¢ÂÖ©Ë°åÊúâÁîöÈ∫ºÂ∑ÆÂà•?\ngrep('\\'', country$Name, value = TRUE)\rgrep('\\'', levels(country$Name), value = TRUE)\r Hint: levels ÂÇ≥ÂõûÂîØ‰∏ÄÂÄº\nlevels(factor(c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;a\u0026quot;)))\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot;\rfactor(c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;a\u0026quot;))\r#\u0026gt; [1] a b a\r#\u0026gt; Levels: a b\r \r\rÁ∑¥Áøí Áî¢Áîü3ÂÄãÊ™îÊ°à,Ê™îÊ°àÂêçÁ®±Âê´Êúâcat\nfile.create(c(\u0026quot;xcat1.rmd\u0026quot;, \u0026quot;ycat2.txt\u0026quot;, \u0026quot;zcat3.rmd\u0026quot;))\r files\u0026lt;-list.files(\u0026quot;.\u0026quot;)\rgrep(\u0026quot;cat\u0026quot;, files, value = TRUE)\rgrep(\u0026quot;cat\u0026quot;, files, value = FALSE)\rgrepl(\u0026quot;cat\u0026quot;, files)\r regexpr, gregexpr regexpr ÂáΩÊï∏ÁöÑ‰ΩøÁî®ÊñπÂºèÈ°û‰ººgrepl„ÄÇÂÇ≥ÂõûÊï¥Êï∏ÂêëÈáè(Ë°®Á§∫Á¨¶Âêà‰ΩçÁΩÆÔºåÂ¶ÇÊûúÊâæ‰∏çÂà∞,ÂâáÂÇ≥Âõû-1),ÂÄãÊï∏ÂíåÊØîÂ∞çÂ≠ó‰∏≤‰∏≤ÂàóÁõ∏Âêå„ÄÇÈÄôÂÄãÂêëÈáèÂêåÊôÇÊúâÂ±¨ÊÄßmatch.length(ÂèÉËÄÉÁØÑ‰æã) .\ns\u0026lt;-\u0026quot;a.b.c.9\u0026quot;\rregexpr('b',s )\r#\u0026gt; [1] 3\r#\u0026gt; attr(,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 1\r#\u0026gt; attr(,\u0026quot;index.type\u0026quot;)\r#\u0026gt; [1] \u0026quot;chars\u0026quot;\r#\u0026gt; attr(,\u0026quot;useBytes\u0026quot;)\r#\u0026gt; [1] TRUE\rregexpr('.',s ) # Ë¶ÅÂÆö‰ΩçÁ¨¶Ëôü„Äå.„Äç,ÈÄôÊòØÈåØÁöÑ,\\.‰πüÈåØ\r#\u0026gt; [1] 1\r#\u0026gt; attr(,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 1\r#\u0026gt; attr(,\u0026quot;index.type\u0026quot;)\r#\u0026gt; [1] \u0026quot;chars\u0026quot;\r#\u0026gt; attr(,\u0026quot;useBytes\u0026quot;)\r#\u0026gt; [1] TRUE\rregexpr('\\\\.',s ) # Ê≠£Á¢∫\r#\u0026gt; [1] 2\r#\u0026gt; attr(,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 1\r#\u0026gt; attr(,\u0026quot;index.type\u0026quot;)\r#\u0026gt; [1] \u0026quot;chars\u0026quot;\r#\u0026gt; attr(,\u0026quot;useBytes\u0026quot;)\r#\u0026gt; [1] TRUE\rregexpr('[.]',s ) # Ê≠£Á¢∫ ,‰∏çÈúÄË¶Åregexpr('[\\\\.]',s )\r#\u0026gt; [1] 2\r#\u0026gt; attr(,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 1\r#\u0026gt; attr(,\u0026quot;index.type\u0026quot;)\r#\u0026gt; [1] \u0026quot;chars\u0026quot;\r#\u0026gt; attr(,\u0026quot;useBytes\u0026quot;)\r#\u0026gt; [1] TRUE\rregexpr('\\\\d',s ) # Ê≠£Á¢∫\r#\u0026gt; [1] 7\r#\u0026gt; attr(,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 1\r#\u0026gt; attr(,\u0026quot;index.type\u0026quot;)\r#\u0026gt; [1] \u0026quot;chars\u0026quot;\r#\u0026gt; attr(,\u0026quot;useBytes\u0026quot;)\r#\u0026gt; [1] TRUE\rx\u0026lt;-regexpr('[0-9]',s ) # Ê≠£Á¢∫\rattr(x,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 1\r s\u0026lt;-\u0026quot;a.b.c.9 6 8\u0026quot;\rx\u0026lt;-regexpr('[0-9]',s ) x\r#\u0026gt; [1] 7\r#\u0026gt; attr(,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 1\r#\u0026gt; attr(,\u0026quot;index.type\u0026quot;)\r#\u0026gt; [1] \u0026quot;chars\u0026quot;\r#\u0026gt; attr(,\u0026quot;useBytes\u0026quot;)\r#\u0026gt; [1] TRUE\rattr(x,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 1\r gregexpr() Âíå regexpr()‰∏ÄÊ®£,‰∏çÂêåÁöÑÊòØÊúÉÂú®ÁõÆÊ®ôÂ≠ó‰∏≤‰∏≠ÊêúÂ∞ãÊâÄÊúâÁ¨¶ÂêàÁöÑ‰ΩçÁΩÆËÄå‰∏çÊòØÂè™ÊâæÁ¨¨‰∏ÄÂÄã(g:ÂÖ®Â±Ä)„ÄÇ Âõ†Ê≠§ÂÇ≥ÂõûÁöÑÁµêÊûúÂÄãÊï∏ÈõñÁÑ∂ÂíåÊü•ÊâæÁöÑ‰∏≤ÂàóÂÖÉÁ¥†ÂÄãÊï∏‰∏ÄÊ®£,‰ΩÜÊòØÊØèÂÄãÂÖÉÁ¥†ÈÉΩÊòØ‰∏ÄÂÄãÂêëÈáè„ÄÇÂ¶ÇÊûúÈÉΩÊ≤íÊâæÂà∞,Âè™Êúâ‰∏ÄÂÄã-1„ÄÇ\ns\u0026lt;-\u0026quot;a.b.c.9 6 8\u0026quot;\rgregexpr('[0-9]',s ) #\u0026gt; [[1]]\r#\u0026gt; [1] 7 9 11\r#\u0026gt; attr(,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 1 1 1\r#\u0026gt; attr(,\u0026quot;index.type\u0026quot;)\r#\u0026gt; [1] \u0026quot;chars\u0026quot;\r#\u0026gt; attr(,\u0026quot;useBytes\u0026quot;)\r#\u0026gt; [1] TRUE\r Êï∏Èáè‰øÆÈ£æË©ûQuantifiers ÊåáÂÆöÈáçË§áÊ¨°Êï∏.\n *: Ëá≥Â∞ë0ÂÄã„ÄÇ +: Ëá≥Â∞ë‰∏ÄÂÄã. ?: ÊúÄÂ§ö‰∏ÄÂÄã. {n}: ÂâõÂ•ΩnÂÄã. {n,}: Ëá≥Â∞ënÂÄã. {n,m}: Ê¨°Êï∏Âú® n Âà∞ m ‰πãÈñì(ÂåÖÊã¨n,m).  (strings \u0026lt;- c(\u0026quot;a\u0026quot;, \u0026quot;ab\u0026quot;, \u0026quot;acb\u0026quot;, \u0026quot;accb\u0026quot;, \u0026quot;acccb\u0026quot;, \u0026quot;accccb\u0026quot;))\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;ab\u0026quot; \u0026quot;acb\u0026quot; \u0026quot;accb\u0026quot; \u0026quot;acccb\u0026quot; \u0026quot;accccb\u0026quot;\rgrep(\u0026quot;ac*b\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;ab\u0026quot; \u0026quot;acb\u0026quot; \u0026quot;accb\u0026quot; \u0026quot;acccb\u0026quot; \u0026quot;accccb\u0026quot;\rgrep(\u0026quot;ac+b\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;acb\u0026quot; \u0026quot;accb\u0026quot; \u0026quot;acccb\u0026quot; \u0026quot;accccb\u0026quot;\rgrep(\u0026quot;ac?b\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;ab\u0026quot; \u0026quot;acb\u0026quot;\rgrep(\u0026quot;ac{2}b\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;accb\u0026quot;\rgrep(\u0026quot;ac{2,}b\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;accb\u0026quot; \u0026quot;acccb\u0026quot; \u0026quot;accccb\u0026quot;\rgrep(\u0026quot;ac{2,3}b\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;accb\u0026quot; \u0026quot;acccb\u0026quot;\r Á∑¥Áøí:Find all countries with ee in Gapminder using quantifiers.\n#\u0026gt; Error in levels(country$Name): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'country'\r \r\rPosition of pattern within the string  ^: Â≠ó‰∏≤ÈñãÈ†≠. $: Â≠ó‰∏≤ÁµêÂ∞æ. \\b: Â∑¶Âè≥ÈÉΩÁ©∫ÁôΩÁöÑ word. \\B: Â∑¶Âè≥‰∏çÊòØÁ©∫ÁôΩ word.  (strings \u0026lt;- c(\u0026quot;abcd\u0026quot;, \u0026quot;cdab\u0026quot;, \u0026quot;cabd\u0026quot;, \u0026quot;c abd\u0026quot;))\r#\u0026gt; [1] \u0026quot;abcd\u0026quot; \u0026quot;cdab\u0026quot; \u0026quot;cabd\u0026quot; \u0026quot;c abd\u0026quot;\rgrep(\u0026quot;ab\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;abcd\u0026quot; \u0026quot;cdab\u0026quot; \u0026quot;cabd\u0026quot; \u0026quot;c abd\u0026quot;\rgrep(\u0026quot;^ab\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;abcd\u0026quot;\rgrep(\u0026quot;ab$\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;cdab\u0026quot;\rgrep(\u0026quot;\\\\bab\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;abcd\u0026quot; \u0026quot;c abd\u0026quot;\r regexpr(\u0026quot;\\\\bab\u0026quot;, strings)\r#\u0026gt; [1] 1 -1 -1 3\r#\u0026gt; attr(,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] 2 -1 -1 2\r#\u0026gt; attr(,\u0026quot;index.type\u0026quot;)\r#\u0026gt; [1] \u0026quot;chars\u0026quot;\r#\u0026gt; attr(,\u0026quot;useBytes\u0026quot;)\r#\u0026gt; [1] TRUE\r regexpr(\u0026quot;\\\\Bab\u0026quot;, strings)\r#\u0026gt; [1] -1 3 2 -1\r#\u0026gt; attr(,\u0026quot;match.length\u0026quot;)\r#\u0026gt; [1] -1 2 2 -1\r#\u0026gt; attr(,\u0026quot;index.type\u0026quot;)\r#\u0026gt; [1] \u0026quot;chars\u0026quot;\r#\u0026gt; attr(,\u0026quot;useBytes\u0026quot;)\r#\u0026gt; [1] TRUE\r Exercise Find all .txt files in the repository.\n```{r ex_pos, echo = FALSE}\rgrep(\u0026quot;\\\\.txt$\u0026quot;, files, value = TRUE)\rgrep(\u0026quot;[.]txt$\u0026quot;, files, value = TRUE)\r```\r Operators  .: ‰ªªÊÑèÂ≠óÂÖÉ„ÄÇ [...]: ‰æãÂ¶Ç,[ade] 3ÂÄãÂ≠óÂÖÉÂÖ∂‰∏≠‰∏ÄÂÄã„ÄÇ[a-e],aÂà∞e. [^...]: Èô§‰∫Ü[]ÊåáÂÆöÁöÑÂ≠óÂÖÉÔºåÈùû[...]ÁöÑÊÑèÊÄù„ÄÇ. \\: ÊäëÂà∂‰∏ãÂàóÂ≠óÂÖÉÂú®Â≠ó‰∏≤,\u0026quot;\u0026quot;,‰∏≠ÁöÑÁâπÊÆäÊÑèÊÄù $ * + . ? [ ] ^ { } | ( ) \\, Âè™ÊòØÂú®R‰∏≠,Âõ†ÁÇ∫\\ÂèàÊúâÁâπÊÆäÊÑèÁæ© ,Âõ†Ê≠§ÂøÖÈ†àÈõô\\‰æãÂ¶Ç \\\\$„ÄÇ |: Êàñ. (...): Â≠óÂÖÉÁµÑ,Ê†πÊìöÂá∫ÁèæÁöÑÈ†ÜÂ∫è,ÂèØ‰ª•Áî® \\\\NË≠òÂà•( backreference).  (strings \u0026lt;- c(\u0026quot;^ab\u0026quot;, \u0026quot;ab\u0026quot;, \u0026quot;abc\u0026quot;, \u0026quot;abd\u0026quot;, \u0026quot;abe\u0026quot;, \u0026quot;ab 12\u0026quot;))\r#\u0026gt; [1] \u0026quot;^ab\u0026quot; \u0026quot;ab\u0026quot; \u0026quot;abc\u0026quot; \u0026quot;abd\u0026quot; \u0026quot;abe\u0026quot; \u0026quot;ab 12\u0026quot;\rgrep(\u0026quot;ab.\u0026quot;, strings, value = TRUE) #\u0026gt; [1] \u0026quot;abc\u0026quot; \u0026quot;abd\u0026quot; \u0026quot;abe\u0026quot; \u0026quot;ab 12\u0026quot;\rgrep(\u0026quot;ab[c-e]\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;abc\u0026quot; \u0026quot;abd\u0026quot; \u0026quot;abe\u0026quot;\rgrep(\u0026quot;ab[^c]\u0026quot;, strings, value = TRUE)\r#\u0026gt; [1] \u0026quot;abd\u0026quot; \u0026quot;abe\u0026quot; \u0026quot;ab 12\u0026quot;\rgrep(\u0026quot;^ab\u0026quot;, strings, value = TRUE) #\u0026gt; [1] \u0026quot;ab\u0026quot; \u0026quot;abc\u0026quot; \u0026quot;abd\u0026quot; \u0026quot;abe\u0026quot; \u0026quot;ab 12\u0026quot;\rgrep(\u0026quot;\\\\^ab\u0026quot;, strings, value = TRUE) #\u0026gt; [1] \u0026quot;^ab\u0026quot;\rgrep(\u0026quot;abc|abd\u0026quot;, strings, value = TRUE) #\u0026gt; [1] \u0026quot;abc\u0026quot; \u0026quot;abd\u0026quot;\rgsub(\u0026quot;(ab) 12\u0026quot;, \u0026quot;\\\\1 34\u0026quot;, strings) #\u0026gt; [1] \u0026quot;^ab\u0026quot; \u0026quot;ab\u0026quot; \u0026quot;abc\u0026quot; \u0026quot;abd\u0026quot; \u0026quot;abe\u0026quot; \u0026quot;ab 34\u0026quot;\r note: Ë¶ÅËÆì.(‰ªªÊÑèÂ≠óÂÖÉ)Â§±ÊïàÔºåÂèØ‰ª•[.]Êàñ \\\\. Ë°®Á§∫„ÄÇ\nExcercise ÊâæÂá∫ÂúãÂêç‰∏≠ÈñìÊúâÂ≠óÂÖÉi t ‰∏¶‰∏îÂ∞álandÁµêÂ∞æÁöÑÂ≠ó‰∏≤ÊîπÁÇ∫Â§ßÂØ´„ÄÇ‰æãÂ¶Ç,Finland-\u0026gt;FinLAND\n#\u0026gt; Error in levels(country$Name): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'country'\r#\u0026gt; Error in is.factor(x): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'countries'\r Character classes È†êË®≠Â≠óÂÖÉÂàÜÈ°û‰æãÂ¶Ç numbers, letters, ÂàÜÈ°û„ÄÇ ÈñãÈ†≠[: ÁµêÂ∞æ :] ÔºåÂè¶‰∏ÄÁ®ÆÁ∞°ÂØ´ÊñπÂºèÁÇ∫Âà©Áî® \\ „ÄÇ\n [:digit:] or \\d: Êï∏Â≠ó,Á≠âÂêå [0-9]. \\D: ÈùûÊï∏Â≠ó,Á≠âÂêå [^0-9]. [:lower:]: Â∞èÂØ´,Á≠âÂêå [a-z]. [:upper:]: Â§ßÂØ´,Á≠âÂêå [A-Z]. [:alpha:]: Â≠óÊØç,Á≠âÂêå [[:lower:][:upper:]] or [A-z]. [:alnum:]: Á≠âÂêå [[:alpha:][:digit:]] Êàñ [A-z0-9]. \\w: word characters, equivalent to [[:alnum:]_] or [A-z0-9_]. \\W: not word, equivalent to [^A-z0-9_]. [:xdigit:]: hexadecimal digits (base 16), 0 1 2 3 4 5 6 7 8 9 A B C D E F a b c d e f, equivalent to [0-9A-Fa-f]. [:blank:]: blank characters, i.e. space and tab. [:space:]: space characters: tab, newline, vertical tab, form feed, carriage return, space. \\s: space,  . \\S: not space. [:punct:]: punctuation characters, ! \u0026quot; # $ % \u0026amp; ' ( ) * + , - . / : ; \u0026lt; = \u0026gt; ? @ [ \\ ] ^ _ ` { | } ~. [:graph:]: graphical (human readable) characters: equivalent to [[:alnum:][:punct:]]. [:print:]: printable characters, equivalent to [[:alnum:][:punct:]\\\\s]. [:cntrl:]: control characters, like \\n or \\r, [\\x00-\\x1F\\x7F].  Note:\n [:...:] ÂøÖÈ†àÂØ´Âú®‰∏≠Êã¨Ëôü‰∏≠, ‰æãÂ¶Ç [[:digit:]]. \\ Ê≥®ÊÑè \\\\d. Âíå \\tÁöÑÂçÄÂà•„ÄÇ "},
{"uri": "/blogR//rlang/4_1_1_type_%E5%9F%BA%E6%9C%AC.html","title": "4.1 Âü∫Êú¨",
	"tags": [],
	"description": "‰∏ªË¶Å‰ªãÁ¥πÂü∫Êú¨Ë™ûÊ≥ï",
	"content": "Âü∫Êú¨Êìç‰Ωú  Êìç‰ΩúÈÄöÂ∏∏ÂíåË≥áÊñôÁµêÊßãÁõ∏Èóú,ÂèØ‰ª•ÂèÉËÄÉ Ë≥áÊñôÁµêÊßã\n Âú®RË™ûË®Ä‰∏≠,ÂûãÊÖã‰∏çÈ†àÁ∂ìÈÅéÂÆ£Âëä(declared)„ÄÇ ‰∏ÄÂÄãËÆäÊï∏ÁöÑÂûãÊÖãÁ∂ìÁî±assignmentÁöÑÈÅéÁ®ãÊ±∫ÂÆö,Âç≥\u0026lt;-Âè≥ÈÇäÁöÑR-Objects„ÄÇ‰πüÂ∞±ÊòØÂú®ÊåáÊ¥æËÆäÊï∏ÂÄºÁöÑÊôÇÂÄô,ÂêåÊôÇÊ±∫ÂÆö‰∫ÜÂûãÊÖã„ÄÇ\nÂü∫Êú¨ÁöÑ R-objectÊúâ ‚àí\n Vectors Lists Matrices Arrays Factors Data Frames  ÊúÄÁ∞°ÂñÆÁöÑÊòØvectorÁâ©‰ª∂,atomic vector Êúâ6Á®Ædata types(ÊúâÊôÇ‰πüÂè´ÂÅö 6 ÂÄãclasses)\nData Type Example   Logical TRUE, FALSE  Numeric 1.3, 5, 99  Integer 3L, 24L, 0L  Complex 5 + 4i  Character 'b' , \u0026quot;good\u0026quot;, \u0026quot;TRUE\u0026quot;, '23.4'  Raw \u0026quot;Hello\u0026quot; is stored as 48 65 6c 6c 6f      üí°: ‰∏äË°®‰∏≠,Â≠óÂÖÉHÂ∞çÊáâÁöÑ48ÊÄéÈ∫º‰æÜÁöÑ? Âà©Áî®JSÈ©óË≠â \u0026quot;H\u0026quot;.charCodeAt(0).toString(16) ÔºåÂú®Ôº≤‰∏≠ÂèØ‰ª•Âà©Áî®charToRaw(ÁØÑ‰æã‰∏≠)\n Êï∏Â≠ó(3Á®Æ,‰æãÂ¶ÇÊï¥Êï∏„ÄÅÊµÆÈªû„ÄÅË§áÊï∏Ôºâ,ÈÇèËºØ,Â≠óÂÖÉ(2Á®ÆÔºåcharacter, raw)\nv \u0026lt;- TRUE print(class(v))\r#\u0026gt; [1] \u0026quot;logical\u0026quot;\rv \u0026lt;- 23.5\rprint(class(v))\r#\u0026gt; [1] \u0026quot;numeric\u0026quot;\rv \u0026lt;- 2L\rprint(class(v))\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\rv \u0026lt;- 2+5i\rprint(class(v))\r#\u0026gt; [1] \u0026quot;complex\u0026quot;\rv \u0026lt;- \u0026quot;TRUE\u0026quot;\rprint(class(v))\r#\u0026gt; [1] \u0026quot;character\u0026quot;\rv \u0026lt;- charToRaw(\u0026quot;Hello\u0026quot;)„ÄÄ#üè∑üëèÂêåÊ®£ÁöÑ‰∏≠ÊñáÂ≠óÂà©Áî®charToRaw()ÊâæÂá∫‰æÜÁöÑÔºëÔºñÈÄ≤‰ΩçÔºåÊúÉÂõ†ÁÇ∫Á∑®Á¢ºËÄå‰∏çÂêå\rprint(class(v))\r#\u0026gt; [1] \u0026quot;raw\u0026quot;\r üí° Êï∏Â≠óÔºì‰∏çÊòØÁúü‰πü‰∏çÊòØÂÅá\nisTRUE(3)\r#\u0026gt; [1] FALSE\risFALSE(3)\r#\u0026gt; [1] FALSE\r class(3),class(3.1) ÁöÑÈ°ûÂà•ÊòØÁîöÈ∫ºÔºüÊèêÁ§∫\r numeric\rÊåáÊ¥æ  \u0026lt;-, \u0026lt;\u0026lt;-, =\tÂêëÂ∑¶ÊåáÊ¥æÂÄº„ÄÇ -\u0026gt;, -\u0026gt;\u0026gt;\tÂêëÂè≥ÊåáÊ¥æÂÄº„ÄÇ  ÊåáÊ¥æÈÅãÁÆóÂ≠êÈõñÁÑ∂‰πüÂèØ‰ª•Áî®=‰ΩÜÊòØÔºåRÁöÑË®≠Ë®àÊòØ‰ΩøÁî®\u0026lt;-„ÄÇ\na \u0026lt;- 3\r a\u0026lt;-3ÊòØ‰∏ÄÂÄãÊåáÊ¥æÁöÑÊïòËø∞Âè•,‰∏çÊúÉÂõûÈ•ãË≥áË®äÂà∞Ëû¢Âπï‰∏ä„ÄÇÂ¶ÇÊûúË¶ÅÁü•ÈÅìaÁöÑÂÖßÂÆπÊòØÁîöÈ∫º,Â∞±ÊâìÂÖ•a ÊàñËÄÖ(a\u0026lt;-3)\na\r#\u0026gt; [1] 3\r(a\u0026lt;-3)\r#\u0026gt; [1] 3\r ‰∏ÄËà¨ÁöÑÊï∏Â≠∏ÂáΩÊï∏\nb \u0026lt;- sqrt(a * a + 5)\rb\r#\u0026gt; [1] 3.741657\r \u0026lt;- vs =(‰æãÂ¶Ça\u0026lt;-3 vs. a=3) ÁöÑÁ∞°ÂåñË™™Êòé\n  Â§ßÈÉ®ÂàÜÊÉÖÊ≥Å‰∏ã\u0026lt;- Âíå = Âú®Áõ∏ÂêåÁöÑÁí∞Â¢É‰∏ãÁ≠âÂÉπ„ÄÇ\n Âè¶Â§ñ,\u0026lt;\u0026lt;- Áî®‰æÜÊåáÊ¥æÂÄºÁµ¶Ë¶™‰ª£Áí∞Â¢É‰∏ãÁöÑËÆäÊï∏„ÄÇ    ÊåâÁÖßRÁöÑË™™Êòé,Á≠âËôüÂè™ËÉΩÁî®Âú®top level,ÊàñÊòØÂáΩÊï∏ÂèÉÊï∏ÁöÑÊåáÂÆö„ÄÇÂèÉËÄÉ\n‚Äπfunction_name‚Ä∫(‚Äπargname‚Ä∫ = ‚Äπvalue‚Ä∫, ‚Ä¶) #\u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÈÄôË£°Áî®\u0026lt;-Êúâ‰∏ç‰∏ÄÊ®£ÁöÑÊÑèÊÄù\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r‚Äπfunction_name‚Ä∫(‚Äπargs‚Ä∫, ‚Äπargname‚Ä∫ = ‚Äπvalue‚Ä∫, ‚Ä¶)\r   ‰æãÂ¶Ç Âú®‰∏ªÊéßÂè∞Âü∑Ë°å‰∏ãÈù¢Á®ãÂºèÁ¢º\nrm(list=ls()) # (üêûÊúÉÂà™ÊéâÊàëËá™Â∑±ÁöÑÂñÆÈ†ÅÁ∑®Ë≠ØËÆäÊï∏) ls() # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÂ∑•‰ΩúÂçÄÊòØÁ©∫ÁöÑ,Ê≤íÊúâxËÆäÊï∏\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\rmean(x\u0026lt;-1:10) #\u0026gt; [1] 5.5\rls() # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÂú®Â∑•‰ΩúÂçÄÊúÉÂá∫ÁèæxËÆäÊï∏\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\rrm(x)„ÄÄ# \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÂæûÂ∑•‰ΩúÂçÄÁßªÈô§ËÆäÊï∏x\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\rmean(x=1:10) #\u0026gt; [1] 5.5\rls() # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÂ∑•‰ΩúÂçÄÊ≤íÊúâxËÆäÊï∏ÔºåÈÄôË£°Âè™ÊòØÂèÉÊï∏ÊåáÂÆöÔºåÂú®‰∏ªÊéßÂè∞Êï≤ÂÖ•ÔºümeanÂèØ‰ª•ÁúãÂà∞ÂèÉÊï∏Êúâx\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r \rË£úÂÖÖÂáΩÊï∏ls()ÁöÑË™™Êòé\rÂú®session‰∏≠ÁöÑÂ¶ÇÊûúË¶ÅÂàóÂá∫Â∑≤Á∂ìÂÆöÁæ©ÈÅéÁöÑËÆäÊï∏,ÂèØ‰ª•Âà©Áî®lsÔºàÁõ∏ÈóúÂáΩÊï∏rmÔºâ\nls()\r# [1] \"a\" \"b\"\r \r\r\rÈÅãÁÆó ÂõõÂâáÈÅãÁÆó ÂèÉËÄÉÂØ¶ÈöõÊìç‰Ωú\nLogical ÈÇèËºØÈ°ûÂè™ÊúâÂÖ©ÂÄãÂÄº TRUE and FALSEÊàñÊòØÁ∞°ÂØ´Ôº¥ÔºåÔº¶:\na = TRUE\rtypeof(a)\r#\u0026gt; [1] \u0026quot;logical\u0026quot;\rb = FALSE\rtypeof(b)\r#\u0026gt; [1] \u0026quot;logical\u0026quot;\r RË™ûË®ÄÂ∏∏Áî®ÈÇèËºØÈÅãÁÆóÂ≠ê operator Ë™™Êòé   \u0026lt; less than  \u0026gt; great than  \u0026lt;= less than or equal  \u0026gt;= greater than or equal  == equal to  != not equal to  | entry wise or  || or  ! not  \u0026amp; entry wise and  \u0026amp;\u0026amp; and  xor(a,b) exclusive or     ÁØÑ‰æãÔºö‰∏çÂêåÁöÑÈÅãÁÆóÂ≠êÔºåÂú®ÂÄãÂà•ÂÖÉÁ¥†ÂíåÊï¥ÂÄãÂêëÈáèÁöÑÈÅãÁÆóÁµêÊûú‰∏ç‰∏ÄÊ®£Ôºö\na = c(TRUE, FALSE)\rb = c(FALSE, F)\ra | b\r#\u0026gt; [1] TRUE FALSE # üè∑üëèÂÖ®ÈÉ®ÂÖÉÁ¥†\ra || b\r#\u0026gt; [1] TRUE # üè∑üëèÂè™ÊúâÁ¨¨‰∏ÄÂÄãÂÖÉÁ¥†\ra \u0026amp; b\r#\u0026gt; [1] FALSE FALSE # üè∑üëèÂÖ®ÈÉ®ÂÖÉÁ¥†\ra \u0026amp;\u0026amp; b\r#\u0026gt; [1] FALSE # üè∑üëèÂè™ÊúâÁ¨¨‰∏ÄÂÄãÂÖÉÁ¥†\rxor(a, b)\r#\u0026gt; [1] TRUE FALSE\r a||b, a\u0026amp;\u0026amp;b Âè™ÊØîÂ∞ça,b‰∏≠ÁöÑÁ¨¨‰∏ÄÂÄãÂÖÉÁ¥†„ÄÇÂõ†Ê≠§Èï∑Â∫¶Âè™Êúâ1ÂÄã„ÄÇ‚úîÂ¶ÇÊûúÊòØÊµÅÁ®ãÊéßÂà∂,Â§ßÈ´î‰∏äÁî®ÁöÑÈÄôÂÖ©Á®Æ„ÄÇ\n\u0026amp; Âíå | ÊØîÂ∞çÂÖÉÁ¥†,ÂÇ≥ÂõûÈï∑Â∫¶ÁÇ∫Â§ßÂ∞èÊúÄÈï∑ÁöÑÈÇ£ÂÄã„ÄÇ\n0ÁÇ∫FALSE,ËÄå1ÁÇ∫TRUE„ÄÇÂú®R‰∏≠,Âà§Êñ∑‰∏ÄÂÄãËÆäÊï∏ÊòØÂê¶TRUE,Ë¶ÅÊ™¢Êü•Â•ΩÂπæÂÄãÂú∞Êñπ,Âõ†Ê≠§ÊúâÊèê‰æõÂÖßÂÆöÁöÑÊ™¢Êü•ÂáΩÊï∏‚úîisTRUE()\nx \u0026lt;- c(TRUE,FALSE,0,6)\ry \u0026lt;- c(FALSE,TRUE,FALSE,TRUE)\r!x\rx\u0026amp;y\rx\u0026amp;\u0026amp;y\rx|y\rx||y #\u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÂ∏∏Áî®ÊñºÈÇèËºØÂà§Êñ∑Âºè\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r ÊèêÁ§∫\r \u0026gt; x \u0026lt;- c(TRUE,FALSE,0,6)\r#\u0026gt; [1] 1 0 0 6\r\u0026gt; y \u0026lt;- c(FALSE,TRUE,FALSE,TRUE)\r#\u0026gt; [1] FALSE TRUE FALSE TRUE\r\u0026gt; !x\r#\u0026gt; [1] FALSE TRUE TRUE FALSE #üë∫üë∫\u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üë∫ÂíåCÂÆ∂ÊóèÁöÑÈùû0ÁÇ∫Áúü‰∏ç‰∏ÄÊ®£ü§∑‚Äç‚ôÄÔ∏è\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r\u0026gt; x\u0026amp;y\r#\u0026gt; [1] FALSE FALSE FALSE TRUE\r\u0026gt; x\u0026amp;\u0026amp;y\r#\u0026gt; [1] FALSE\r\u0026gt; x|y\r#\u0026gt; [1] TRUE TRUE FALSE TRUE\r\u0026gt; x||y\r#\u0026gt; [1] TRUE\r \rx \u0026lt;- c(TRUE,FALSE,0,6,0) # ÂÄãÊï∏ÊúâÔºïÂÄã\ry \u0026lt;- c(T,TRUE,FALSE,TRUE)„ÄÄ#„ÄÄÂÄãÊï∏ÊúâÔºîÂÄã\rx| y\r Ëß£Èáã‰∏äÈù¢ÁöÑÁµêÊûú\n Èï∑Â∫¶ÁÇ∫ÁîöÈ∫ºÊòØÔºï ÊúÄÂæå‰∏ÄÂÄãÁÇ∫ÁîöÈ∫ºÊòØÔº¥ Â¶ÇÊûúx \u0026lt;- c(TRUE,FALSE,0,6,3) ÁÑ∂ÂæåÂïè x \u0026amp; y  ÊèêÁ§∫\r üí°Âæ™Áí∞Ë£úË∂≥\rÈÇèËºØÂáΩÊï∏ is.family ÂáΩÊï∏ÔºåÂèØ‰ª•Áî®‰æÜÂà§ÂÆöËÆäÊï∏ÊòØ‰ªÄÈ∫ºÂûãÊÖãÔºåÂÇ≥ÂõûÁúüÂÅáÂÄºÔºå‰æãÂ¶Ç\na = c(1, 2, 3)\ris.numeric(a)\r#\u0026gt; [1] TRUE\ris.factor(a)\r#\u0026gt; [1] FALSE\ris.character(a)\r#\u0026gt; [1] FALSE\r ÂáΩÊï∏which()Âì™‰∫õÂÖÉÁ¥†‰∏ç‰∏ÄËá¥\nA\u0026lt;-c(T,F,T,F)\rC\u0026lt;-c(F,F,F,T)\rwhich(A)\r#\u0026gt; [1] 1 3\rwhich(A != C)\r#\u0026gt; [1] 1 3 4\r ÂáΩÊï∏all() ÊòØ‰∏çÊòØÂêëÈáèÂÖßÊâÄÊúâÂÖÉÁ¥†ÈÉΩÊòØÔº¥\nall(A==B)\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'B'\rall(A==C)\r#\u0026gt; [1] FALSE\rall(A==A)\r#\u0026gt; [1] TRUE\r which(),all()Ë£°Èù¢ÁöÑÂèÉÊï∏ÂÖ∂ÂØ¶ÈÉΩÊòØÈÇèËºØÂêëÈáè„ÄÇ\r\r\rË®ªËß£Ôºö‰ΩÜÊòØRË™ûË®ÄÁöÑÂêëÈáèÈÅãÁÆóÔºåÊ∂âÂèäËá™ÂãïÂ°´ÂÖÖÂæ™Áí∞ÔºåÂõ†Ê≠§Ê≥®ÊÑè‰∏ãÈù¢ÁöÑË®àÁÆóÁµêÊûú\nD \u0026lt;- c(\u0026quot;A\u0026quot;,\u0026quot;B\u0026quot;,\u0026quot;A\u0026quot;,\u0026quot;B\u0026quot;)\rE \u0026lt;- c(\u0026quot;A\u0026quot;,\u0026quot;B\u0026quot;)\rall(D==E)\r#\u0026gt; [1] TRUE\rall(length(D)==length(E)) \u0026amp;\u0026amp; all(D==E)\r#\u0026gt; [1] FALSE\r ÂáΩÊï∏identical(a,b) a,b ÊòØÂê¶Áõ∏Á≠â,ÊØîËºÉÁöÑÊòØÈô§‰∫Üa,bÁöÑÂÖßÂÆπ‰ª•Â§ñ,üí°ÈÇÑÊúâa b ÁöÑÂûãÊÖã„ÄÇ‰æãÂ¶ÇÔºåidentical(1,as.integer(1)) ÁµêÊûúÊòØF,Âõ†ÁÇ∫ ÂâçËÄÖÊòØdouble,ÂæåËÄÖÊòØÊï¥Êï∏„ÄÇ\nidentical(1,as.integer(1)) #\u0026gt; [1] FALSE\rtypeof(1)\r#\u0026gt; [1] \u0026quot;double\u0026quot;\ridentical(1L,as.integer(1)) #\u0026gt; [1] TRUE\r   ÊØîÂ∞çÊï∏Â≠ó3ÂíåÂ≠ó‰∏≤3\n3==\u0026quot;3\u0026quot;\r#\u0026gt; [1] TRUE\ridentical(3,\u0026quot;3\u0026quot;)\r#\u0026gt; [1] FALSE\r   ÂáΩÊï∏identical()\nA \u0026lt;- c(\u0026quot;A\u0026quot;, \u0026quot;B\u0026quot;, \u0026quot;C\u0026quot;, \u0026quot;D\u0026quot;)\rB \u0026lt;- A\rC \u0026lt;- c(\u0026quot;A\u0026quot;, \u0026quot;C\u0026quot;, \u0026quot;C\u0026quot;, \u0026quot;E\u0026quot;)\rA==B\r#\u0026gt; [1] TRUE TRUE TRUE TRUE\rA==C #\u0026gt; [1] TRUE FALSE TRUE FALSE\ridentical(A,B) # üè∑üëèÂè™Êúâ‰∏ÄÂÄãÁúüÂÅáÂÄº\r#\u0026gt; [1] TRUE\ridentical(A,C)\r#\u0026gt; [1] FALSE\r   ÂØ¶Êï∏ÁöÑÊØîËºÉüë∫\n0.1+0.2 == 0.3 #F\r#\u0026gt; [1] FALSE\ridentical(0.1+0.2 , 0.3) #F\r#\u0026gt; [1] FALSE\r   identical ÂèØ‰ª•ÂíåÂæåÈù¢ÁöÑÂáΩÊï∏all.equalÂáΩÊï∏ÊØîËºÉ„ÄÇ\nÂØ¶Êï∏ÁöÑÊØîËºÉ ÂáΩÊï∏all.equal()\n0.1+0.2 == 0.3 #‚õ≥Ë®ªËß£ \r#\u0026gt; [1] FALSE\rall.equal(0.1+0.2,0.3)\r#\u0026gt; [1] TRUE\r Âú®EXCEL‰∏≠Âà©Áî®ÊúâÊïà‰ΩçÊï∏15‰æÜËß£0.1+0.2==0.3 ÊòØÂê¶Áõ∏Á≠âÁöÑÂïèÈ°å„ÄÇ\nÂú®R‰∏≠ÔºåÂèØ‰ª•Áî®signif()Á§∫ÁØÑ(üòíoptions()$digitsÈ†êË®≠ÊòØ7,ÂèØ‰ª•Áî®(options(digits=15)ÊîπËÆäË®≠ÂÆö)‰ΩÜÊòØÂ•ΩÂÉèÂè™ÊòØÁî®‰æÜÊéßÂà∂È°ØÁ§∫ÁöÑÊúâÊïà‰ΩçÂÖÉ)\nx\u0026lt;-runif(1)\rsignif(x,3)\r#\u0026gt; [1] 0.111\rsignif(0.1+0.2, 15)==signif(0.3,15)\r#\u0026gt; [1] TRUE\rsignif(0.1,15)+signif(0.2,15)==signif(0.3,15) # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëè + ‰ª•ÂæåÁöÑÁµêÊûú‰πüË¶Å\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; [1] FALSE\r \r\rÈÄôÊòØÂè¶‰∏ÄÂÄã‰æãÂ≠ê,Ë∑üÊàëÂÄëË™™ÂØ¶Êï∏ÁöÑÊØîËºÉÂæà‰∏çÁ©©ÂÆö\n# ÂÖàÁúãÊàëÂÄëÊáâË©≤Áü•ÈÅìÁöÑÈÉ®ÂàÜ\r1-0.4 ==0.6 # TRUE üëè\r#\u0026gt; [1] TRUE\r1-0.6==0.4 # TRUE\r#\u0026gt; [1] TRUE\rx \u0026lt;- seq(0, 1, by = 0.2)\ry \u0026lt;- seq(0, 1, by = 0.2)\ry[4] #\u0026gt; [1] 0.6\rx[3] #\u0026gt; [1] 0.4\r1 - x[3] #\u0026gt; [1] 0.6\ry[4] == 1 - x[3] #üè∑ÂâçÈù¢ÁöÑ1-0.4==0.6 ÁÇ∫Áúü\r#\u0026gt; [1] FALSE üëè\r## üíØ\rall.equal(y[4], 1 - x[3])„ÄÄ#\u0026gt; [1] TRUE\r## üíØ\rall.equal(y[4], 1 - x[3])„ÄÄ ÂáΩÊï∏Á∑¥ÁøíÔºö\nÂ∞á‰∏äÈù¢ÂèØËÉΩÈÄ†ÊàêË™§Âà§ÁöÑÊÉÖÊ≥ÅÔºåÂØ´ÊàêÂáΩÊï∏ÂÖàÂà§Êñ∑ÊòØÂê¶Èï∑Â∫¶Áõ∏Á≠âÔºåÁÑ∂ÂæåÂà§Êñ∑ÂÖÉÁ¥†Áõ∏Á≠âÔºåÂèØ‰ª•Âíåidentical()ÊØîËºÉ„ÄÇÊèêÁ§∫\r hint: Âà©Áî®length\na \u0026lt;- character(0)\ridentical(a, character(0)) # returns TRUE\ridentical(a, \u0026quot;\u0026quot;) # returns FALSE\ridentical(a, numeric(0)) # returns also FALSE\r \rÊòØ‰∏çÊòØNA, NULL nx1\u0026lt;-numeric(0)\rnx2\u0026lt;-3\ris.null(nx1) # F,Âõ†ÁÇ∫nx1ÊòØÁ©∫ÂêëÈáè(Èï∑Â∫¶ÁÇ∫0ÁöÑÊï∏Â≠óÂêëÈáè)\r#\u0026gt; [1] FALSE\ris.na(nx1) # logical(0),ÊØèÂÄãÂÖÉÁ¥†Ê™¢Êü•ÊòØ‰∏çÊòØNA,‰ΩÜÊòØÁèæÂú®ÊòØÁ©∫ÂêëÈáè,ÊâÄ‰ª•ÁµêÊûúÊòØlogical(0)\r#\u0026gt; logical(0)\rtypeof(nx1) # double\r#\u0026gt; [1] \u0026quot;double\u0026quot;\rtypeof(nx2) # double\r#\u0026gt; [1] \u0026quot;double\u0026quot;\rlength(nx1) # 0 #\u0026gt; [1] 0\rlength(nx2) # 1\r#\u0026gt; [1] 1\r ÁîöÈ∫ºÊôÇÂÄôÁî®Âà∞is.nullÊèêÁ§∫\r config \u0026lt;- list()\ris.null(config) # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÊòØempty(Á©∫ÁöÑ)listÁâ©‰ª∂,‰ΩÜ‰∏çÊòØnull(ËôõÁöÑ)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; [1] FALSE\ris.null(config$name)\r#\u0026gt; [1] TRUE\r Á©∫ÁöÑÂíåËôõÁöÑÊúâÁîöÈ∫ºÂ∑ÆÂà•? ‰∏ÄÂÄãÊòØÂú®Ë®òÊÜ∂È´îÊúâ‰ΩçÁΩÆ,‰∏ÄÂÄãÊòØÊ≤íÊúâ„ÄÇ\r\r\r\rÂ¶Ç‰ΩïÂà§Êñ∑ÊòØÂê¶NA\nx == NA\r#\u0026gt; [1] NA\r ‰∏äÈù¢ÁöÑÊØîËºÉÊ≤íÊúâÊÑèÁæ©,ÂíåNAÁöÑ‰ªª‰ΩïÈÅãÁÆóÈÉΩÊòØNA\nr = x == NA\rr\r#\u0026gt; [1] NA\r ÁµêË´ñ:‰ªª‰ΩïËÆäÊï∏ÂíåNAÈÅãÁÆó,ÁµêÊûúÈÇÑÊòØNA\nÂè¶‰∏ÄÁ®ÆÊñπÊ≥ï\nprint(x == NA)\r#\u0026gt; [1] NA\r Â¶Ç‰ΩïÂà§Êñ∑NA ? is.na()\nis.na(a[6])\r#\u0026gt; [1] TRUE\r \r\rvector Âà©Áî®cÂáΩÊï∏ÔºåÂèØ‰ª•‰ΩøÁî®vectorÂ≠òÊîæ‰∏ÄÂÄã‰ª•‰∏äÁöÑÊï∏Â≠ó„ÄÇ\na = c(1, 2, 3, 4, 5)\ra1 = 1:5\r ÊúâÈóúvectorÁöÑÈÅãÁÆó:Âä†Ê∏õ‰πòÈô§Á≠âÁ≠â\na = c(1, 2, 3, 4, 5)\ra+1\r#\u0026gt; [1] 2 3 4 5 6\ra-1\r#\u0026gt; [1] 0 1 2 3 4\ra/2\r#\u0026gt; [1] 0.5 1.0 1.5 2.0 2.5\ra*3\r#\u0026gt; [1] 3 6 9 12 15\r mean(a)\r#\u0026gt; [1] 3\rvar(a)\r#\u0026gt; [1] 2.5\rsummary(a)\r#\u0026gt; Min. 1st Qu. Median Mean 3rd Qu. Max. #\u0026gt; 1 2 3 3 4 5\r note: Â∞çÊØîstata sum a Êåá‰ª§,summary(a) ËøîÂõûÁöÑÊòØ‰∏ÄÂÄãtableÁâ©‰ª∂„ÄÇÂèØ‰ª•ÊåáÊ¥æÁµ¶ËÆäÊï∏,Âõ†Ê≠§Ë®àÁÆóÁµêÊûúÂèØ‰ª•Á∂ìÁî±ËÆäÊï∏(È°ûÂà•ÁÇ∫table)Â≠òÂèñ„ÄÇ\nlistÁöÑÂÖÉÁ¥†,Âà©Áî®‰∏≠Êã¨Ëôü\na = 2:6\ra[1]\r#\u0026gt; [1] 2\ra[2]\r#\u0026gt; [1] 3\ra[0]\r#\u0026gt; integer(0)\ra[6]\r#\u0026gt; [1] NA\r Âú®R‰∏≠,ÁöÑÊúÄÂ∞èÁöÑÁ¥¢ÂºïÂÄºÁÇ∫1base.Â¶ÇÊûúÁµ¶Á¥¢ÂºïÁÇ∫0,ÂèØ‰ª•Áü•ÈÅìË≥áÊñôÊòØÂê¶Ë¢´ÊéíÂ∫è„ÄÇ Ë∂ÖÂá∫Á¥¢ÂºïÁØÑÂúçÂæóÂà∞\u0026quot;NA„ÄÇ\na=2:6\rx = a[6]\r ÂàùÂßãÂåñÂêëÈáè,ÂèØ‰ª•Âà©Áî®a\u0026lt;-10 ÊàñÊåáÂÆönumeric(double)ÂûãÊÖã\na \u0026lt;- numeric(10) a\r#\u0026gt; [1] 0 0 0 0 0 0 0 0 0 0\r Â¶ÇÊûúÊÉ≥Ë¶ÅÁü•Âà∞ËÆäÊï∏ÁöÑË≥áÊñôÂûãÂà•,Âà©Áî®ÂáΩÊï∏typeof()\ntypeof()ÂáΩÊï∏ÂõûÂÇ≥ÁöÑÁµêÊûúÊòØ\u0026quot;Â≠ó‰∏≤\u0026quot;\ntypeof(a) # ÁµêÊûúÊòØ\u0026quot;double\u0026quot;\r#\u0026gt; [1] \u0026quot;double\u0026quot;\rs = typeof(a)\rs\r#\u0026gt; [1] \u0026quot;double\u0026quot;\rtypeof(s) #ÁµêÊûúÊòØ \u0026quot;character\u0026quot;\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r Â≠ó‰∏≤  ÂèÉËÄÉ\n Âª∫Á´ãÂ≠ó‰∏≤ ÂèØ‰ª•ÊòØ ÈõôÂºïËôü‰∏≠\u0026quot; Êàñ ÂñÆÂºïËôü‰∏≠'„ÄÇ Â≠ó‰∏≤‰∏≠Â¶ÇÊûúÊúâÈõôÂºïËôü,ÊàñÂñÆÂºïËôüÔºåÂâáÂ¶Ç‰∏ãË°®Á§∫:\n\u0026quot;'ÈÄôÂÄã'‰æÜËá™'ÈÇ£ÂÄã'\u0026quot;\na \u0026lt;- \u0026quot;hello\u0026quot;\ra\r#\u0026gt; [1] \u0026quot;hello\u0026quot;\rtypeof(a) #[1] \u0026quot;character\u0026quot; #\u0026gt; [1] \u0026quot;character\u0026quot;\ris.vector(a) #[1] TRUE\r#\u0026gt; [1] TRUE\r Âà©Áî®ÂáΩÊï∏:character() ÈÄôÂÄãÂáΩÊï∏ÁöÑÂèÉÊï∏ÁÇ∫Êï¥Êï∏,Âª∫Á´ã‰∏ÄÂÄãvector(‰∏çÊòØlist),Ë£°Èù¢ÁöÑÂÖÉÁ¥†ÈÉΩÊòØÁ©∫Â≠ó‰∏≤,‰æãÂ¶Çcharacter(5)„ÄÇ\n# ËÆäÊï∏exÂàùÂßãÂåñÁÇ∫character vector,ÂèÉÁúãÂæåÈù¢ÁöÑË®éË´ñ\r(ex \u0026lt;- character(0))\r#\u0026gt; character(0)\ris.null(ex) #üè∑‰∏çÊòØnull,ÈÄôÊòØ‰∏ÄÂÄãÊåáÊ®ô\r#\u0026gt; [1] FALSE\rlength(ex)\r#\u0026gt; [1] 0\rclass(ex)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r# Â¶ÇÊûúÂâõÂâõÊ≤íÊúâË®≠ÂÆöex \u0026lt;- character(0),ÈÄôË£°ÊúÉÁôºÁîüÈåØË™§\r(ex[1] \u0026lt;- \u0026quot;first\u0026quot;)\r#\u0026gt; [1] \u0026quot;first\u0026quot;\r# check its length again\rlength(ex)\r#\u0026gt; [1] 1\r(ex[4] \u0026lt;- \u0026quot;fourth\u0026quot;) # üè∑Á¥¢ÂºïÂèØ‰ª•Áî®Ë∑≥ÁöÑ:\r#\u0026gt; [1] \u0026quot;fourth\u0026quot;\rlength(ex)\r#\u0026gt; [1] 4\rtypeof(ex)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\rex\r#\u0026gt; [1] \u0026quot;first\u0026quot; NA NA \u0026quot;fourth\u0026quot;\r Ë∑≥ÈÅéÁöÑÁ¥¢Âºï,ÂÖßÂÆπËá™ÂãïÁÇ∫NA.\nÁ©∫Â≠ó‰∏≤ ÂºïËôüÂÖßÈÄ£Á©∫ÁôΩÈÉΩÊ≤íÊúâÁöÑÂ≠ó‰∏≤: (ÊØîËºÉ‰∏äÈù¢Âà©Áî®character(5)ÂèØ‰ª•Âª∫Á´ã5ÂÄãÂÖÉÁ¥†ÁÇ∫Á©∫Â≠ó‰∏≤ÁöÑvector„ÄÇ)\n# empty string\rempty_str \u0026lt;- \u0026quot;\u0026quot;\rempty_str\r#\u0026gt; [1] \u0026quot;\u0026quot;\r# class\rclass(empty_str)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r Êé¢Ë®écharacter(0) ÂâçÈù¢Ë™™character(2),ÂèØ‰ª•ÂÇ≥ÂõûÈï∑Â∫¶2,ÊØèÂÄãÂÖÉÁ¥†ÈÉΩÊòØÁ©∫ÁôΩÂ≠ó‰∏≤\u0026quot;\u0026quot;ÁöÑÂêëÈáè,ÈÇ£È∫ºcharacter(0)ÊòØÁîöÈ∫º? Èô§‰∫ÜÂâçÈù¢ÊèêÂà∞ÁöÑËÆäÊï∏ÂàùÂßãÂåñÁÇ∫ÂêëÈáè(‰πüË®±ÂèØ‰ª•Ë™™ÊòØÂêëÈáèÂÆ£Âëä) ‰æãÂ¶Ç,Êï¥Êï∏‰πüÊòØÈÄôÊ®£\nzz\u0026lt;-integer(0)\rzz[4]=6\rzz\r#\u0026gt; [1] NA NA NA 6\r ÈÄôË£°Âà©Áî®ÂàÜÂà•‰ΩøÁî®typeof, str,class,isÂ∞çcharacter(0)ÂÅö‰∏Ä‰∫õÊ∏¨Ë©¶:\nex1\u0026lt;-character(0) ex2\u0026lt;-\u0026quot;\u0026quot;\rtypeof(ex1) # üè∑ÈÉΩÊòØÂêëÈáè\r#\u0026gt; [1] \u0026quot;character\u0026quot;\rtypeof(ex2)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r ÂáΩÊï∏str()Áî®‰æÜÈ°ØÁ§∫RÁâ©‰ª∂ÁöÑÁµêÊßã:\nstr(ex1) #\u0026gt; chr(0)\rstr(ex2) #üè∑ÂâçÈù¢ÁúãËµ∑‰æÜÈÉΩÊòØÂêëÈáè,‰ΩÜÊòØÈÄôË£°ÊúâÊõ¥Â§öË≥áË®ä chr(0),\u0026quot;\u0026quot;\r#\u0026gt; chr \u0026quot;\u0026quot;\r class(ex1)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\rclass(ex2)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r is.list(ex1)\r#\u0026gt; [1] FALSE\ris.list(ex2)\r#\u0026gt; [1] FALSE\r üëπ 0ÊàñÔºëÂÄãÂ≠óÂÖÉ‰πüÊòØÂêëÈáè„ÄÇ\nis.vector(ex1)„ÄÄ#T\r#\u0026gt; [1] TRUE\ris.vector(ex2) #T\r#\u0026gt; [1] TRUE\r length(ex1)\r#\u0026gt; [1] 0\rlength(ex2)\r#\u0026gt; [1] 1\r is.null(ex1) #F\r#\u0026gt; [1] FALSE\ris.null(ex2) #F\r#\u0026gt; [1] FALSE\ris.na(ex1) #\u0026gt; üè∑logical(0) Ë™™ÈÄôÊòØÈÇèËºØÂêëÈáè,‰ΩÜÊòØÈï∑Â∫¶0\r#\u0026gt; logical(0)\ris.na(ex2) #\u0026gt; FALSE\r#\u0026gt; [1] FALSE\r ÊúÄÂæå,ÈÄôÂÖ©ÂÄãÊòØ‰∏çÊòØÁõ∏Á≠â\nex1==ex2\r#\u0026gt; logical(0)\r Â≠ó‰∏≤Âíåvector  vector ‰∏ÄËà¨ÊåáÁöÑÊòØÂè™ÊîæÂÖÉÁ¥†ÁÇ∫Êï∏Â≠óÁöÑÈô£Âàó(array)ÔºåÂú®EXCEL‰∏≠Âà©Áî®Èô£ÂàóË°®Á§∫vector;ËÄåÈô£ÂàóÊòØÂèØ‰ª•Â≠òÊï∏Â≠óÂíåÊñáÂ≠óÁöÑÂçÄÂüü„ÄÇ(EXCEL ÁöÑtableÊòØÊúâÊ¨Ñ‰ΩçÁöÑÈô£Âàó)„ÄÇ ‰ΩÜÊòØÂú®RË™ûË®Ä‰∏≠,vector Âè™ÊòØÂÖÉÁ¥†ÂûãÊÖãÁõ∏ÂêåÂç≥ÂèØ(ÂæåËø∞)[#whatisvector]\n a \u0026lt;- \u0026quot;hello\u0026quot;\ra\r#\u0026gt; [1] \u0026quot;hello\u0026quot;\rtypeof(a)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r b \u0026lt;- c(\u0026quot;hello\u0026quot;, \u0026quot;there\u0026quot;)\rb\r#\u0026gt; [1] \u0026quot;hello\u0026quot; \u0026quot;there\u0026quot;\rb[1]\r#\u0026gt; [1] \u0026quot;hello\u0026quot;\rtypeof(b)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r (a = character(5)) # Áî¢Áîü5ÂÄãÁ©∫Â≠ó‰∏≤\r#\u0026gt; [1] \u0026quot;\u0026quot; \u0026quot;\u0026quot; \u0026quot;\u0026quot; \u0026quot;\u0026quot; \u0026quot;\u0026quot;\r(b = letters[1:4]) # Ê≥®ÊÑè,letters‰∏çÊòØÂáΩÊï∏\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; \u0026quot;d\u0026quot;\rletters\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; \u0026quot;d\u0026quot; \u0026quot;e\u0026quot; \u0026quot;f\u0026quot; \u0026quot;g\u0026quot; \u0026quot;h\u0026quot; \u0026quot;i\u0026quot; \u0026quot;j\u0026quot; \u0026quot;k\u0026quot; \u0026quot;l\u0026quot; \u0026quot;m\u0026quot; \u0026quot;n\u0026quot; \u0026quot;o\u0026quot; \u0026quot;p\u0026quot; \u0026quot;q\u0026quot; \u0026quot;r\u0026quot; \u0026quot;s\u0026quot;\r#\u0026gt; [20] \u0026quot;t\u0026quot; \u0026quot;u\u0026quot; \u0026quot;v\u0026quot; \u0026quot;w\u0026quot; \u0026quot;x\u0026quot; \u0026quot;y\u0026quot; \u0026quot;z\u0026quot;\rtypeof(letters)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\rclass(letters)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r ‚õ≥Ë®ªËß£  Âõ†ÁÇ∫cÂáΩÊï∏ÁöÑÈÅãÁÆóÁµêÊûúÁÇ∫vector,Âõ†Ê≠§‰∏ã‰æã‰∏≠,ÂÖ∂ÂÖÉÁ¥†ÈÉΩÊòØÂ≠ó‰∏≤ÔºàÂâçÈù¢Ë¨õÈÅéÂú®Ôº≤‰∏≠ÁöÑvectorÂøÖÈ†àÊòØÂêåÈ°ûÔºâ\n(a\u0026lt;-c(\u0026quot;d\u0026quot;,4,TRUE))\r#\u0026gt; [1] \u0026quot;d\u0026quot; \u0026quot;4\u0026quot; \u0026quot;TRUE\u0026quot;\r ÂïèÈ°å: ÊÄéÊ®£Áü•ÈÅìrÊòØÁ©∫ÈõÜÂêà?\ny \u0026lt;- letters[1:3] z \u0026lt;- letters[4:6] r\u0026lt;-intersect(y,z) r\r#\u0026gt; character(0)\ris.na(r)\r#\u0026gt; logical(0)\rlength(r)\r#\u0026gt; [1] 0\r Âè¶Â§ñ,Áï∂vectorÊúâÂ§öÂÄãÂ≠ó‰∏≤,ËÄå‰ΩøÁî®Á¥¢Âºï0ÁöÑÊôÇÂÄô,‰πüÊúÉÂá∫Áèæ character(0),‰æãÂ¶Ç:\nstring \u0026lt;- c('sun', 'sky', 'clouds')\rstring[0]\r#\u0026gt; character(0)\r Êõ¥Â§övector Áõ∏ÈóúÁöÑÈÅãÁÆó ÈÄ£Á∫åÊï∏Â≠óÂèØ‰ª•Âà©Áî®Êìç‰ΩúÂÖÉ:,‰æãÂ¶Ç:\nx \u0026lt;- 1:7; x\ry \u0026lt;- 2:-2; y\r ÊØîËºÉË§áÈõúÁöÑÂ∫èÂàóÂèØ‰ª•Âà©Áî®ÂáΩÊï∏ seq() ,‰æãÂ¶Ç\nseq(1, 3, by=0.2) # specify step size\r#\u0026gt; [1] 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0\rseq(1, 5, length.out=4) # specify length of the vector\r#\u0026gt; [1] 1.000000 2.333333 3.666667 5.000000\r Á∑¥ÁøíÁØÑ‰æã Q1. a,a1,a2 Â±¨ÊñºÁîöÈ∫ºÂûãÊÖã\na = 1:4\ra1 = c(1, 2, 3, 4)\ra2 = numeric(4)\r ÊèêÁ§∫\r A1: Âè™ÊòØË¶ÅË®ò‰ΩèÂáΩÊï∏typeof\na = 1:4\ra1 = c(1, 2, 3, 4)\ra2 = numeric(4)\rtypeof(a)\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\rtypeof(a1)\r#\u0026gt; [1] \u0026quot;double\u0026quot;\rtypeof(a2)\r#\u0026gt; [1] \u0026quot;double\u0026quot;\r \rQ2:a3ÁöÑÈï∑Â∫¶ÊòØÁîöÈ∫º?2,Êàñ6\na1\u0026lt;-c(1,2,3)\ra2\u0026lt;-c(2,3,4)\ra3\u0026lt;-c(a1,a2)\r ÊèêÁ§∫\r HINT: Âè™ÊòØË¶ÅË®ò‰ΩèÂáΩÊï∏length a1 a2 a3;length(a3)\ra = character(5)\rb\u0026lt;-\u0026quot;12345\u0026quot;\rc\u0026lt;-c(\u0026quot;1\u0026quot;,\u0026quot;2\u0026quot;,\u0026quot;3\u0026quot;,\u0026quot;4\u0026quot;,\u0026quot;5\u0026quot;)\r Âïè\n length(a),length(b),length(c)ÂàÜÂà•ÊòØÂ§öÂ∞ëÔºü nchar(a),nchar(b),nchar(c)?  ÊèêÁ§∫\r ÊèêÁ§∫ length: 5,1,5 nzchar: 0,0,0,0,0, 5,0,0,0,0,0\rÂ¶Ç‰ΩïÂ≠òÂèñvector‰∏≠ÁöÑÂÖÉÁ¥† ÂÖÉÁ¥†Á¥¢ÂºïÂèØ‰ª•Âà©Áî® logical, integer or character vector.\nÂ¶ÇÊûúÂà©Áî®Êï¥Êï∏Á¥¢Âºï,ÂâáÂæû1ÈñãÂßã.‰ΩÜÊòØ,Â¶ÇÊûúÁ¥¢ÂºïÂÄºÁµ¶ÁöÑÊòØË≤†Êï∏(‰æãÂ¶Ç-2),ÂâáÈô§‰∫Ü2ËôüÂÖÉÁ¥†‰ª•Â§ñ,ÈÉΩÊúÉË¢´ÂÇ≥Âõû„ÄÇ‰ΩÜÊòØ‰∏çËÉΩÂêåÊôÇÊúâÊ≠£Ë≤†„ÄÇÂêåÊôÇ,ÊµÆÈªûÊï∏ÊúÉË¢´truncated„ÄÇ\n\u0026gt; x\r[1] 0 2 4 6 8 10\r\u0026gt; x[3] # access 3rd element\r[1] 4\r\u0026gt; x[c(2, 4)] # access 2nd and 4th element\r[1] 2 6\r\u0026gt; x[-1] # access all but 1st element\r[1] 2 4 6 8 10\r\u0026gt; x[c(2, -4)] # ‰∏çËÉΩÊ∑∑ÂêàÊ≠£Ë≤†\rError in x[c(2, -4)] : only 0's may be mixed with negative subscripts\r\u0026gt; x[c(2.4, 3.54)] # real numbers are truncated to integers\r[1] 2 4\r ÁØ©ÈÅ∏ ÁØ©ÈÅ∏Èô£Âàó‰∏≠ÁöÑÂÖÉÁ¥†üè∑üëèÂèØ‰ª•ÊáâÁî®Âú®ÊäΩÊ®£„ÄÇ‰æãÂ¶Ç\n\u0026gt; x[c(TRUE, FALSE, FALSE, TRUE)]\r[1] -3 3\r\u0026gt; x[x \u0026lt; 0] # filtering vectors based on conditions\r[1] -3 -1\r\u0026gt; x[x \u0026gt; 0]\r[1] 3\r ÂØ¶ÈöõÂØ´Á®ãÂºèÁ§∫ÁØÑ ÊàëÊÉ≥Ë¶ÅÂæûÂÖ©ÂÄãÈ†ÖÁõÆÈáçË§áÊäΩÊ®£(Â¶Ç‰∏ã),ÈáçË§áÊäΩ10ÂÄã„ÄÇÊàëÁöÑÊâìÁÆóÊòØÂà©Áî®ÁúüÂÅáÂÄºÈÅéÊøæ,‰æãÂ¶ÇÊàëÁöÑË®≠ÊÉ≥ÊòØÈÄôÊ®£\nkind\u0026lt;-c(\u0026quot;Ê∞¥Â£∫\u0026quot;,\u0026quot;ÈêµÁ∂≤\u0026quot;)\rkind[c(T,F,T,T,F,T,F,T,F,F)]\r üòúÂÖ∂ÂØ¶‰∏äÈù¢ÁöÑÁ®ãÂºèÁ¢ºÊòØmatlabÁöÑÂØ´Ê≥ï,ÊàëÁõ¥Êé•Â•óÂú®R‰∏ä„ÄÇ\nkind\u0026lt;-c(\u0026quot;Ê∞¥Â£∫\u0026quot;,\u0026quot;ÈêµÁ∂≤\u0026quot;)\rx\u0026lt;-rnorm(10)„ÄÄ#10 random number\rkind[x\u0026lt;0.5] # È†êË®àÂ∞èÊñºÔºïÂèØ‰ª•ÊäΩÂá∫‰æÜÔºàÂõ†ÁÇ∫ÊàëË®òÂæóÂèØ‰ª•Âæ™Áí∞Ë£úÔºâ\r#\u0026gt; [1] \u0026quot;ÈêµÁ∂≤\u0026quot; NA NA NA NA NA NA\r ÈÄôÊòØÁîöÈ∫ºÔºüüë∫üòí ÊàëÁü•ÈÅìÔºÆÔº°ÊòØË∂ÖÂá∫ÁØÑÂúçÁöÑÊÑèÊÄùÔºåÂèØÊòØ‰∏çÁü•ÈÅìÁÇ∫ÁîöÈ∫º‰ªñË∂ÖÂá∫ÁØÑÂúç\n#\u0026gt; [1] \u0026quot;ÈêµÁ∂≤\u0026quot; NA NA NA NA NA NA NA\r ÂèØÊòØÊàëË®òÂæóÊï∏Â≠óÂèØ‰ª•Ôºå‰æãÂ¶Ç\nkind\u0026lt;-c(\u0026quot;Ê∞¥Â£∫\u0026quot;,\u0026quot;ÈêµÁ∂≤\u0026quot;)\rx\u0026lt;-c(1,2,1,2,1,1)\rkind[x]  Âü∑Ë°åÁµêÊûú üíØ\n[1] \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;ÈêµÁ∂≤\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;ÈêµÁ∂≤\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot;\r ‚ùì‚ùì‚ùì‚ùì‚ùì ÈÇ£ÊàëË®òÂæóÔºåÁúüÂÅáÂÄºÂèØ‰ª•ËΩâÔºêÔºåÔºëÊàê‰ΩçÊï∏Â≠óÔºåÊâÄ‰ª•\nkind[as.numeric(x\u0026lt;0.5)]\r ÁµêÊûú\n[1] \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot;\r ÁÇ∫ÁîöÈ∫º‚ùìÊèêÁ§∫\r Âõ†ÁÇ∫Ôº≤ÊòØÔºëÁÇ∫Âü∫Â∫ï\nkind[as.numeric(x\u0026lt;0.5)+1]\r#\u0026gt; [1] \u0026quot;ÈêµÁ∂≤\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot; \u0026quot;ÈêµÁ∂≤\u0026quot; \u0026quot;ÈêµÁ∂≤\u0026quot; \u0026quot;ÈêµÁ∂≤\u0026quot; \u0026quot;ÈêµÁ∂≤\u0026quot; \u0026quot;ÈêµÁ∂≤\u0026quot; \u0026quot;ÈêµÁ∂≤\u0026quot; \u0026quot;Ê∞¥Â£∫\u0026quot;\r \rÂà©Áî®Â≠ó‰∏≤( character vector) ‰ΩúÁÇ∫Á¥¢Âºï ÊØèÂÄãÂÖÉÁ¥†ÂèØ‰ª•ÊúâÂêçÁ®±:\n\u0026gt; x \u0026lt;- c(\u0026quot;first\u0026quot;=3, \u0026quot;second\u0026quot;=0, \u0026quot;third\u0026quot;=9)\r\u0026gt; x\r#\u0026gt; first second third #\u0026gt; 3 0 9 \u0026gt; class(x) # Ê≥®ÊÑè:‰∏çÊòØlist #\u0026gt; [1] \u0026quot;numeric\u0026quot;\r\u0026gt; names(x)\r#\u0026gt; [1] \u0026quot;first\u0026quot; \u0026quot;second\u0026quot; \u0026quot;third\u0026quot; \u0026gt; x[\u0026quot;second\u0026quot;]\r#\u0026gt; second #\u0026gt; 0 \u0026gt; x[c(\u0026quot;first\u0026quot;, \u0026quot;third\u0026quot;)]\r#\u0026gt; first third #\u0026gt; 3 9\r a\u0026lt;-c(x=1:2,y=3:4)\ra[\u0026quot;x1\u0026quot;] # ‰∏çÊòØa[x1]\r#\u0026gt; x1 #\u0026gt; 1\r ‚ùì a[\u0026quot;x1\u0026quot;]Âì™Ë£°‰æÜÁöÑx1?ÊèêÁ§∫\r \u0026gt; a\r#\u0026gt; x1 x2 y1 y2 #\u0026gt; 1 2 3 4\r\u0026gt; names(a)\r\u0026gt; # [1] \u0026quot;x1\u0026quot; \u0026quot;x2\u0026quot; \u0026quot;y1\u0026quot; \u0026quot;y2\u0026quot;\r \r[] Âíå[[]]ÁöÑÂ∑ÆÂà•:\nÂéü‰æÜÁöÑtypeÊòØÁîöÈ∫º(‰æãÂ¶Ç,list Êàñvector),[]Âè™ÊòØËøîÂõûÂ≠êÈõÜÂêà(‰ªçÁÑ∂ÊòØlistÊàñvector),‰ΩÜÊòØ[[]]ÂâáÊòØËøîÂõûÂÖßÂÆπ.\n\u0026gt; x \u0026lt;- c(a = 1, b = 2, c = 3)\r\u0026gt; x[\u0026quot;a\u0026quot;]\r#\u0026gt; a #\u0026gt; 1 \u0026gt; x[[\u0026quot;a\u0026quot;]]\r#\u0026gt; [1] 1\r\u0026gt; x[1]\r#\u0026gt; a #\u0026gt; 1 \u0026gt; x[[1]]\r#\u0026gt; [1] 1\r üí°‰æãÂ¶Ç,ÊàëÂè™Ë¶ÅÈô£ÂàóÁöÑÂÄº,Ââáx[[1]]ÂèØ‰ª•Áî®‰æÜÂéªÊéânames„ÄÇ ÂíålistÁöÑÂçÄÂà•ÊòØ\n $ ‰∏çÂøÖÊúâ\u0026quot;\u0026quot;  a1\u0026lt;-list(x=1:2,y=3:4)\ra1$x\r#\u0026gt; [1] 1 2\r \r\rÊÄéÊ®£ËÆäÂãïÁü©Èô£ÂêëÈáè? We can modify a vector using the assignment operator.\nWe can use the techniques discussed above to access specific elements and modify them.\nIf we want to truncate the elements, we can use reassignments.\n\u0026gt; x\r#\u0026gt; [1] -3 -2 -1 0 1 2\r\u0026gt; x[2] \u0026lt;- 0; x # Âè™ÊîπËÆäÁ¨¨‰∫åÂÄãÂÖÉÁ¥†\r#\u0026gt; [1] -3 0 -1 0 1 2\r\u0026gt; x[x\u0026lt;0] \u0026lt;- 5; x # Â∞áÂ∞èÊñº0ÁöÑÂÄº,ÈÉΩÊîπÊàê5\r#\u0026gt; [1] 5 0 5 0 1 2\r\u0026gt; x \u0026lt;- x[1:4]; x # Âè™Ë¶Å1Âà∞4\r#\u0026gt; [1] 5 0 5 0\r How to delete a Vector? We can delete a vector by simply assigning a NULL to it.\n\u0026gt; x\r#\u0026gt; [1] -3 -2 -1 0 1 2\r\u0026gt; x \u0026lt;- NULL\r\u0026gt; x\r#\u0026gt; NULL\r\u0026gt; x[4]\r#\u0026gt; NULL\r Á∑¥Áøí ‚ùìÊÄéÊ®£Áî¢Áîü‰∏ãÈù¢ÁöÑÂêëÈáè?\nx\ra b a b a \u0026lt;NA\u0026gt; 1 2 3 4 5 6  ÊèêÁ§∫\r x\u0026lt;-seq(1,5)\rnames(x)\u0026lt;-rep(c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;),2)\r \rÂûãÊÖãÊìç‰Ωú  Âà§ÂÆöÂûãÊÖã is family  is.numeric(), is.integer(), and is.double()   ÂûãÊÖãËΩâÊèõ as family  a\u0026lt;-c(TRUE,FALSE)\ras.numeric(a)\r#\u0026gt; [1] 1 0\ran\u0026lt;-as.logical(a)\ran\r#\u0026gt; [1] TRUE FALSE\r assignment Á∑¥Áøí\nhw1\nstructure \u0026amp; attributes ÂáΩÊï∏structure(data, ...)\n‰ΩøÁî®ÊñπÊ≥ï ÂÖàÁúã‰∏Ä‰∏ãÁØÑ‰æã\ncode=\u0026quot;ÈÄôÊòØÁØÑ‰æã\u0026quot;\rx=structure(list(src = code), ddd = 'source') x\r#\u0026gt; $src\r#\u0026gt; [1] \u0026quot;ÈÄôÊòØÁØÑ‰æã\u0026quot;\r#\u0026gt; attr(,\u0026quot;ddd\u0026quot;) üè∑ÈÄôÊòØÁ¨¨‰∫åÂÄãÂèÉÊï∏Ê∑ªÈÄ≤‰æÜÁöÑ\r#\u0026gt; [1] \u0026quot;source\u0026quot;\r ÂÜçÁúãÂè¶‰∏ÄÂÄãÁØÑ‰æã\ndata=\u0026quot;ÈÄôÊòØÁØÑ‰æã\u0026quot; üè∑Âè™ÊòØÂ≠ó‰∏≤\rx=structure(data, ddd = 'source') üè∑Ê∑ªÂä†Â±¨ÊÄßddd\rx üè∑ÁúãÂÖßÂÆπ\r#\u0026gt; [1] \u0026quot;ÈÄôÊòØÁØÑ‰æã\u0026quot;\r#\u0026gt; attr(,\u0026quot;ddd\u0026quot;)\r#\u0026gt; [1] \u0026quot;source\u0026quot;\rattributes(data) üè∑ÁúãÁúãÂ±¨ÊÄß\r#\u0026gt; NULL üè∑data‰ªçÁÑ∂ÊòØdata,Ê≤íÊúâÊñ∞Â¢ûÁöÑÂ±¨ÊÄß\rattributes(x) üè∑ÂÇ≥Âõû‰æÜÁöÑ‰∏çÂÉÖÊúâÂéü‰æÜÁöÑdata,ÈÇÑÂ§ö‰∫Ü‰∏ÄÂÄãÂ±¨ÊÄß\r#\u0026gt; $ddd\r#\u0026gt; [1] \u0026quot;source\u0026quot;\r ÁôΩË©±ÊñáÂ∞±ÊòØ ÂÅáË®≠dataÊòØ‰∏ÄÂÄãÁâ©‰ª∂,Ââástructure(data,xxx=\u0026quot;dd\u0026quot;),ÊúÉÊ†πÊìöÈÄôÂÄãÁâ©‰ª∂ÂÜçÊ∑ªÂä†‰∏ÄÂÄãÂ±¨ÊÄßxxx,ÁÑ∂ÂæåÂÇ≥ÂõûÈÄôÂÄãÁâ©‰ª∂„ÄÇ\nÂõ†Ê≠§Ë¶ÅÊ≥®ÊÑèÁöÑÊòØclassÈÄôÂÄãattribute„ÄÇÂú®Ôº≤‰∏≠ÔºåclassÊúâÂè¶‰∏ÄÂÄãÊÑèÊÄùÔºåÁî®‰æÜ‰ª£Ë°®Áâ©‰ª∂È°ûÂà•Ôºà‰æãÂ¶ÇË¶ÅËá™Ë®ÇÈ°ûÂà•ÔºåÂèØ‰ª•Âà©Áî®ÈÄôÂÄãclass)\ndata=\u0026quot;string\u0026quot;\rclass(data)\r#\u0026gt; character üè∑ÈÄôÊòØÂ≠ó‰∏≤\rx=structure(data,class=\u0026quot;risk\u0026quot;) #üè∑üëèÁèæÂú®Áâ©‰ª∂xÁöÑÈ°ûÂà•‰∏çÂÜçÊòØÂ≠ó‰∏≤ÔºåËÄåÊòØÈ°ûÂà•risk\rclass(x)\r#\u0026gt; risk üè∑Ê≠§ÊôÇÁöÑÈ°ûÂà•Ë¢´ËÆäÊõ¥Êàêrisk\r"},
{"uri": "/blogR//rlang/4_1_2_type%E7%B7%B4%E7%BF%92.html","title": "4.1.2 Á∑¥Áøí",
	"tags": [],
	"description": "4_1_1_typeÁ∑¥Áøí",
	"content": "Âú®R‰∏≠,options()Á∂ìÂ∏∏Áî®‰æÜË®≠ÂÆöÁ∏ΩÈ´îËÆäÊï∏,‰æãÂ¶ÇÂ•ó‰ª∂blogdownÂèØ‰ª•Ë®≠ÂÆöoptions(blogdown.method = 'custom')„ÄÇ\nÂ¶ÇÊûúÊÉ≥Ë¶ÅÁü•ÈÅìÁõÆÂâçÁöÑË®≠ÂÆöÊÉÖÊ≥Å,ÂèØ‰ª•‰∏ãÊåá‰ª§options()Ôºå‰æãÂ¶Ç\noptions() # üè∑Ë®ªËß£ÈÄôÊòØÂú®Ë¶ñÁ™ó‰∏ãÂü∑Ë°åÁöÑÁµêÊûú\r \r`options()`ÁöÑÂü∑Ë°åÁµêÊûú\r$add.smooth\r[1] TRUE\r$blogdown.author\r[1] \u0026quot;\u0026quot;\r$blogdown.ext\r[1] \u0026quot;.md\u0026quot;\r$blogdown.filename.pre_processor\r[1] NA\r$blogdown.files_filter\r[1] NA\r$blogdown.generator\r[1] NA\r$blogdown.hugo.args\r[1] NA\r$blogdown.hugo.dir\r[1] NA\r$blogdown.hugo.server\r[1] NA\r$blogdown.hugo.version\r[1] \u0026quot;0.84.4\u0026quot;\r$blogdown.initial_files\r[1] NA\r$blogdown.knit.on_save\r[1] TRUE\r$blogdown.knit.serve_site\r[1] NA\r(...ÁúÅÁï•...)\r$warning.length\r[1] 1000\r$width\r[1] 80\r$windowsTimeouts\r[1] 100 500\r  Â¶Ç‰∏äÂèØ‰ª•Áü•ÈÅìÊúâ‰∏ÄÂ§ß‰∏≤ÂàóË°®,Â¶ÇÊûúÊàëÂè™ÊÉ≥Áü•ÈÅìÂ•ó‰ª∂blogdownÁöÑË®≠ÂÆöÂàóË°®ÔºåË¶ÅÊÄéÊ®£ÂÅö? ‰πüÂ∞±ÊòØÊÄéÊ®£ÁØ©ÈÅ∏Âá∫ÊàëË¶ÅÁöÑË®≠ÂÆö?\n Ëß£Ê≥ï1:Âà©Áî®grep(),grepl() Ëß£Ê≥ï2:sapply , ‰πüÊòØÁî®Âà∞grep() ‰∏çËÉΩÁî® %in%  ÂèØ‰ª•ÂèÉËÄÉÈÄôË£°\nÊèêÁ§∫\r  Ëß£Ê≥ï1  olist\u0026lt;-options() # list\rokey\u0026lt;-names(olist) # vector # \u0026quot;blogdown\u0026quot; %in% okey\ridx\u0026lt;-grep(\u0026quot;blogdown\u0026quot;,okey)\rolist[idx]\r #\u0026gt; $blogdown.method\r#\u0026gt; [1] \u0026quot;markdown\u0026quot;\r#\u0026gt; #\u0026gt; $blogdown.serve_site.startup\r#\u0026gt; [1] FALSE\r  Ëß£Ê≥ï2:Áúã‰∏Ä‰∏ãÁÇ∫ÁîöÈ∫º‰∏çËÉΩÁî® %in%  olist\u0026lt;-options() # list\rokey\u0026lt;-names(olist) # vector rst \u0026lt;- sapply(okey,function(item){\u0026quot;blogdown\u0026quot; %in% unlist(strsplit(item,\u0026quot;\\\\.\u0026quot;)) })\rolist[rst]\r #\u0026gt; $blogdown.method\r#\u0026gt; [1] \u0026quot;markdown\u0026quot;\r#\u0026gt; #\u0026gt; $blogdown.serve_site.startup\r#\u0026gt; [1] FALSE\r  Ëß£ÈáãÈÄôË°å: rst \u0026lt;- sapply(okey,function(item){\u0026quot;blogdown\u0026quot; %in% unlist(strsplit(item,\u0026quot;\\\\.\u0026quot;)) })\n  \\\\.ËÄå‰∏çÊòØÂè™Êúâ. strsplit()Âü∑Ë°åÁöÑÁµêÊûúÊòØ‰∏ÄÂÄãlistËÄåÂàÜÈõ¢ÁöÑÂÖÉÁ¥†Âú®Á¨¨‰∏ÄÂÄãnodeÊâÄ‰ª•,Áî®unlist %in%ÁöÑÁî®Ê≥ï  v=c(\u0026quot;1.2\u0026quot;,\u0026quot;1.3\u0026quot;)\r\u0026quot;1\u0026quot; %in% v\r #\u0026gt; [1] FALSE\r \r‚õ≥Ë®ªËß£ ‚ùìÂú®‰∏ªÊéßÂè∞‰∏äÁöÑÊØîËºÉÂ§ö,‰ΩÜÊòØÂú®rmarkdown chunkÂè™ÊúâÁúãÂà∞ÂπæÂÄã,Âõ†ÁÇ∫Âú®rmarkdown‰∏≠Ê≤íÊúâËºâÂÖ•blogdownÂ•ó‰ª∂„ÄÇ\nÁ∑¥Áøí:ÊâæÂá∫ÁõÆÂâçÁöÑË™ûÁ≥ª Âà©Áî®l10n_info() ÊâæÂá∫ÁõÆÂâçÁöÑË™ûÁ≥ª,ËÄå‰∏çÊòØ‰∏ÄÈÄ£‰∏≤ÁúüÂÅáÂÄº„ÄÇÊèêÁ§∫\r l10n_info()[2:3][(l10n_info()[2:3])==TRUE]\r \r"},
{"uri": "/blogR//rlang/4_3_type_matrix.html","title": "4.3 Áü©Èô£",
	"tags": [],
	"description": "Âü∫Êú¨Ë™ûÊ≥ï",
	"content": "matrix Áü©Èô£ÁöÑÂª∫Á´ãÊúâÂ§öÁ®ÆÊñπÂºè,ÂÖ∂‰∏≠‰∏ÄÁ®ÆÊòØÂà©Áî®ÂêëÈáèÂ°´ÂÖÖÁü©Èô£ÔºåÂ°´ÂÖ•ÁöÑÊñπÂºèÈ†êË®≠ÊòØ‰ª•coumnÁÇ∫‰∏ªË¶ÅÊñπÂêë„ÄÇ\nmatrix(c(1,2,3,4,5,6),2,3)\r #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 1 3 5\r#\u0026gt; [2,] 2 4 6\r ÂïèÈ°å: ÊÄéÊ®£Áî¢Áîü\n$$ \\begin{bmatrix}1 \u0026amp; 2 \u0026amp; 3 \\\\ 4 \u0026amp; 5 \u0026amp; 6\\end{bmatrix} $$ ÁöÑÁü©Èô£ÊèêÁ§∫\r \rÂÖ∂‰ªñÁ∑¥Áøí\nmatrix(c(1, 2, 3, 4, 5, 6, 7, 8, 9), nrow = 3, byrow = TRUE, dimnames = list(c(\u0026quot;r1\u0026quot;, \u0026quot;r2\u0026quot;, \u0026quot;r3\u0026quot;), c(\u0026quot;c1\u0026quot;, \u0026quot;c2\u0026quot;, \u0026quot;c3\u0026quot;)))\r #\u0026gt; c1 c2 c3\r#\u0026gt; r1 1 2 3\r#\u0026gt; r2 4 5 6\r#\u0026gt; r3 7 8 9\r Áü©Èô£ÁöÑÁõ¥Ë°åÂêçÁ®±ÂíåÊ©´Ë°åÂêçÁ®±\nm1 \u0026lt;- matrix(c(1, 2, 3, 4, 5, 6, 7, 8, 9), ncol = 3)\rrownames(m1) \u0026lt;- c(\u0026quot;r1\u0026quot;, \u0026quot;r2\u0026quot;, \u0026quot;r3\u0026quot;)\rcolnames(m1) \u0026lt;- c(\u0026quot;c1\u0026quot;, \u0026quot;c2\u0026quot;, \u0026quot;c3\u0026quot;)\rm1\r #\u0026gt; c1 c2 c3\r#\u0026gt; r1 1 4 7\r#\u0026gt; r2 2 5 8\r#\u0026gt; r3 3 6 9\r Âêà‰ΩµÁü©Èô£ Âà©Áî®ÂáΩÊï∏cbind() ÂèØ‰ª•Âêà‰ΩµÂêåÊ®£Ê©´Ë°åÊï∏ÁõÆÁöÑÂÖ©ÂÄãÁü©Èô£,‰æãÂ¶ÇÈÄôË£°C‰πüÊòØ3ÂÄãÊ©´Ë°å:\nB = matrix( c(2, 4, 3, 1, 5, 7), nrow=3, ncol=2) B # üè∑üëèË¶ÅÂêà‰ΩµÁöÑÁü©Èô£\r #\u0026gt; [,1] [,2]\r#\u0026gt; [1,] 2 1\r#\u0026gt; [2,] 4 5\r#\u0026gt; [3,] 3 7\r C = matrix( c(7, 4, 2), nrow=3, ncol=1) C # üè∑üëèË¶ÅÂêà‰ΩµÁöÑÁü©Èô£\r #\u0026gt; [,1]\r#\u0026gt; [1,] 7\r#\u0026gt; [2,] 4\r#\u0026gt; [3,] 2\r # CÂíåBÂêà‰Ωµ\rcbind(B, C)  #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 2 1 7\r#\u0026gt; [2,] 4 5 4\r#\u0026gt; [3,] 3 7 2\r ÂêåÊ®£ÁöÑ,rbind() ‰πüÂèØ‰ª•Âêà‰ΩµÁõ¥Ë°åÊï∏ÁõÆÁõ∏ÂêåÁöÑÂÖ©ÂÄãÁü©Èô£:\nD = matrix( c(6, 2), nrow=1, ncol=2) D\r #\u0026gt; [,1] [,2]\r#\u0026gt; [1,] 6 2\r rbind(B, D)  #\u0026gt; [,1] [,2]\r#\u0026gt; [1,] 2 1\r#\u0026gt; [2,] 4 5\r#\u0026gt; [3,] 3 7\r#\u0026gt; [4,] 6 2\r Âêà‰ΩµÊñπÂêëÁöÑÁ∂≠Â∫¶Ë¶Å‰∏ÄÊ®£„ÄÇÊÄéÊ®£Áü•ÈÅìÁ∂≠Â∫¶?\ndim(B) # üè∑üëè‰∏ÄÊ¨°Ë¶ÅÁü•ÈÅìÂ§öÂÄãÁü©Èô£ÁöÑÁ∂≠Â∫¶,ÂèØ‰ª•ÊáâÁî®lapply„ÄÇ ‰æãÂ¶Ç,lapply(list(B,C),dim)  #\u0026gt; [1] 3 2\r üòí dim(c(1,2,3)) ÁµêÊûúÊòØNULL , vector ÁöÑÁ∂≠Â∫¶ÁÑ°Ê≥ïÁ∂ìÁî±ÂáΩÊï∏dimÂèñÂæóü§∑‚Äç‚ôÄÔ∏è„ÄÇ\nÂ∞áÁü©Èô£Ëß£ÊßãÂõûÂêëÈáè:\n  ÊñπÊ≥ï1:ÂèØ‰ª•Âà©Áî®c() ÊúÉÊääÁü©Èô£ÊâÄÊúâÁöÑÁõ¥Ë°åÈÉΩÂêà‰ΩµÊàê‰∏ÄÂÄãÁõ¥Ë°å.\nc(B)  #\u0026gt; [1] 2 4 3 1 5 7\r c(B,C)\r #\u0026gt; [1] 2 4 3 1 5 7 7 4 2\r   as.vector()\nas.vector(B)\r #\u0026gt; [1] 2 4 3 1 5 7\r   Â¶ÇÊûúÊàëË¶ÅÁöÑÊòØÊ©´Ë°å?ÊèêÁ§∫\r \rÂñÆ‰ΩçÁü©Èô£ \\(5\\times5\\)ÁöÑÂñÆ‰ΩçÁü©Èô£\ndiag(1, nrow = 5)\r #\u0026gt; [,1] [,2] [,3] [,4] [,5]\r#\u0026gt; [1,] 1 0 0 0 0\r#\u0026gt; [2,] 0 1 0 0 0\r#\u0026gt; [3,] 0 0 1 0 0\r#\u0026gt; [4,] 0 0 0 1 0\r#\u0026gt; [5,] 0 0 0 0 1\r Transpose t(B)\r #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 2 4 3\r#\u0026gt; [2,] 1 5 7\r ÈÄÜÁü©Èô£   solve() Âõ†ÁÇ∫ $$ AA^{-1}=I\na1 \u0026lt;- c(3, 2, 8)\ra2 \u0026lt;- c(6, 3, 2)\ra3 \u0026lt;- c(5, 2, 4)\rA \u0026lt;- rbind(a1, a2, a3)\rAinv\u0026lt;-solve(A,diag(3)) #üè∑üëèÂèØ‰ª•ÁúÅÁï•Á¨¨‰∫åÂÄãÂèÉÊï∏\rii\u0026lt;-A %*% Ainv\rprint(ii)\r #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; a1 1.000000e+00 0.000000e+00 -1.110223e-16\r#\u0026gt; a2 8.326673e-17 1.000000e+00 -1.387779e-16\r#\u0026gt; a3 1.665335e-16 -2.220446e-16 1.000000e+00\r   inv() det() üòíüè∑üëèlibrary(matlab)\nprint(det(A)) #üè∑üëèdet!=0 ÊâÄ‰ª•ÊúâÈÄÜÁü©Èô£\r #\u0026gt; [1] -28\r print(solve(A))\r #\u0026gt; a1 a2 a3\r#\u0026gt; [1,] -0.2857143 -0.2857143 0.7142857\r#\u0026gt; [2,] 0.5000000 1.0000000 -1.5000000\r#\u0026gt; [3,] 0.1071429 -0.1428571 0.1071429\r   ÊàëÊÉ≥Ë¶ÅÁü•ÈÅì‰∏äÈù¢ÁöÑiiÂà∞Â∫ïÊòØ‰∏çÊòØÂñÆ‰ΩçÁü©Èô£,ËÄåÊàëÁü•ÈÅìÂØ¶Êï∏ÁöÑÊØîÂ∞çÂèØ‰ª•Áî®all.equal()\nall.equal(ii,diag(3))  ‰ΩÜÊòØÂá∫ÁèæÈÄôÂÄãË®äÊÅØ #\u0026gt; [1] \u0026quot;Attributes: \u0026lt; Length mismatch: comparison on first 1 components \u0026gt;\u0026quot;\nÊèêÁ§∫\r all.equal(unname(ii),diag(3))\r #\u0026gt; [1] TRUE\r \rÁ∑¥Áøí:Ëß£ÊñπÁ®ã $$ \\mathbf{A x} = \\mathbf{b} \\Rightarrow \\mathbf{A}^{-1} \\mathbf{A x} = \\mathbf{A}^{-1} \\mathbf{b} \\Rightarrow \\mathbf{x} = \\mathbf{A}^{-1} \\mathbf{b} $$\n$$ \\begin{bmatrix}14 \u0026amp; 32 \\\\ 32 \u0026amp; 77 \\end{bmatrix}X = \\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix} $$\nÊèêÁ§∫\r m2\u0026lt;-cbind(c(14,32),c(32,77))\rb\u0026lt;-c(1,1)\rsolve(m2,b)\r #\u0026gt; [1] 0.8333333 -0.3333333\r \rÂ∏∏Êï∏È†ÖÁü©Èô£ÁöÑÈÄÜ: inv( kA ) = (1/k) * inv(A)\nif(!require(\u0026quot;matlib\u0026quot;)){\rinstall.packages(\u0026quot;matlab\u0026quot;,repos = \u0026quot;http://cran.us.r-project.org\u0026quot;)\r}\r #\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºömatlib\r library(matlib)\rA \u0026lt;- matrix( c(5, 1, 0,\r3,-1, 2,\r4, 0,-1), nrow=3, byrow=TRUE)\rsolve(5 * A)\r #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 0.0125 0.0125 0.025\r#\u0026gt; [2,] 0.1375 -0.0625 -0.125\r#\u0026gt; [3,] 0.0500 0.0500 -0.100\r (1/5) * solve(A)\r #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 0.0125 0.0125 0.025\r#\u0026gt; [2,] 0.1375 -0.0625 -0.125\r#\u0026gt; [3,] 0.0500 0.0500 -0.100\r inverse of diagonal matrix = diag( 1/ diagonal) Âõ†ÁÇ∫ÊòØÂàÜÊï∏, ÊâÄ‰ª•ÂèØ‰ª•ËÄÉÊÖÆ‰ΩøÁî® MASS::fractions().\nD \u0026lt;- diag(c(1, 2, 4))\rsolve(D)\r #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 1 0.0 0.00\r#\u0026gt; [2,] 0 0.5 0.00\r#\u0026gt; [3,] 0 0.0 0.25\r MASS::fractions( diag(1 / c(1, 2, 4)) )\r #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 1 0 0 #\u0026gt; [2,] 0 1/2 0 #\u0026gt; [3,] 0 0 1/4\r inv(A) is symmetric if and only if A is symmetric\ninv( t(A) )  #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 0.0625 0.6875 0.25\r#\u0026gt; [2,] 0.0625 -0.3125 0.25\r#\u0026gt; [3,] 0.1250 -0.6250 -0.50\r is_symmetric_matrix(A)\r #\u0026gt; [1] FALSE\r is_symmetric_matrix( inv( t(A) ) )\r #\u0026gt; [1] FALSE\r Here is a symmetric case:\nB \u0026lt;- matrix( c(4, 2, 2,\r2, 3, 1,\r2, 1, 3), nrow=3, byrow=TRUE)\rinv(B)\r #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 0.50 -0.25 -0.25\r#\u0026gt; [2,] -0.25 0.50 0.00\r#\u0026gt; [3,] -0.25 0.00 0.50\r inv( t(B) )\r #\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 0.50 -0.25 -0.25\r#\u0026gt; [2,] -0.25 0.50 0.00\r#\u0026gt; [3,] -0.25 0.00 0.50\r is_symmetric_matrix(B)\r #\u0026gt; [1] TRUE\r is_symmetric_matrix( inv( t(B) ) )\r #\u0026gt; [1] TRUE\r all.equal( inv(B), inv( t(B) ) )  #\u0026gt; [1] TRUE\r Á∑¥Áøí   Âà©Áî®‰∏äÈù¢ÁöÑm1 ÂõûÁ≠î‰∏ãÈù¢ÁöÑÂïèÈ°å:\nm1[1, 2]\rm1[1:2, 2:3]\rm1[1,]\rm1[,2]\rm1[1:2,]\rm1[, 2:3]\rm1[-1,]\rm1[,-2]\rm1[c(\u0026quot;r1\u0026quot;, \u0026quot;r3\u0026quot;), c(\u0026quot;c1\u0026quot;, \u0026quot;c3\u0026quot;)]\rm1[1]\rm1[9]\rm1[3:7]\rm1 \u0026gt; 3\rm1[m1 \u0026gt; 3]\rm1 + m1\rm1 - 2*m1\rm1 * m1\rm1 / m1\rm1 ^ 2\rm1 %*% m1\rt(m1)\r   Âà©Áî®A,B,CË≠âÊòé: inverse of a matrix product: üè∑üëèÊ≥®ÊÑèÁ≠âËôüÂæåÈù¢ÁöÑÈ†ÜÂ∫è $$ (ABC)^{-1} = C^{-1} \\times B^{-1} \\times A^{-1} $$ ABCÂ¶Ç‰∏ã:\nA \u0026lt;- matrix( c(5, 1, 0,\r3,-1, 2,\r4, 0,-1), nrow=3, byrow=TRUE)\rB \u0026lt;- matrix(c(1, 2, 3, 1, 3, 2, 2, 4, 1), nrow=3, byrow=TRUE)\rC \u0026lt;- B[, 3:1]\r  "},
{"uri": "/blogR//rlang/4_4_type_list.html","title": "4.4 ‰∏≤Âàó list",
	"tags": [],
	"description": "Âü∫Êú¨Ë™ûÊ≥ï",
	"content": "List Lists ÊòØ‰∏ÄÂÄãRÁâ©‰ª∂„ÄÇÂÖ∂ÂÖÉÁ¥†ÂÖßÂÆπÂèØ‰ª•ÊòØ‰∏çÂêåÂûãÊÖã,‰æãÂ¶Ç numbers, strings, vectors,matrix ÊàñËÄÖÊòØÂè¶‰∏ÄÂÄã listÔºåÁîöËá≥ÊòØÂáΩÊï∏„ÄÇ\nÂª∫Á´ã List ÂáΩÊï∏list() ÂèØ‰ª•Âª∫Á´ãlist. list()‰∏≠ÁöÑÂèÉÊï∏Áî®ÈÄóÈªûÈöîÈñã,ÂπæÂÄãÂèÉÊï∏Â∞±ÂπæÂÄãNode„ÄÇ\n#Âª∫Á´ã‰∏≤Âàó,ÂÖ∂‰∏≠ÁöÑÂÖÉÁ¥†ÊúâÂêëÈáè,Áü©Èô£,Âíå‰∏ÄÂÄã‰∏≤Âàó\rlist_data \u0026lt;- list(c(\u0026quot;Jan\u0026quot;,\u0026quot;Feb\u0026quot;,\u0026quot;Mar\u0026quot;), #üè∑üëèvector\rmatrix(c(3,9,5,1,-2,8), nrow = 2), #üè∑üëèmatrix\rlist(\u0026quot;green\u0026quot;,12.3)) #üè∑üëèlist\r Áµ¶‰∏≤Âàó‰∏≠ÁöÑÊØèÂÄãÂÖÉÁ¥†ÂëΩÂêç list‰∏≠ÁöÑÂÖÉÁ¥†ÂèØ‰ª•ÂëΩÂêç,ÁÑ∂ÂæåÁ∂ìÁî±ÂêçÁ®±Â≠òÂèñ„ÄÇ‰πüÂèØ‰ª•Ë™™ÊòØÁµ¶ÊØèÂÄãÂÖÉÁ¥†ËÆäÊï∏ÂêçÁ®±„ÄÇ\n#Âª∫Á´ã‰∏≤Âàó,ÂÖ∂‰∏≠ÁöÑÂÖÉÁ¥†ÊúâÂêëÈáè,Áü©Èô£,Âíå‰∏ÄÂÄã‰∏≤Âàó\rlist_data \u0026lt;- list(c(\u0026quot;Jan\u0026quot;,\u0026quot;Feb\u0026quot;,\u0026quot;Mar\u0026quot;), matrix(c(3,9,5,1,-2,8), nrow = 2),\rlist(\u0026quot;green\u0026quot;,12.3))\r# Áµ¶ÊØèÂÄãNODEÂëΩÂêç\rnames(list_data) \u0026lt;- c(\u0026quot;1st Quarter\u0026quot;, \u0026quot;A_Matrix\u0026quot;, \u0026quot;A Inner list\u0026quot;) #üè∑üëèÁ¨¨1ÂÄãÂíåÁ¨¨3ÂÄãÈÉΩÊòØ‰∏çÂêàÊ≥ïÁöÑËÆäÊï∏ÂêçÁ®±\r#Show the list.\rprint(list_data)\r#\u0026gt; $`1st Quarter` üè∑üëèÊ≥®ÊÑèÂèçÈ†ìËôü,Áî®‰æÜÊ®ôÁ§∫‰∏çÂêàÊ≥ïÁöÑËÆäÊï∏ÂêçÁ®±\r#\u0026gt; [1] \u0026quot;Jan\u0026quot; \u0026quot;Feb\u0026quot; \u0026quot;Mar\u0026quot;\r#\u0026gt; #\u0026gt; $A_Matrix üè∑üëèÁ¨¨2ÂÄãÂÖÉÁ¥†\r#\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 3 5 -2\r#\u0026gt; [2,] 9 1 8\r#\u0026gt; #\u0026gt; $`A Inner list` üè∑üëèÁ¨¨3ÂÄãÂÖÉÁ¥†\r#\u0026gt; $`A Inner list`[[1]] üè∑üëèÂõ†ÁÇ∫Á¨¨3ÂÄãÂÖÉÁ¥†ÊòØlist,ËÄåÂèàÊ≤íÊúâÂêçÁ®±,Âõ†Ê≠§Á∑®Ëôü1,Ê≥®ÊÑè[[]]\r#\u0026gt; [1] \u0026quot;green\u0026quot;\r#\u0026gt; #\u0026gt; $`A Inner list`[[2]]\r#\u0026gt; [1] 12.3\r listÂèØ‰ª•Â∏∂ÊúâËÆäÊï∏ÂêçÁ®±,vecotr‰πüÂèØ‰ª•„ÄÇ\nx=c(1,2,3)\rnames(x)\u0026lt;-c('a','b','c')\rx\r#\u0026gt; a b c #\u0026gt; 1 2 3\r \r‰∏äÈù¢\rÈÄôË£°Ë®éË´ñ‰∏Ä‰∏ãÁÇ∫ÁîöÈ∫ºÂú®RË™ûË®ÄÂ†ÖÊåÅ\u0026lt;-ËÄå‰∏çÊòØ=ÁöÑ‰∏ÄÂÄãÂéüÂõ†\n‰∏ÄËà¨ÁöÑÁ®ãÂºèË™ûË®Ä,‰∏çÊúÉÁî®Âà∞ÈÄôÁ®ÆÊñáÊ≥ï,‰æãÂ¶Ç,Âú®ÂÖ∂‰ªñÁ®ãÂºèË™ûË®Ä‰∏≠,Áõ¥Ë¶∫‰∏äÊáâË©≤ÊòØÊúâ‰∏ÄÂÄãnames(),ÁÑ∂ÂæåÁî®Ê≥ïÂ¶Ç‰∏ã:\nnames(x,c('a','b','c') )\r üëπÂõ†Ê≠§\u0026lt;-‰∏çÈ°û‰ººÊåáÊ¥æ,ËÄåÊòØÈ°û‰ººÊµÅÂêëÊüêÂÄãÁâ©‰ª∂ÁöÑÂ±¨ÊÄß„ÄÇ\n names()ÁöÑÂèÉÊï∏Â¶ÇÊûúÊòØmatrix,Ë¢´ÂëΩÂêçÁöÑÂ∞±ÊòØÊ¨Ñ‰Ωç(Áõ¥Ë°å)ÊàñÊòØÁ¥ÄÈåÑ(Ê©´Ë°å)?Á≠îÊ°àÊòØ‰ª•‰∏äÁöÜÈùû .ËÄåÊòØÁµ¶ÊØèÂÄãÂÖÉÁ¥†ÂëΩÂêç„ÄÇ\nx\u0026lt;-matrix(runif(9),nrow=3)\rnames(x)\u0026lt;-c('a','b','c')\rx\r#\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 0.8423611 0.7368527 0.5311652\r#\u0026gt; [2,] 0.4859875 0.1940226 0.3470990\r#\u0026gt; [3,] 0.7309780 0.1639670 0.5677050\r#\u0026gt; attr(,\u0026quot;names\u0026quot;)\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; NA NA NA NA NA NA\r names \u0026amp; matrix\r\r\rrownames(x)\u0026lt;-c('x','y','z')\rprint(x,row.names=T)\r#\u0026gt; [,1] [,2] [,3]\r#\u0026gt; x 0.8423611 0.7368527 0.5311652\r#\u0026gt; y 0.4859875 0.1940226 0.3470990\r#\u0026gt; z 0.7309780 0.1639670 0.5677050\r#\u0026gt; attr(,\u0026quot;names\u0026quot;)\r#\u0026gt; [1] \u0026quot;a\u0026quot; \u0026quot;b\u0026quot; \u0026quot;c\u0026quot; NA NA NA NA NA NA\r Âúñ\r\r\r‚ùìÂïè:Âú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠xÊòØ‰∏ÄÂÄãÁü©Èô£,x[\u0026quot;a\u0026quot;]ÊúÉÂÇ≥ÂõûÁîöÈ∫º?\nüìù ÂøÖÈ†àÊòØx[[\u0026quot;a\u0026quot;]]ÂÇ≥ÂõûÁöÑÊâçÊòØÁ¥îÈáè,Âê¶Ââá‰ªçÁÑ∂ÊòØ‰∏ÄÂÄãlist\n‰ΩÜÊòØÂú®data.frameÁöÑÁµêÊßã‰∏≠,names()\u0026lt;- Áµ¶ÂÆöÁöÑÊòØÊ¨Ñ‰ΩçÂêçÁ®±\nxd\u0026lt;-data.frame(x)\rnames(xd)\u0026lt;-c('a','b','c')\rxd\r  a b c   x 0.8423611 0.7368527 0.5311652  y 0.4859875 0.1940226 0.3470990  z 0.7309780 0.1639670 0.5677050     Â≠òÂèñ List ÂÖÉÁ¥† # 3ÂÄãÂÖÉÁ¥†,ÂàÜÂà•ÊòØlist, matrix, list\rlist_data \u0026lt;- list(c(\u0026quot;Jan\u0026quot;,\u0026quot;Feb\u0026quot;,\u0026quot;Mar\u0026quot;), matrix(c(3,9,5,1,-2,8), nrow = 2),\rlist(\u0026quot;green\u0026quot;,12.3))\r# Áµ¶ÂêçÁ®±\rnames(list_data) \u0026lt;- c(\u0026quot;1st Quarter\u0026quot;, \u0026quot;A_Matrix\u0026quot;, \u0026quot;A Inner list\u0026quot;)\r# Access the first element of the list.\rprint(list_data[1])\r#\u0026gt; $`1st Quarter`\r#\u0026gt; [1] \u0026quot;Jan\u0026quot; \u0026quot;Feb\u0026quot; \u0026quot;Mar\u0026quot;\r# Access the thrid element. As it is also a list, all its elements will be printed.\rprint(list_data[3])\r#\u0026gt; $`A Inner list`\r#\u0026gt; $`A Inner list`[[1]]\r#\u0026gt; [1] \u0026quot;green\u0026quot;\r#\u0026gt; #\u0026gt; $`A Inner list`[[2]]\r#\u0026gt; [1] 12.3\r# Access the list element using the name of the element.\rprint(list_data$A_Matrix)\r#\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 3 5 -2\r#\u0026gt; [2,] 9 1 8\r list ÂÖÉÁ¥†ÁöÑÂ≠òÂèñÂèØ‰ª•ÊòØ[[]] Êàñ $ ‰æãÂ¶Çx[[\u0026quot;a\u0026quot;]], x$a„ÄÇ\n‰∏ÄÂÄã‰∏ªË¶ÅÂàÜÂà•ÊòØ,list‰∏≠ÁöÑËôüÁ¢ºÁ¥¢Âºï,‰πüÊòØÂêçÁ®±,‰æãÂ¶Ç,ÂêëÈáèÁü©Èô£ÈÉΩÂèØ‰ª•ÊòØx[1]ÊãøÂà∞Á¥îÈáè,‰ΩÜÊòØlist x[1]ÊãøÂà∞ÁöÑ‰ªçÁÑ∂ÊòØlist„ÄÇ\r\r\rËôïÁêÜlist ÂÖÉÁ¥† listÁöÑÂä†ÂÖ•ÂíåÂà™Èô§,Âè™ËÉΩÂú®Â∞æÁ´ØÔºå‰ΩÜÊòØÊõ¥ÊîπË≥áÊñô‰∏çÂèóÈôêÂà∂„ÄÇ\n# Create a list containing a vector, a matrix and a list.\rlist_data \u0026lt;- list(c(\u0026quot;Jan\u0026quot;,\u0026quot;Feb\u0026quot;,\u0026quot;Mar\u0026quot;), matrix(c(3,9,5,1,-2,8), nrow = 2),\rlist(\u0026quot;green\u0026quot;,12.3))\r# Give names to the elements in the list.\rnames(list_data) \u0026lt;- c(\u0026quot;1st Quarter\u0026quot;, \u0026quot;A_Matrix\u0026quot;, \u0026quot;A Inner list\u0026quot;)\r# Âä†ÂÖ•ÂÖÉÁ¥†\rlist_data[4] \u0026lt;- \u0026quot;New element\u0026quot;\rprint(list_data[4])\r#\u0026gt; [[1]]\r#\u0026gt; [1] \u0026quot;New element\u0026quot;\r# üîëÁßªÈô§ÊúÄÂæå‰∏ÄÂÄãÂÖÉÁ¥†\rlist_data[4] \u0026lt;- NULL\r# Print the 4th Element.\rprint(list_data[4])\r#\u0026gt; $\u0026lt;NA\u0026gt;\r#\u0026gt; NULL\r# Update the 3rd Element.\rlist_data[3] \u0026lt;- \u0026quot;updated element\u0026quot;\rprint(list_data[3])\r#\u0026gt; $`A Inner list`\r#\u0026gt; [1] \u0026quot;updated element\u0026quot;\r Âêà‰Ωµ Lists You can merge many lists into one list by placing all the lists inside one list() function.\n# Create two lists.\rlist1 \u0026lt;- list(1,2,3)\rlist2 \u0026lt;- list(\u0026quot;Sun\u0026quot;,\u0026quot;Mon\u0026quot;,\u0026quot;Tue\u0026quot;)\r# Merge the two lists.\rmerged.list \u0026lt;- c(list1,list2)\r# Print the merged list.\rprint(merged.list)\r#\u0026gt; [[1]]\r#\u0026gt; [1] 1\r#\u0026gt; #\u0026gt; [[2]]\r#\u0026gt; [1] 2\r#\u0026gt; #\u0026gt; [[3]]\r#\u0026gt; [1] 3\r#\u0026gt; #\u0026gt; [[4]]\r#\u0026gt; [1] \u0026quot;Sun\u0026quot;\r#\u0026gt; #\u0026gt; [[5]]\r#\u0026gt; [1] \u0026quot;Mon\u0026quot;\r#\u0026gt; #\u0026gt; [[6]]\r#\u0026gt; [1] \u0026quot;Tue\u0026quot;\r ‚ùì Âú®Â§ßÈÉ®ÂàÜÁ®ãÂºèË™ûË®Ä‰∏≠,ÂêëÈáèÁöÑÊÑèÊÄù,Âè™Ë¶ÅÂÖÉÁ¥†ÂêåÂûãÊÖãÂ∞±Ë°å„ÄÇÂèàÔºåÊàëÂÄëÂ∑≤Á∂ìÁü•ÈÅì,ÂáΩÊï∏cÂèØ‰ª•Áî¢ÁîüÂêëÈáè„ÄÇ‰∏äÈù¢ÁöÑÁ®ãÂºèÁ¢º‰∏≠,Âà©Áî®cÂ∞áÂÖ©ÂÄãlist Âêà‰Ωµ,ÊàëÂÄëÊåâÁÖßÂ§ßÈÉ®ÂàÜÁ®ãÂºèË™ûË®ÄÁöÑËßÄÂøµÁü•ÈÅì,Êó¢ÁÑ∂ÂÖÉÁ¥†ÈÉΩÊòØÁõ∏ÂêåÂûãÊÖã(ÈÉΩÊòØlist),ÈÇ£Â∞±ÊòØ2ÂÄãÂÖÉÁ¥†Ôºå‰ΩÜÊòØÁèæÂú®ÊòØ6ÂÄã,ÁÇ∫ÁîöÈ∫º?\nüëç ÂáΩÊï∏c()ÊòØ‰∏ÄÂÄãÂ§öÂûãÂáΩÊï∏(Áâ©‰ª∂Ë™ûË®Ä‰∏≠ÁöÑË¨õÊ≥ïÂ∞±ÊòØÊ†πÊìöÂèÉÊï∏ÁöÑ‰∏çÂêå,ËÄåÊúâ‰∏çÂêåÁöÑÁµêÊûú)„ÄÇÈÄôË£°ÁöÑÁµêÊûúÊòØ6ÂÄãÂÖÉÁ¥†„ÄÇÊØèÂÄãÂÖÉÁ¥†ÈÉΩÊòØlist(Ë≠âÊòé:list)„ÄÇ\n\r\r ‚ùìÂ¶ÇÊûúË¶Å2ÂÄã?  üìù ÈÇ£Â∞±ÊòØmerged.list2\u0026lt;-list(list1,list2)„ÄÇ   ‚ùì merge.list\u0026lt;-c(x,y) ‰∏≠ÁöÑmergeÊòØ‰∏çÊòØÁâ©‰ª∂ÁöÑÊÑèÊÄù?  üëç ‰∏çÊòØ„ÄÇÂè™ÊòØÂÄãÂêàÊ≥ïÁöÑËÆäÊï∏„ÄÇ    \r\r‚ùì ÂØ´‰∏ÄÂÄãÂáΩÊï∏,Âêà‰ΩµÂÖ©ÂÄãlist,‰ΩÜÊòØË¶ÅÊ±ÇÂÖ©ÂÄãlist‰∏≠ÊúâÂêåÂêçÁöÑÂÖÉÁ¥†ÂøÖÈ†àÊòØÁ¨¨2ÂÄã‰∏≠ÁöÑÂêçÁ®±„ÄÇ‰æãÂ¶Ç list(a=1,b=2,c=3), list(b=4) Âêà‰ΩµÂæåËÆäÊàê a=1,b=4,c=3„ÄÇ\nüìù\nmerge_list = function(x, y) {\rx[names(y)] = y\rx\r}\r \r\rList ËΩâ Vector ÂáΩÊï∏ unlist()\n# Create lists.\rlist1 \u0026lt;- list(1:5) # üè∑‰∏çÊòØÁî¢Áîü5ÂÄãNODELÁöÑ‰∏≤Âàó,ËÄåÊòØÂÖàÁî¢Áîü5ÂÄãÂÖÉÁ¥†ÁöÑÂêëÈáè,ÁÑ∂ÂæåÊîæÂà∞Á¨¨‰∏ÄÂÄãÁØÄÈªû\rprint(list1)\r#\u0026gt; [[1]]\r#\u0026gt; [1] 1 2 3 4 5\rlist2 \u0026lt;-list(10:14)\rprint(list2)\r#\u0026gt; [[1]]\r#\u0026gt; [1] 10 11 12 13 14\r# Convert the lists to vectors.\rv1 \u0026lt;- unlist(list1)\rv2 \u0026lt;- unlist(list2)\rprint(v1)\r#\u0026gt; [1] 1 2 3 4 5\rprint(v2)\r#\u0026gt; [1] 10 11 12 13 14\r# Now add the vectors\rresult \u0026lt;- v1+v2\rprint(result)\r#\u0026gt; [1] 11 13 15 17 19\r ‚ùì Â¶ÇÊûúÊòØlist‰∏≠ÁöÑÂÖßÂÆπÊúâ‰∏ç‰∏ÄÊ®£ÁöÑÂûãÊÖãÂë¢?‰æãÂ¶Ç\nx\u0026lt;-list(\u0026quot;a\u0026quot;,1)\ry\u0026lt;-unlist(x)\rtypeof (y)\r#\u0026gt; [1] \u0026quot;character\u0026quot;\r \r\rÊØîËºÉvector, list‰∏≠,Â≠ó‰∏≤ÁöÑÂïèÈ°å  Q length()ÂáΩÊï∏ÂèØ‰ª•Áü•ÈÅìvector,list ÁöÑÈï∑Â∫¶,‰ΩÜÊòØÁÇ∫ÁîöÈ∫ºlength(\u0026quot;hello\u0026quot;)ÁöÑÈï∑Â∫¶ÊòØ1?  a\u0026lt;-c(\u0026quot;hello\u0026quot;,\u0026quot;r\u0026quot;)\rlength(a) #üí°\r#\u0026gt; [1] 2\rlength(a[1]) #üí°\r#\u0026gt; [1] 1\rlength(a[[1]]) #üí°\r#\u0026gt; [1] 1\rnchar(a[1]) #üîë\r#\u0026gt; [1] 5\rlength(\u0026quot;hello\u0026quot;) #‚ùì\r#\u0026gt; [1] 1\r Âúñ\r\r\r Q  a\u0026lt;-list(\u0026quot;hello\u0026quot;,\u0026quot;r\u0026quot;)\rlength(a)\r#\u0026gt; [1] 2\rlength(a[1])\r#\u0026gt; [1] 1\rlength(a[[1]])\r#\u0026gt; [1] 1\rtypeof(\u0026quot;xxx\u0026quot;) #üí°\r#\u0026gt; [1] \u0026quot;character\u0026quot;\rtypeof(1) #üí°\r#\u0026gt; [1] \u0026quot;double\u0026quot;\rtypeof(1L) #üí°\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\r ‰∏äÈù¢ÂÖ©ÂÄãÁ≠îÊ°àÁöÑÂïèÈ°å,ÂíåRÊÄéÊ®£Âª∫Á´ãÂ≠ó‰∏≤ÊúâÈóú üìùÁ∏Ω‰πã,Â≠ó‰∏≤Èï∑Â∫¶ÂáΩÊï∏üîënchar()„ÄÇ\nÁ∑¥Áøí data set build in Â¶ÇÊûúÁèæÂú®Ë¶ÅÂÅö‰∏ÄÂÄãÊ∏ÖÂñÆ,ÂàóÂá∫ÊúâÂì™‰∫õÂÖßÂª∫Ë≥áÊñôÂèØ‰ª•Áî®,ÊúâÁ©∫ÂèØ‰ª•‰æÜÊü•‰∏Ä‰∏ã,Ë¶ÅÊÄéÈ∫ºÂÅö?ÊàëÂÄëÂèØ‰ª•ÊâìÊåá‰ª§data(),‰ΩÜÊòØ‰ªñÊúÉÂá∫ÁèæÂú®Ë¶ñÁ™ó‰∏≠„ÄÇ\n  ÊàëÂÄëÁü•ÈÅìÂèØ‰ª•ÊåáÊ¥æÁµ¶ÊüêÂÄãËÆäÊï∏,Â∞±‰∏çÊúÉÈ°ØÁ§∫ÁµêÊûú(Â∞±ÊòØ‰∏çÊúÉÂá∫ÁèæË¶ñÁ™ó),ÊâÄ‰ª•\nbuilding_data\u0026lt;-data()    Áúã‰∏Ä‰∏ãÁµêÊßã\nstr(building_data)\r#\u0026gt; List of 4\r#\u0026gt; $ title : chr \u0026quot;Data sets\u0026quot;\r#\u0026gt; $ header : NULL\r#\u0026gt; $ results: chr [1:104, 1:4] \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; ... #üè∑üëèÊáâË©≤Âú®ÈÄôË£°,‰ΩÜÊòØÈÄôÊòØÁîöÈ∫º\r#\u0026gt; ..- attr(*, \u0026quot;dimnames\u0026quot;)=List of 2\r#\u0026gt; .. ..$ : NULL\r#\u0026gt; .. ..$ : chr [1:4] \u0026quot;Package\u0026quot; \u0026quot;LibPath\u0026quot; \u0026quot;Item\u0026quot; \u0026quot;Title\u0026quot;\r#\u0026gt; $ footer : chr \u0026quot;Use 'data(package = .packages(all.available = TRUE))'\\nto list the data sets in all *available* packages.\u0026quot;\r#\u0026gt; - attr(*, \u0026quot;class\u0026quot;)= chr \u0026quot;packageIQR\u0026quot;\r   ÊÉ≥Ë¶ÅÁü•ÈÅìresultsÁöÑÁµêÊßã\nstr(building_data$results)\r#\u0026gt; chr [1:104, 1:4] \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; \u0026quot;datasets\u0026quot; ...\r#\u0026gt; - attr(*, \u0026quot;dimnames\u0026quot;)=List of 2\r#\u0026gt; ..$ : NULL\r#\u0026gt; ..$ : chr [1:4] \u0026quot;Package\u0026quot; \u0026quot;LibPath\u0026quot; \u0026quot;Item\u0026quot; \u0026quot;Title\u0026quot;\rclass(building_data$results)\r#\u0026gt; [1] \u0026quot;matrix\u0026quot; \u0026quot;array\u0026quot;\r   Áü•ÈÅìÊòØÁü©Èô£\nas.data.frame(building_data$results)\r \rPackage LibPath Item Title   datasets C:/Program Files/R/R-4.1.1/library AirPassengers Monthly Airline Passenger Numbers 1949-1960  datasets C:/Program Files/R/R-4.1.1/library BJsales Sales Data with Leading Indicator  datasets C:/Program Files/R/R-4.1.1/library BJsales.lead (BJsales) Sales Data with Leading Indicator  datasets C:/Program Files/R/R-4.1.1/library BOD Biochemical Oxygen Demand  datasets C:/Program Files/R/R-4.1.1/library CO2 Carbon Dioxide Uptake in Grass Plants  datasets C:/Program Files/R/R-4.1.1/library ChickWeight Weight versus age of chicks on different diets  datasets C:/Program Files/R/R-4.1.1/library DNase Elisa assay of DNase  datasets C:/Program Files/R/R-4.1.1/library EuStockMarkets Daily Closing Prices of Major European Stock Indices, 1991-1998  datasets C:/Program Files/R/R-4.1.1/library Formaldehyde Determination of Formaldehyde  datasets C:/Program Files/R/R-4.1.1/library HairEyeColor Hair and Eye Color of Statistics Students  datasets C:/Program Files/R/R-4.1.1/library Harman23.cor Harman Example 2.3  datasets C:/Program Files/R/R-4.1.1/library Harman74.cor Harman Example 7.4  datasets C:/Program Files/R/R-4.1.1/library Indometh Pharmacokinetics of Indomethacin  datasets C:/Program Files/R/R-4.1.1/library InsectSprays Effectiveness of Insect Sprays  datasets C:/Program Files/R/R-4.1.1/library JohnsonJohnson Quarterly Earnings per Johnson \u0026amp; Johnson Share  datasets C:/Program Files/R/R-4.1.1/library LakeHuron Level of Lake Huron 1875-1972  datasets C:/Program Files/R/R-4.1.1/library LifeCycleSavings Intercountry Life-Cycle Savings Data  datasets C:/Program Files/R/R-4.1.1/library Loblolly Growth of Loblolly pine trees  datasets C:/Program Files/R/R-4.1.1/library Nile Flow of the River Nile  datasets C:/Program Files/R/R-4.1.1/library Orange Growth of Orange Trees  datasets C:/Program Files/R/R-4.1.1/library OrchardSprays Potency of Orchard Sprays  datasets C:/Program Files/R/R-4.1.1/library PlantGrowth Results from an Experiment on Plant Growth  datasets C:/Program Files/R/R-4.1.1/library Puromycin Reaction Velocity of an Enzymatic Reaction  datasets C:/Program Files/R/R-4.1.1/library Seatbelts Road Casualties in Great Britain 1969-84  datasets C:/Program Files/R/R-4.1.1/library Theoph Pharmacokinetics of Theophylline  datasets C:/Program Files/R/R-4.1.1/library Titanic Survival of passengers on the Titanic  datasets C:/Program Files/R/R-4.1.1/library ToothGrowth The Effect of Vitamin C on Tooth Growth in Guinea Pigs  datasets C:/Program Files/R/R-4.1.1/library UCBAdmissions Student Admissions at UC Berkeley  datasets C:/Program Files/R/R-4.1.1/library UKDriverDeaths Road Casualties in Great Britain 1969-84  datasets C:/Program Files/R/R-4.1.1/library UKgas UK Quarterly Gas Consumption  datasets C:/Program Files/R/R-4.1.1/library USAccDeaths Accidental Deaths in the US 1973-1978  datasets C:/Program Files/R/R-4.1.1/library USArrests Violent Crime Rates by US State  datasets C:/Program Files/R/R-4.1.1/library USJudgeRatings Lawyers' Ratings of State Judges in the US Superior Court  datasets C:/Program Files/R/R-4.1.1/library USPersonalExpenditure Personal Expenditure Data  datasets C:/Program Files/R/R-4.1.1/library UScitiesD Distances Between European Cities and Between US Cities  datasets C:/Program Files/R/R-4.1.1/library VADeaths Death Rates in Virginia (1940)  datasets C:/Program Files/R/R-4.1.1/library WWWusage Internet Usage per Minute  datasets C:/Program Files/R/R-4.1.1/library WorldPhones The World's Telephones  datasets C:/Program Files/R/R-4.1.1/library ability.cov Ability and Intelligence Tests  datasets C:/Program Files/R/R-4.1.1/library airmiles Passenger Miles on Commercial US Airlines, 1937-1960     ÂÖ∂‰ªñÁõ∏ÈóúÊåá‰ª§\n  data(mtcars)\rnrow(mtcars)\r#\u0026gt; [1] 32\rncol(mtcars)\r#\u0026gt; [1] 11\r Á∑¥Áøí ÊãøÂÖÉÁ¥† [ Â§ßÊ¶ÇÊ∂µËìã‰∫ÜÊâÄÊúâÂ≠òÂèñÂÖÉÁ¥†ÁöÑÊñπÊ≥ïÂèÉËÄÉ\n‚ùìÂ¶ÇÊûúË≥áÊñôÂ¶Ç‰∏ã,\n\u0026gt; data\rV1 V2\r1 12.448 13.919\r2 22.242 4.606\r3 24.509 0.176\r Ââá‰∏ãÈù¢Êåá‰ª§ÂàÜÂà•ÊãøÂà∞ÁîöÈ∫º?\ndata[1,1]\rdata[1,\u0026quot;V1\u0026quot;]\rdata$V1[1]\rdata[[1]][1]\rdata[[\u0026quot;V1\u0026quot;]][1]\r alist Â¶Ç‰∏ã\nalist \u0026lt;- list(x1=numeric(0), x2=\u0026quot;foo\u0026quot;, x3=numeric(0), x4=2:5)\r  ÊâæÂá∫Èï∑Â∫¶‰∏çÊòØ0ÁöÑÂÖÉÁ¥† ÊâæÂá∫Èï∑Â∫¶ÊòØ0ÁöÑÂÖÉÁ¥†ÂêçÁ®±  ÊèêÁ§∫\r  ÊâæÂá∫Èï∑Â∫¶‰∏çÊòØ0ÁöÑÂÖÉÁ¥† alist[lapply(alist, length) \u0026gt; 0]\r  ÊâæÂá∫Èï∑Â∫¶ÊòØ0ÁöÑÂÖÉÁ¥†ÂêçÁ®± names(l)[lapply(l, length) == 0]\r   \r"},
{"uri": "/blogR//rlang/4_11_json.html","title": "4.4.1 json",
	"tags": [],
	"description": "4.4.1 json",
	"content": "if(!require(\u0026quot;rjson\u0026quot;)){\rinstall.packages(\u0026quot;rjson\u0026quot;)\r}\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºörjson\rx \u0026lt;- list( alpha = 1:5, beta = \u0026quot;Bravo for nonthing\u0026quot;, gamma = list(a=1:3, b=NULL), delta = c(TRUE, FALSE) )\rjson \u0026lt;- toJSON( x )\rhugocmd(\u0026quot;expand\u0026quot; ,'title=\u0026quot;\u0026quot; incode=true')\r#\u0026gt; \rÂ±ïÈñã\rjson# \u0026lt;span data-nopre class=\u0026#34;codenote nopre\u0026#34;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026#34;tooltiptext\u0026#34; \u0026gt;‰Ω†Â•Ω\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; [1] \u0026#34;{\\\u0026#34;alpha\\\u0026#34;:[1,2,3,4,5],\\\u0026#34;beta\\\u0026#34;:\\\u0026#34;Bravo for nonthing\\\u0026#34;,\\\u0026#34;gamma\\\u0026#34;:{\\\u0026#34;a\\\u0026#34;:[1,2,3],\\\u0026#34;b\\\u0026#34;:null},\\\u0026#34;delta\\\u0026#34;:[true,false]}\u0026#34;\rhugocmd(m=\u0026#34;expand\u0026#34; ,end=T)\r#\u0026gt; \rfromJSON( json )\r#\u0026gt; $alpha\r#\u0026gt; [1] 1 2 3 4 5\r#\u0026gt; #\u0026gt; $beta\r#\u0026gt; [1] \u0026quot;Bravo for nonthing\u0026quot;\r#\u0026gt; #\u0026gt; $gamma\r#\u0026gt; $gamma$a\r#\u0026gt; [1] 1 2 3\r#\u0026gt; #\u0026gt; $gamma$b\r#\u0026gt; NULL\r#\u0026gt; #\u0026gt; #\u0026gt; $delta\r#\u0026gt; [1] TRUE FALSE\r"},
{"uri": "/blogR//rlang/4_7_type_more.html","title": "4.7 Êõ¥Â§ö",
	"tags": [],
	"description": "Âü∫Êú¨Ë™ûÊ≥ï",
	"content": "Factors R‰πüËÉΩÊääË≥áÊñôÂ≠òÁÇ∫factor„ÄÇ\nÂú®Â§ßÈÉ®ÂàÜÂØ¶È©ó‰∏≠,Êüê‰∫õËß£ÈáãËÆäÊï∏Á∂ìÂ∏∏Êúâ‰∏çÂêåÁ®ãÂ∫¶ÁöÑÊ∏¨Ë©¶,Á®±ÁÇ∫Âõ†Â≠ê„ÄÇ Â§ßÊÑèÂ¶Ç‰∏ãÔºö\n ... includes trials for different levels of some explanatory variable. The different levels are also called factors.\n Êé¢Á¥¢‰∏Ä‰∏ãfactors fert = c(10,20,20,50,10,20,10,50,20)\rfert = factor(fert,levels=c(10,20,50),ordered=TRUE)\r levels()ÂèØ‰ª•È°ØÁ§∫factorÁöÑÊ®ôÁ±§ Ëß£ÈáãÔºö\nlevels(fert) Áî¢Áîü‰∏ÄÂÄã„ÄåÂ≠ó‰∏≤ÂêëÈáè„ÄçÔºåÂÖßÂÆπÁÇ∫10, 20, 50ÔºåÂ¶Ç‰∏ãÂèØË≠âÔºö\nstr(levels(fert))\r#\u0026gt; chr [1:3] \u0026quot;10\u0026quot; \u0026quot;20\u0026quot; \u0026quot;50\u0026quot;\r \r\rlevels(fert) #\u0026gt; [1] \u0026quot;10\u0026quot; \u0026quot;20\u0026quot; \u0026quot;50\u0026quot;\r fert ÁöÑÂÖßÂÆπÔºåÂ¶ÇÊûúÂøΩÁï•Ê®ôÁ±§Êú¨Ë∫´ÔºåÂÖ∂ÂØ¶Â∑≤Á∂ìÊòØÊï∏Â≠ó,‰πüÂ∞±ÊòØ:typeof(fert)=„ÄÇ\nfert\r#\u0026gt; [1] 10 20 20 50 10 20 10 50 20\r#\u0026gt; Levels: 10 \u0026lt; 20 \u0026lt; 50\rtypeof(fert)\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\r üí° Âõ†Ê≠§, attr(x,\u0026quot;levels\u0026quot;)=levels(x)„ÄÇ\n‰∏äÈù¢ÁöÑtypeof(fert)Ë™™ÊòØÊï∏Â≠ó,‰ΩÜÊòØÂ¶ÇÊûúÁúüÁöÑÊääÂÆÉÁï∂ÊàêÊï∏Â≠óÂêëÈáè,ÂèàÁÑ°Ê≥ïÂà©Áî®ÂáΩÊï∏meanË®àÁÆóÂπ≥Âùáüí£\nmean(fert)\r#\u0026gt; Warning in mean.default(fert): ÂºïÊï∏‰∏çÊòØÊï∏ÂÄº‰πü‰∏çÊòØÈÇèËºØÂÄºÔºöÂõûË¶Ü NA\r#\u0026gt; [1] NA\r ÂøÖÈ†àËΩâÊèõ:\nmean(as.numeric(levels(fert)[fert]))\r#\u0026gt; [1] 23.33333\r ÈÇ£È∫ºÊúÄÂ∞èÂÄºÂë¢?\nmin(fert)\r#\u0026gt; [1] 10\r#\u0026gt; Levels: 10 \u0026lt; 20 \u0026lt; 50\r ‚ùì ÁÇ∫ÁîöÈ∫º‰∏äÈù¢ÁöÑÊ±ÇÊúÄÂ∞èÂèØ‰ª•,ÈÄôË£°Âèà‰∏çË°å?\nfert = c(10,20,20,50,10,20,10,50,20)\rfert = factor(fert,levels=c(10,20,50) )\rmin(fert)\r#\u0026gt; Error in Summary.factor(structure(c(1L, 2L, 2L, 3L, 1L, 2L, 1L, 3L, 2L: 'min' Â∞çÂõ†Â≠êÊ≤íÊúâÊÑèÁæ©\r Êé¢Á¥¢ a \u0026lt;- factor(c(\u0026quot;A\u0026quot;, \u0026quot;A\u0026quot;, \u0026quot;B\u0026quot;, \u0026quot;A\u0026quot;, \u0026quot;B\u0026quot;, \u0026quot;B\u0026quot;, \u0026quot;C\u0026quot;, \u0026quot;A\u0026quot;, \u0026quot;C\u0026quot;))\r È†êÊúüÁ≠îÊ°àÊòØfactor,ok„ÄÇ\nclass(a)\r#\u0026gt; [1] \u0026quot;factor\u0026quot;\r Âõ†ÁÇ∫aÂ∑≤Á∂ìË¢´Á∑®Á¢ºÔºåÈ†êÊúüÊòØnumericÔºåÈÄôË£°Á≠îÊ°àÁõ¥Êé•Áµ¶ÂÆöinteger:\ntypeof(a)\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\r aÊòØ‰∏ÄÂÄãfactor,ÊâÄ‰ª•a[]‰ª£Ë°®aÁöÑ‰∏ÄÂÄãÂ≠êÈõÜÂêàÔºåÂõ†Ê≠§ÁµêÊûúÁúãËµ∑‰æÜ‰πüÊòØÈ°û‰ººÂéü‰æÜaÁöÑÂûãÊÖãÔºö\na[1]\r#\u0026gt; [1] A\r#\u0026gt; Levels: A B C\r È©óË≠âÊòØ‰∏çÊòØÂíå‰∏äÈù¢ÁöÑË°®Á§∫ÊñπÂºè‰∏ÄÊ®£Ôºö\na\r#\u0026gt; [1] A A B A B B C A C\r#\u0026gt; Levels: A B C\r ÊâÄ‰ª•Ôºåa,a[]ÈÉΩÊòØÈ°ûÂûãÁÇ∫factorÁöÑËÆäÊï∏„ÄÇ\nÊåâÁÖß‰πãÈñì[]Âíå[[]]ÁöÑË¶èÂâáÔºåÈÄôË£°ÊúÉÂá∫Áèæ‰ªÄÈ∫ºÔºü\na[[1]]\r#\u0026gt; [1] A\r#\u0026gt; Levels: A B C\r Âá∫ÁèæÁöÑÁµêÊûúÂíåa[1]‰∏ÄÊ®£ÔºåÈÄôË™™Êòé‰∫ÜÔºåaÁöÑÁµêÊßã‰∏çÊòØlist,Âà©Áî®str()ÂáΩÊï∏Áúã‰∏Ä‰∏ãÁ¢∫Ë™çÔºö\nstr(a)\r#\u0026gt; Factor w/ 3 levels \u0026quot;A\u0026quot;,\u0026quot;B\u0026quot;,\u0026quot;C\u0026quot;: 1 1 2 1 2 2 3 1 3\r Á∏Ω‰πãÔºåa[1] a[[1]] ÈÉΩÊòØFactor Ê≤íÊúâ[ Âíå [[ ÁöÑÂàÜÂà•„ÄÇÈÄôÂæàÂ•ΩË®òÔºåÂõ†ÁÇ∫ÈÄôÂÄãfactor‰πüÊòØrÁöÑÂÖßÂª∫Ë≥áÊñôÂûãÊÖã„ÄÇ ÂÖ∂‰ªñÈ©óË≠âÂ¶Ç‰∏ãÔºåËá™Ë°åÊé®Êï≤Ôºö\n\u0026gt; typeof(a[[1]])\r[1] \u0026quot;integer\u0026quot;\r\u0026gt; typeof(a[1])\r[1] \u0026quot;integer\u0026quot;\r\u0026gt; class(a[[1]])\r[1] \u0026quot;factor\u0026quot;\r\u0026gt; class(a[1])\r[1] \u0026quot;factor\u0026quot;\r Â∏∏Áî®‰æÜÂíåtableÈÖçÂêà\ntable(a)\r#\u0026gt; a\r#\u0026gt; A B C #\u0026gt; 4 3 2\r Âà©Áî®summaryÂáΩÊï∏ÁöÑÊôÇÂÄô,ÈÄôË£°‰∏çÂÜçÂàóÂá∫5ÂÄãÁµ±Ë®àÈáè:\nsummary(a)\r#\u0026gt; A B C #\u0026gt; 4 3 2\r ÂèàÊúâÊñ∞ÁöÑÂïèÈ°å‰∫ÜÔºåÂà∞Â∫ïtable(a),summary(a)ÁöÑË≥áÊñôÁµêÊßãÊòØ‰ªÄÈ∫ºÔºü\nstr(table(a))\r#\u0026gt; 'table' int [1:3(1d)] 4 3 2\r#\u0026gt; - attr(*, \u0026quot;dimnames\u0026quot;)=List of 1\r#\u0026gt; ..$ a: chr [1:3] \u0026quot;A\u0026quot; \u0026quot;B\u0026quot; \u0026quot;C\u0026quot;\rstr(summary(a))\r#\u0026gt; Named int [1:3] 4 3 2\r#\u0026gt; - attr(*, \u0026quot;names\u0026quot;)= chr [1:3] \u0026quot;A\u0026quot; \u0026quot;B\u0026quot; \u0026quot;C\u0026quot;\r class(table(a))\r#\u0026gt; [1] \u0026quot;table\u0026quot;\rclass(summary(a))\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\r Âèà‰æÜ‰∏ÄÂÄãËÆì‰∫∫ÁÑ°Ë®ÄÁöÑÂú∞ÊñπÔºåËº∏Âá∫Ê®£Â≠êÁúãËµ∑‰æÜÂæàÂÉèÔºå‰ΩÜÊòØÁµêÊßã‰∏ÄÂÄãÊòØÈ°ûÂà•table‰∏ÄÂÄãÊòØ„ÄåÊï¥Êï∏ÂêëÈáè„ÄçÔºåÁÑ∂ÂæåÊØèÂÄãÂÖÉÁ¥†ÈÉΩÊòØÂõ†Â≠êÁöÑÁôºÁîüÊ¨°Êï∏ÔºåÂ∏∂ÊúâÂõ†Â≠êÂêçÂ≠óÔºåÈÄôË£°ÊòØ\u0026quot;A\u0026quot;,\u0026quot;B\u0026quot;,\u0026quot;C\u0026quot;„ÄÇ\nhw ‚ùìÊâæÂõûÂéü‰æÜÈÇÑÊ≤íË¢´factorÁöÑÂêëÈáè„ÄÇ\nx\u0026lt;-c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;c\u0026quot;) fx\u0026lt;-factor(x) # ÁèæÂú®xÊòØ‰∏ÄÂÄãfactor  ÁèæÂú®ÂÅáÂÆö,ÊàëÂÄëÂè™Êúâfx,Ë¶ÅÊâæÂõûxÁöÑÂÖßÂÆπ„ÄÇ\nüí° hint:c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;c\u0026quot;)[c(1,1,2,3,2)] ==\u0026gt; a,a,b,c,b „ÄÇ\nÊèêÁ§∫\r x\u0026lt;-c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;c\u0026quot;)\rfx\u0026lt;-factor(x) # ÁèæÂú®xÊòØ‰∏ÄÂÄãfactor\r#üí°\rx\u0026lt;-levels(fx)[fx] #ÁèæÂú®ÂèàË¢´ËΩâÂõûÂéü‰æÜÁöÑx\r \rfactor ÂíåÂáΩÊï∏read.csv() read.csv() ÈÄöÂ∏∏Áî¢Áîü‰∏ÄÂÄãdata.frameÁöÑÈ°ûÂà•„ÄÇ‰ΩÜÊòØÂú®ËÆÄÊ™îÁöÑÊôÇÂÄôÔºåÂ¶ÇÊûúÈÅáÂà∞Â≠ó‰∏≤Ê¨Ñ‰ΩçÔºåÊúÉÂ∞áÂ≠ó‰∏≤Ê¨Ñ‰ΩçÈ†êË®≠ËΩâÁÇ∫factorÊ¨Ñ‰Ωç„ÄÇ\nËßÄÂØücarbon dioxide Â∞çÊ®πÊú®ÁöÑÁîüÈï∑ÈÄüÁéá trees91.csv [1^]\nÈôÑ‰ª∂\n\rÈôÑ‰ª∂\r\rJournals.csv\r\rsample1.csv\r\rsample2.csv\r\rsample3.csv\r\rsimple.csv\r\rsmoker.csv\r\rtrees91.csv\r\rwh.csv\r\rwh_zh_950.csv\r\rwh_zh_utf8.csv\r\r tree = read.csv(\u0026quot;./resources/trees91.csv\u0026quot;, header = TRUE, sep = \u0026quot;,\u0026quot;);\r#\u0026gt; Warning in file(file, \u0026quot;rt\u0026quot;): ÁÑ°Ê≥ïÈñãÂïüÊ™îÊ°à './resources/trees91.csv' ÔºöNo such\r#\u0026gt; file or directory\r#\u0026gt; Error in file(file, \u0026quot;rt\u0026quot;): ÁÑ°Ê≥ïÈñãÂïüÈÄ£Êé•\rattributes(tree)\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rnames(tree)\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\r [1^]: The original spreadsheet is located at http://cdiac.ornl.gov/ftp/ndp061a/trees91.wk1.\nA description of the data file is located at http://cdiac.ornl.gov/ftp/ndp061a/ndp061a.txt .\nfactor ÂíåÂáΩÊï∏summary() Âú®CHBRÈÄôÂÄãÊ¨Ñ‰Ωç‰∏≠,Âõ†ÁÇ∫‰∏çÂÖ®ÈÉΩÊòØÊï∏Â≠ó,Âõ†Ê≠§RËá™ÂãïÂÅáÂÆöÈÄôÊòØ‰∏ÄÂÄãfactor„ÄÇ Âõ†Ê≠§ÈáùÂ∞çÈÄôÂÄãÊ¨Ñ‰Ωçsummary()ÂáΩÊï∏‰∏çÊúÉÂàóÂá∫5ÂÄãÁµ±Ë®àÈáè,ËÄåÊòØÂàóÂá∫Ê¨°Êï∏Ë°®„ÄÇÂõ†ÁÇ∫Ôºå‰∏ÄÊó¶ÂêëÈáèËΩâÁÇ∫‰∏ÄÁµÑfactors, 5ÂÄãÂü∫Êú¨Áµ±Ë®àÈáè‰∏çÂÜçÊúâÊÑèÁæ©„ÄÇ\nsummary(tree$CHBR)\r#\u0026gt; Error in summary(tree$CHBR): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\r#üè∑Âú®CHBRÈÄôÂÄãÊ¨Ñ‰Ωç‰∏≠,Âõ†ÁÇ∫‰∏çÂÖ®ÈÉΩÊòØÊï∏Â≠ó,Âõ†Ê≠§RËá™ÂãïÂÅáÂÆöÈÄôÊòØ‰∏ÄÂÄãfactor„ÄÇ\r ‰ΩÜÊúâ‰∫õÊ¨Ñ‰Ωç‰æãÂ¶ÇC,‰πüÊòØ‰∏ÄÂÄãfactor„ÄÇ‰ΩÜÊòØ,RË™çÂÆöÁÇ∫Êï∏Â≠ó,ÈÄôÊôÇÂøÖÈ†àÊâãÂãïËôïÁêÜ„ÄÇ\n‰ª•‰∏ãÂ∞á tree$C ËΩâÁÇ∫ factor:\ntree$C #üè∑ÈÄôÊòØ1ÂÄãfactor,‰ΩÜÊòØËΩâÈÄ≤‰æÜÁöÑÊôÇÂÄô,Ë¢´Ë™çÂÆöÁÇ∫Êï∏Â≠ó\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rsummary(tree$C)\r#\u0026gt; Error in summary(tree$C): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rtree$C \u0026lt;- factor(tree$C)\r#\u0026gt; Error in factor(tree$C): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rtree$C\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rsummary(tree$C)\r#\u0026gt; Error in summary(tree$C): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rlevels(tree$C)\r#\u0026gt; Error in levels(tree$C): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\r node: summary() ÂáΩÊï∏ÔºåÂèÉËÄÉtable‰∏ÄÁØÄ„ÄÇ\nbarplot(table(tree$C))\r#\u0026gt; Error in table(tree$C): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\r Data Frames Á∞°ÂñÆ‰ªãÁ¥π‰∏Ä‰∏ãÊâãÂãïÂª∫Á´ãdata.frame 3ÂÄãÊ¨Ñ‰ΩçÔºåÂàÜÂà•ÊòØa,b,f\na \u0026lt;- c(1, 2, 3, 4)\rb \u0026lt;- c(2, 4, 6, 8)\rlevels \u0026lt;- factor(c(\u0026quot;A\u0026quot;, \u0026quot;B\u0026quot;, \u0026quot;A\u0026quot;, \u0026quot;B\u0026quot;))\rbubba \u0026lt;- data.frame(first = a,\rsecond = b,\rf = levels)\rbubba\r first second f   1 2 A  2 4 B  3 6 A  4 8 B     summary(bubba)\r#\u0026gt; first second f #\u0026gt; Min. :1.00 Min. :2.0 A:2 #\u0026gt; 1st Qu.:1.75 1st Qu.:3.5 B:2 #\u0026gt; Median :2.50 Median :5.0 #\u0026gt; Mean :2.50 Mean :5.0 #\u0026gt; 3rd Qu.:3.25 3rd Qu.:6.5 #\u0026gt; Max. :4.00 Max. :8.0\rbubba$first\r#\u0026gt; [1] 1 2 3 4\rbubba$second\r#\u0026gt; [1] 2 4 6 8\rbubba$f\r#\u0026gt; [1] A B A B\r#\u0026gt; Levels: A B\r data frame ÁöÑÂ∏∏Áî®ÂáΩÊï∏Ôºö  head() - shows first 6 rows tail() - shows last 6 rows dim() - returns the dimensions of data frame (i.e. number of rows and number of columns) nrow() - number of rows ncol() - number of columns str() - structure of data frame - name, type and preview of data in each column names() - shows the names attribute for a data frame, which gives the column names. sapply(dataframe, class) - shows the class of each column in the data frame  ÂõûÂà∞‰πãÂâçÂà©Áî®read.csvËÆÄÂÖ•ÁöÑdata.frame : tree\n# È†Ü‰æøÁúãÁúãÁµêÊßã\rtypeof(tree)\r#\u0026gt; Error in typeof(tree): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rclass(tree)\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\ris.data.frame(tree)\r#\u0026gt; Error in is.data.frame(tree): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\r Êó¢ÁÑ∂treeÊòØ‰∏ÄÂÄãlist,ÈÇ£È∫º[]Âíå[[]]ÁöÑÊáâÁî®Â∞±Âíå‰πãÂâçË®éË´ñÁöÑ‰∏ÄÊ®£Ôºö\ntree[1]\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rtree[[1]] #\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rclass(tree[1]) # data.frame\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rclass(tree[[1]]) # integer\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rtypeof(tree[1]) # list\r#\u0026gt; Error in typeof(tree[1]): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rtypeof(tree$C) # integer\r#\u0026gt; Error in typeof(tree$C): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\rtypeof(tree[[1]]) # integer\r#\u0026gt; Error in typeof(tree[[1]]): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'tree'\r tree[1] ÊòØ‰∏ÄÂÄãlist\ntree[[1]] Â§ñÂúçÁöÑtree[]È¶ñÂÖàË¢´Ëß£ËÆÄÁÇ∫listÈ°ûÂà•,ÁÑ∂Âæå[1]ÂÇ≥Âà∞È°ûÂà•\n [[ vs [\nÁî±typeof,classÁúãËµ∑‰æÜ\n[[ÊäΩÂèñlist‰∏≠ÁöÑÂÖÉÁ¥† [Âè™ÊòØÂàÜÂâ≤list,‰∏≠ÁöÑsubset\n Tables Èô§‰∫Üdata frame ‰ª•Â§ñ,ÈÇÑÊúâtable ÂèØ‰ª•Áî®‰æÜÁµÑÁπîË≥áÊñô„ÄÇ ÈÄôË£°Âè™ÁúãÊÄéÊ®£Âª∫Á´ãtable,ÂàÜÊûêÁúãÂÖ∂‰ªñÁ´†ÁØÄ„ÄÇ\nOne Way Tables table()Êåá‰ª§:\nÈÄôÂÄãÊåá‰ª§ÈÄöÂ∏∏Áî®‰æÜÂª∫Á´ãÂõ†Â≠ê‰πãÈñìÁöÑÈóúËÅØË°®(contingency table)„ÄÇÂèÉÊï∏ÈÄöÂ∏∏ÊòØ‰∏ÄÂÄã„ÄåÂõ†Â≠êÂêëÈáè„Äç(factor vector)„ÄÇ\n‰æãÂ¶ÇÂª∫Á´ã‰∏ÄÂÄãÂñÆÂõ†Â≠êÈóúËÅØË°®Ôºàone way tableÔºâ:\na \u0026lt;- factor(c(\u0026quot;A\u0026quot;, \u0026quot;A\u0026quot;, \u0026quot;B\u0026quot;, \u0026quot;A\u0026quot;, \u0026quot;B\u0026quot;, \u0026quot;B\u0026quot;, \u0026quot;C\u0026quot;, \u0026quot;A\u0026quot;, \u0026quot;C\u0026quot;))\rtable_a \u0026lt;- table(a)\r table_aÔºö\ntable_a\r#\u0026gt; a\r#\u0026gt; A B C #\u0026gt; 4 3 2\r attributesÂèØ‰ª•ÁúãÂá∫table_aË£°Èù¢ÊúâÂì™‰∫õÂ∏∂ÂêçÂÖÉÁ¥†\nattributes(table_a)\r#\u0026gt; $dim\r#\u0026gt; [1] 3\r#\u0026gt; #\u0026gt; $dimnames\r#\u0026gt; $dimnames$a\r#\u0026gt; [1] \u0026quot;A\u0026quot; \u0026quot;B\u0026quot; \u0026quot;C\u0026quot;\r#\u0026gt; #\u0026gt; #\u0026gt; $class\r#\u0026gt; [1] \u0026quot;table\u0026quot;\r summary(table_a)\r#\u0026gt; Number of cases in table: 9 #\u0026gt; Number of factors: 1\r Â∞çÁÖßtable(a)ÔºåÁõ¥Êé•Êääfactor ËÆäÊï∏Ôºå‰ª£ÂÖ•summary()Áúã‰∏Ä‰∏ãÔºåÁµêÊûúÊòØÊ¨°Êï∏ÂàÜÈÖçË°®ÔºàÂ¶Ç‰∏ãÔºâ\ntable(a)\r#\u0026gt; a\r#\u0026gt; A B C #\u0026gt; 4 3 2\rsummary(a)\r#\u0026gt; A B C #\u0026gt; 4 3 2\r ÂïèÈ°åÔºöÂ¶ÇÊûúÊàëÂÄëÁü•ÈÅìAÊúâ4,ÂÄã,BÊúâ3ÂÄã,CÊúâ2ÂÄã,ËÉΩ‰∏çËÉΩÁõ¥Êé•Âª∫Á´ãtable?\n ÂÖàÂª∫Á´ãmatrix ÂÜçÂä†ÂÖ•Ê¨Ñ‰ΩçÂêçÁ®± Âà©Áî®ÂáΩÊï∏as.table()  # step 1\roccur \u0026lt;- matrix(c(4, 3, 2), ncol = 3, byrow = TRUE)\roccur\r#\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 4 3 2\r#step 2\rcolnames(occur) \u0026lt;- c(\u0026quot;A\u0026quot;, \u0026quot;B\u0026quot;, \u0026quot;C\u0026quot;)\roccur\r#\u0026gt; A B C\r#\u0026gt; [1,] 4 3 2\r#step 3\roccur \u0026lt;- as.table(occur)\roccur\r#\u0026gt; A B C\r#\u0026gt; A 4 3 2\rattributes(occur)\r#\u0026gt; $dim\r#\u0026gt; [1] 1 3\r#\u0026gt; #\u0026gt; $dimnames\r#\u0026gt; $dimnames[[1]]\r#\u0026gt; [1] \u0026quot;A\u0026quot;\r#\u0026gt; #\u0026gt; $dimnames[[2]]\r#\u0026gt; [1] \u0026quot;A\u0026quot; \u0026quot;B\u0026quot; \u0026quot;C\u0026quot;\r#\u0026gt; #\u0026gt; #\u0026gt; $class\r#\u0026gt; [1] \u0026quot;table\u0026quot;\r Two Way Tables ÈÄôÂÄã‰æãÂ≠ê‰∏≠ÊúâÂÖ©ÂÄãÂïèÈ°å:Á¨¨1ÂÄãÂïèÈ°åÁöÑÁ≠îÊ°àÊúâ‚ÄúNever,‚Äù ‚ÄúSometimes,‚Äù or ‚ÄúAlways.‚Äù\nÁ¨¨2ÂÄãÂïèÈ°åÁöÑÁ≠îÊ°àÊúâ ‚ÄúYes,‚Äù ‚ÄúNo,‚Äù or ‚ÄúMaybe.‚Äù ÂÖ©ÂÄãÂïèÈ°åÂàÜÂà•‰ª•ÂêëÈáèa,bÂ≠òÊîæ( The set of vectors ‚Äúa,‚Äù and ‚Äúb,‚Äù contain the response for each measurement.)\na \u0026lt;- c(\u0026quot;Sometimes\u0026quot;, \u0026quot;Sometimes\u0026quot;, \u0026quot;Never\u0026quot;, \u0026quot;Always\u0026quot;, \u0026quot;Always\u0026quot;, \u0026quot;Sometimes\u0026quot;, \u0026quot;Sometimes\u0026quot;, \u0026quot;Never\u0026quot;)\rb \u0026lt;- c(\u0026quot;Maybe\u0026quot;, \u0026quot;Maybe\u0026quot;, \u0026quot;Yes\u0026quot;, \u0026quot;Maybe\u0026quot;, \u0026quot;Maybe\u0026quot;, \u0026quot;No\u0026quot;, \u0026quot;Yes\u0026quot;, \u0026quot;No\u0026quot;)\rresults \u0026lt;- table(a, b)\rresults\r#\u0026gt; b\r#\u0026gt; a Maybe No Yes\r#\u0026gt; Always 2 0 0\r#\u0026gt; Never 0 1 1\r#\u0026gt; Sometimes 2 1 1\r Âú®Ë°®Ê†º‰∏≠,ÂèØ‰ª•ÁúãÂà∞ÂêåÊôÇÂõûÁ≠î ‚ÄúMaybe‚Äù ‚ÄúSometimes‚Äù ÁöÑÂÄãÊï∏ÊúâÂπæÂÄã„ÄÇ\nÈÄôË£°ÊòØÂè¶‰∏ÄÂÄãÁõ¥Êé•Áî±ÊàëÂÄëÁü•ÈÅìÁöÑÊï∏ÊìöÂª∫Á´ãtableÁöÑ‰æãÂ≠ê\nsexsmoke \u0026lt;- matrix(c(70, 120, 65, 140), ncol = 2, byrow = TRUE)\rrownames(sexsmoke) \u0026lt;- c(\u0026quot;male\u0026quot;, \u0026quot;female\u0026quot;)\rcolnames(sexsmoke) \u0026lt;- c(\u0026quot;smoke\u0026quot;, \u0026quot;nosmoke\u0026quot;)\rsexsmoke \u0026lt;- as.table(sexsmoke)\rsexsmoke\r#\u0026gt; smoke nosmoke\r#\u0026gt; male 70 120\r#\u0026gt; female 65 140\r"},
{"uri": "/blogR//rlang/5_objectbasic.html","title": "5 RÁöÑÁâ©‰ª∂Áõ∏ÈóúÊ¶ÇÂøµ",
	"tags": [],
	"description": "Áâ©‰ª∂",
	"content": "attribute Á∞°ÂñÆÁêÜËß£ÁÇ∫Áâ©‰ª∂Â±¨ÊÄß,‰æãÂ¶ÇÁü©Èô£(matrix)Èô£Âàó(array)ÁöÑnamesÂíådimenstions„ÄÇ\nDefinitions:\n ÂáΩÊï∏ attributes Ë®≠ÂÆöÊàñÂàóÂá∫Áâ©‰ª∂ÁöÑÊâÄÊúâattributes„ÄÇ ÂáΩÊï∏ attr Áâ©‰ª∂‰∏≠ÊüêÂÄãÊåáÂÆöÁöÑattribute. ÂáΩÊï∏structure Ë®≠ÂÆöË≥áÊñôÁâ©‰ª∂‰∏≠ÂÖ∂‰ªñÈ°çÂ§ñÁöÑ attributes„ÄÇ  ‰ΩøÁî®ÊñπÊ≥ï\nattributes(my.array)\r#\u0026gt; $dim\r#\u0026gt; [1] 3 4 2\r Ë®≠ÂÆöÂíåÂ≠òÂèñÂÖ∂‰∏≠‰∏ÄÂÄãÂ±¨ÊÄß:\nattr(baskets.team,'season') \u0026lt;- '2010-2011'\rattr(baskets.team,'season')\r#\u0026gt; [1] \u0026quot;2010-2011\u0026quot;\r Â¶ÇÊûúË¶ÅÂà™Èô§,Ââá\nattr(baskets.team,'season') \u0026lt;- NULL\r ÂÖ∂‰ªñ attr() \u0026amp; attributes()„ÄÄÁØÑ‰æã\nattributes(data) #üè∑ÊâÄÊúâÁöÑattributes\rattr(x = data, which = \u0026quot;attribute_name\u0026quot;) # üè∑Âè™ÊòØÂÖ∂‰∏≠‰πã‰∏Ä,Á¨¨‰∫åÂÄãÂèÉÊï∏ÊåáÂÆö\r# ÊØîËºÉ structure(data, dim = c(2, 6))\r ÁØÑ‰æã ËºâÂÖ•Ë≥áÊñôÈõÜÁÑ∂ÂæåÂà©Áî®ÂáΩÊï∏ÁúãÁúãdata.frameÊúâÁîöÈ∫ºattribute„ÄÇ\ndata(cars) attributes(cars) #\u0026gt; $names\r#\u0026gt; [1] \u0026quot;speed\u0026quot; \u0026quot;dist\u0026quot; #\u0026gt; #\u0026gt; $class\r#\u0026gt; [1] \u0026quot;data.frame\u0026quot;\r#\u0026gt; #\u0026gt; $row.names\r#\u0026gt; [1] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25\r#\u0026gt; [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50\rattr(x = cars, which = \u0026quot;names\u0026quot;) #üè∑üëèÊàñÊòØÂØ´Êàê„ÄÄattr(cars,\u0026quot;names\u0026quot;)\r#\u0026gt; [1] \u0026quot;speed\u0026quot; \u0026quot;dist\u0026quot;\r ÊØîËºÉ‰∏Ä‰∏ãnames,ÂèØ‰ª•ÁôºÁèæ,names Âè™ÊòØ‰∏ÄÂÄãdata.frame‰∏≠ÁöÑattribute\nclass(cars)\r#\u0026gt; [1] \u0026quot;data.frame\u0026quot;\rstr(cars)\r#\u0026gt; 'data.frame':\t50 obs. of 2 variables:\r#\u0026gt; $ speed: num 4 4 7 7 8 9 10 10 10 11 ...\r#\u0026gt; $ dist : num 2 10 4 22 16 10 18 26 34 17 ...\rnames(cars)\r#\u0026gt; [1] \u0026quot;speed\u0026quot; \u0026quot;dist\u0026quot;\r \r\rÁØÑ‰æã attributes_list \u0026lt;- list(names = c(\u0026quot;col1\u0026quot;, \u0026quot;col2\u0026quot;), #Ë®≠ÂÆö‰∏çÂêåÁöÑÊ¨Ñ‰ΩçÂêçÁ®±\rclass = \u0026quot;data.frame\u0026quot;, # ‰øùÁïôÈ°ûÂà•\rrow.names = nrow(cars):1) # ÂèçÂêë\rattributes(cars) \u0026lt;- attributes_list # üè∑üëèË®≠ÂÆöÂ±¨ÊÄß\rattributes(cars) #\u0026gt; $names\r#\u0026gt; [1] \u0026quot;col1\u0026quot; \u0026quot;col2\u0026quot;\r#\u0026gt; #\u0026gt; $class\r#\u0026gt; [1] \u0026quot;data.frame\u0026quot;\r#\u0026gt; #\u0026gt; $row.names\r#\u0026gt; [1] 50 49 48 47 46 45 44 43 42 41 40 39 38 37 36 35 34 33 32 31 30 29 28 27 26\r#\u0026gt; [26] 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1\r Âà©Áî®attr() ÊîπËÆäÂÖ∂‰∏≠‰∏ÄÂÄãAttribute attr(x = cars, which = \u0026quot;names\u0026quot;) \u0026lt;- c(\u0026quot;aaa\u0026quot;, \u0026quot;bbb\u0026quot;) # Set only names attribute\rx\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'x'\r Ê™¢Êü•ÁúãÁúãÁµêÊûú\nattributes(cars) # Apply attributes function\r#\u0026gt; $names\r#\u0026gt; [1] \u0026quot;aaa\u0026quot; \u0026quot;bbb\u0026quot;\r#\u0026gt; #\u0026gt; $class\r#\u0026gt; [1] \u0026quot;data.frame\u0026quot;\r#\u0026gt; #\u0026gt; $row.names\r#\u0026gt; [1] 50 49 48 47 46 45 44 43 42 41 40 39 38 37 36 35 34 33 32 31 30 29 28 27 26\r#\u0026gt; [26] 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1\r „ÄÄThe R structure Function Âíåattributes() attr() Áõ∏ÈóúÁöÑÂëΩ‰ª§ÊòØ structure() „ÄÇ\nset.seed(12345) vec \u0026lt;- round(runif(15, 0, 10)) # 1D ÂêëÈáè vec\r#\u0026gt; [1] 7 9 8 9 5 2 3 5 7 10 0 2 7 0 4\r ÊîπËÆäÊàêÁü©Èô£:\nvec_dim \u0026lt;- structure(vec, dim = c(3, 5)) # Change dimension of vector\rvec_dim # Print updated vector\r#\u0026gt; [,1] [,2] [,3] [,4] [,5]\r#\u0026gt; [1,] 7 9 3 10 7\r#\u0026gt; [2,] 9 5 5 0 0\r#\u0026gt; [3,] 8 2 7 2 4\r ÊØîËºÉ‰πãÂâçÁöÑÂØ´Ê≥ï:\nmatrix(vec,nrow=3)\r Example: ÈÄôË£°Âª∫Á´ã‰∏ÄÂÄãlistÔºåÁÑ∂ÂæåÊääÂÖ∂È§òÁöÑÂèÉÊï∏Áï∂‰ΩúÂ±¨ÊÄßÔºåÁ∂Å‰∏äÈÄôÂÄãlist\ndd \u0026lt;- structure(\rlist(year = c(2001, 2002, 2004, 2006) ,\rlength_days = c(366.3240, 365.4124, 366.5323423, 364.9573234)) ,.Names = c(\u0026quot;year\u0026quot;, \u0026quot;length of days\u0026quot;) ,row.names = c(NA, -4L) ,class = \u0026quot;data.frame\u0026quot;)\rdd\r year length of days   2001 366.3240  2002 365.4124  2004 366.5323  2006 364.9573     str(dd)\r#\u0026gt; 'data.frame':\t4 obs. of 2 variables:\r#\u0026gt; $ year : num 2001 2002 2004 2006\r#\u0026gt; $ length of days: num 366 365 367 365\r ddÁöÑmeta data:\nattributes(dd)\r#\u0026gt; $names\r#\u0026gt; [1] \u0026quot;year\u0026quot; \u0026quot;length of days\u0026quot;\r#\u0026gt; #\u0026gt; $row.names\r#\u0026gt; [1] 1 2 3 4\r#\u0026gt; #\u0026gt; $class\r#\u0026gt; [1] \u0026quot;data.frame\u0026quot;\r Âà©Áî®structure()Âª∫Á´ãÁöÑÁâ©‰ª∂,‰∏çÁÆ°ÊòØÂêåË≥™(vector,matrix)ÈÇÑÊòØÁï∞Ë≥™(data.frame,list) ÈÉΩÊúÉÂà©Áî®attributesÂÑ≤Â≠òmeta data„ÄÇ‰æãÂ¶Ç,\njust_vector \u0026lt;- structure(1:10, comment = \u0026quot;This is my simple vector with info\u0026quot;)\rjust_vector\r#\u0026gt; [1] 1 2 3 4 5 6 7 8 9 10\rstr(just_vector)\r#\u0026gt; int [1:10] 1 2 3 4 5 6 7 8 9 10\r#\u0026gt; - attr(*, \u0026quot;comment\u0026quot;)= chr \u0026quot;This is my simple vector with info\u0026quot;\rattributes(just_vector)„ÄÄ# üè∑üëèÊ≥®ÊÑè:attributes()ÁöÑÂÇ≥ÂõûÁµêÊûúÁÇ∫list,Âõ†Ê≠§Êúâ$comment\r#\u0026gt; $comment\r#\u0026gt; [1] \u0026quot;This is my simple vector with info\u0026quot;\r ÂáΩÊï∏structure() vs str() ÈÄôÊòØÂè¶‰∏ÄÂÄãÂà©Áî®ÂáΩÊï∏structure()ÁöÑ‰æãÂ≠ê„ÄÇÂÖàÁúã‰∏Ä‰∏ã‰∏ÄËà¨Âª∫Á´ãdata.frameÁâ©‰ª∂ÁöÑÊñπÊ≥ï:\nyear = c(1999, 2002, 2005, 2008)\rpollution = c(346.82,134.308821199349, 130.430379885892, 88.275457392443)\rdd2 \u0026lt;- data.frame(year,pollution)\rdd2$year \u0026lt;- as.factor(dd2$year)\r Âà©Áî® structure, ‰∏ÄÊ≠•Â∞±ÂèØ‰ª•ÂÆåÊàê:\ndd \u0026lt;- structure(list( year = as.factor(c(2001, 2002, 2004, 2006))\r,length_days = c(366.3240, 365.4124, 366.5323423, 364.9573234)) ,.Names = c(\u0026quot;year\u0026quot;, \u0026quot;length of days\u0026quot;) ,row.names = c(NA, -4L) ,class = \u0026quot;data.frame\u0026quot;)\r ‰∏ç‰æùÈù†ËΩâÊèõÂáΩÊï∏as.data.frame()Ëá™Ë°åÂª∫Á´ã data.frameÁâ©‰ª∂„ÄÇ\ndd3 \u0026lt;- structure(list(\rv1 = as.factor(c(2001, 2002, 2004, 2006))\r,v2 = I(c(2001, 2002, 2004, 2006))\r,v3 = ordered(c(2001, 2002, 2004, 2006))\r,v4 = as.double(c(366.3240, 365.4124, 366.5323423, 364.9573234)))\r,.Names = c(\u0026quot;year\u0026quot;, \u0026quot;AsIs Year\u0026quot;,\u0026quot;yearO\u0026quot;, \u0026quot;length of days\u0026quot;)\r,.typeOf = c(\u0026quot;factor\u0026quot;, \u0026quot;numeric\u0026quot;, \u0026quot;ordered\u0026quot;,\u0026quot;numeric\u0026quot;)\r,row.names = c(NA, -4L)\r,class = \u0026quot;data.frame\u0026quot;\r,comment = \u0026quot;Ordered YearO for categorical analysis and other variables\u0026quot;)\rattributes(dd3)$comment # üè∑üëèÁúã‰∏Ä‰∏ãÁµêÊûú\r#\u0026gt; [1] \u0026quot;Ordered YearO for categorical analysis and other variables\u0026quot;\rattr(dd3, which=\u0026quot;comment\u0026quot;)\r#\u0026gt; [1] \u0026quot;Ordered YearO for categorical analysis and other variables\u0026quot;\r"},
{"uri": "/blogR//rlang/5_1_%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91s3.html","title": "5.1 Áâ©‰ª∂Â∞éÂêëS3",
	"tags": [],
	"description": "5_1_Áâ©‰ª∂Â∞éÂêëS3",
	"content": "OOP advance R\nBase objects vs OO objects Ëæ®Âà•ËÆäÊï∏ÊòØÂü∫Á§éÂûãÂà•ÊàñÊòØÁâ©‰ª∂ÂûãÂà•ÔºåÂèØ‰ª•Á∞°ÂñÆÂà©Áî®ÂáΩÊï∏Ôºö is.object():\nÂü∫Á§éÁâ©‰ª∂base object:\nis.object(1:10)\r#\u0026gt; [1] FALSE\r [1] FALSE\nÁâ©‰ª∂Â∞éÂêëÁâ©‰ª∂ OO object\nis.object(mtcars)\r#\u0026gt; [1] TRUE\r [1] TRUE\n‰∏ªË¶ÅÁöÑÂçÄÂà•Âú®ÊñºÂü∫Êú¨Áâ©‰ª∂Ê≤íÊúâclass ÈÄôÂÄãattribute\nattr(1:10, \u0026quot;class\u0026quot;) # NULL\r#\u0026gt; NULL\rattr(mtcars, \u0026quot;class\u0026quot;) # [1] \u0026quot;data.frame\u0026quot;\r#\u0026gt; [1] \u0026quot;data.frame\u0026quot;\r class()ÈÄôÂÄãÂáΩÊï∏,‰∏çË¶ãÂæóÁ∏ΩÊòØÊúÉÂíåattr()ÁöÑÁµêÊûú‰∏ÄËá¥,Âõ†ÁÇ∫ÔºåÂ∞çÂü∫Êú¨Áâ©‰ª∂ËÄåË®Ä,ÂÇ≥ÂõûÁöÑÊòØÂæåÈù¢Ë®éË´ñ,ËÄå‰∏çÊòØ NULL„ÄÇ\nËÆäÊï∏Â±¨ÊÄßÊü•Ë©¢ÂáΩÊï∏  names() dimnames() length() dim(): ÂêÑÁ∂≠Â∫¶Èï∑Â∫¶ class() : ËÆäÊï∏È°ûÂà• table()ÔºöÂêÑÈ°ûË≥áÊñôË®àÊï∏ str()ÔºöËÆäÊï∏ÁöÑË≥áÊñôÁµêÊßã(ÂÖ∂ÂØ¶ÊòØ‰∏ÄÂÄãlist)  ÈÄèÈÅénames()ÂáΩÊï∏ÔºåÂèØÂèñÂæóÂêÑÁ®ÆlistÂÖÉÁ¥†ÁöÑÂêçÁ®±,‰ΩÜÊòØÂ¶ÇÊûúÊòØdata.frameÂâáÊòØÈ°ØÁ§∫Ê¨Ñ‰ΩçÂêçÁ®± islandsÊòØÂÖßÂª∫Ë≥áÊñô\nstr(islands)\r#\u0026gt; Named num [1:48] 11506 5500 16988 2968 16 ...\r#\u0026gt; - attr(*, \u0026quot;names\u0026quot;)= chr [1:48] \u0026quot;Africa\u0026quot; \u0026quot;Antarctica\u0026quot; \u0026quot;Asia\u0026quot; \u0026quot;Australia\u0026quot; ...\r head(names(islands)) #\u0026gt; [1] \u0026quot;Africa\u0026quot; \u0026quot;Antarctica\u0026quot; \u0026quot;Asia\u0026quot; \u0026quot;Australia\u0026quot; \u0026quot;Axel Heiberg\u0026quot;\r#\u0026gt; [6] \u0026quot;Baffin\u0026quot;\r ÊñπÂΩ¢Ë≥áÊñôÔºà‰æãÂ¶ÇÔºåÁü©Èô£Ôºåtable, data.frame)ÔºåÂèØ‰ª•ÈÄèÈÅédimnames()ÂáΩÊï∏ÂèØÈ°ØÁ§∫data.frame Ê©´Ë°åÂíåÁõ¥Ë°åÁöÑÂêçÁ®± ÂÖàÊ©´Ë°åÔºåÁÑ∂ÂæåÁõ¥Ë°å„ÄÇ\ndimnames(USArrests) #\u0026gt; [[1]]\r#\u0026gt; [1] \u0026quot;Alabama\u0026quot; \u0026quot;Alaska\u0026quot; \u0026quot;Arizona\u0026quot; \u0026quot;Arkansas\u0026quot; #\u0026gt; [5] \u0026quot;California\u0026quot; \u0026quot;Colorado\u0026quot; \u0026quot;Connecticut\u0026quot; \u0026quot;Delaware\u0026quot; #\u0026gt; [9] \u0026quot;Florida\u0026quot; \u0026quot;Georgia\u0026quot; \u0026quot;Hawaii\u0026quot; \u0026quot;Idaho\u0026quot; #\u0026gt; [13] \u0026quot;Illinois\u0026quot; \u0026quot;Indiana\u0026quot; \u0026quot;Iowa\u0026quot; \u0026quot;Kansas\u0026quot; #\u0026gt; [17] \u0026quot;Kentucky\u0026quot; \u0026quot;Louisiana\u0026quot; \u0026quot;Maine\u0026quot; \u0026quot;Maryland\u0026quot; #\u0026gt; [21] \u0026quot;Massachusetts\u0026quot; \u0026quot;Michigan\u0026quot; \u0026quot;Minnesota\u0026quot; \u0026quot;Mississippi\u0026quot; #\u0026gt; [25] \u0026quot;Missouri\u0026quot; \u0026quot;Montana\u0026quot; \u0026quot;Nebraska\u0026quot; \u0026quot;Nevada\u0026quot; #\u0026gt; [29] \u0026quot;New Hampshire\u0026quot; \u0026quot;New Jersey\u0026quot; \u0026quot;New Mexico\u0026quot; \u0026quot;New York\u0026quot; #\u0026gt; [33] \u0026quot;North Carolina\u0026quot; \u0026quot;North Dakota\u0026quot; \u0026quot;Ohio\u0026quot; \u0026quot;Oklahoma\u0026quot; #\u0026gt; [37] \u0026quot;Oregon\u0026quot; \u0026quot;Pennsylvania\u0026quot; \u0026quot;Rhode Island\u0026quot; \u0026quot;South Carolina\u0026quot;\r#\u0026gt; [41] \u0026quot;South Dakota\u0026quot; \u0026quot;Tennessee\u0026quot; \u0026quot;Texas\u0026quot; \u0026quot;Utah\u0026quot; #\u0026gt; [45] \u0026quot;Vermont\u0026quot; \u0026quot;Virginia\u0026quot; \u0026quot;Washington\u0026quot; \u0026quot;West Virginia\u0026quot; #\u0026gt; [49] \u0026quot;Wisconsin\u0026quot; \u0026quot;Wyoming\u0026quot; #\u0026gt; #\u0026gt; [[2]]\r#\u0026gt; [1] \u0026quot;Murder\u0026quot; \u0026quot;Assault\u0026quot; \u0026quot;UrbanPop\u0026quot; \u0026quot;Rape\u0026quot;\r ÊñπÂΩ¢Ë≥áÊñôÔºåÂèØ‰ª•ÈÄèÈÅélength()ÂáΩÊï∏ÂèØÈ°ØÁ§∫Ë≥áÊñôÈï∑Â∫¶Ôºå‰ΩÜÊòØÂ¶ÇÊûúÊòØdata.frameÂâáÈ°ØÁ§∫Ê¨Ñ‰ΩçÊï∏„ÄÇ\nlength(islands) #\u0026gt; [1] 48\r ÈÄèÈÅédim() È°ØÁ§∫ÊñπÂΩ¢Ë≥áÊñôÁöÑ„ÄåË≥áÊñôÁ≠ÜÊï∏„ÄçÂíå„ÄåÊ¨Ñ‰ΩçÊï∏ÁõÆ„ÄçÔºåÂÖà„ÄåÊ©´Ë°å„ÄçÔºåÂæå„ÄåÁõ¥Ë°å„Äç\ndim(USArrests) #\u0026gt; [1] 50 4\r ‰ΩøÁî®class()ÂáΩÊï∏ÂèØÁü•ÈÅìËÆäÊï∏È°ûÂà•\nclass(pi)\r#\u0026gt; [1] \u0026quot;numeric\u0026quot;\rclass(Sys.Date())\r#\u0026gt; [1] \u0026quot;Date\u0026quot;\r ‰ΩøÁî®table()ÂáΩÊï∏ÂèØÁü•ÈÅìÂêëÈáè‰∏≠ÊØèÂÄãÂÄºÂá∫ÁèæÂπæÊ¨°\ntable(iris$Species) ##Áµ±Ë®àÁµêÊûú\r#\u0026gt; #\u0026gt; setosa versicolor virginica #\u0026gt; 50 50 50\r S3 Prerequisites {-} We'll use the sloop package to fill in some missing pieces when it comes to S3.\n# install_github(\u0026quot;hadley/sloop\u0026quot;)\rlibrary(sloop)\r Basics Âü∫Êú¨‰∏äÊòØÁµêÊßãÁöÑ‰∏ÄÁ®ÆÂçîÂÆö„ÄÇÊàëÁöÑÊÑèÊÄùÈÄôÂÄãÁâ©‰ª∂ÊòØÂü∫ÊñºÁµêÊßãËÄåË¶èÂÆöÔºåÊòØË™ûÊÑè‰∏äÁöÑÂÖßË¶èËÄå‰∏çÊòØË™ûÊ≥ï‰∏äÁöÑË¶èÂÆö„ÄÇ ‰æãÂ¶ÇÔºåÊâÄË¨ÇÁöÑÈ°ûÂà•ÔºåÂè™‰∏çÈÅéÊòØÁµêÊßã‰∏äÁöÑ‰∏ÄÂÄãÂÖ∂‰∏≠‰∏ÄÂÄãÊ¨Ñ‰ΩçÔºåËÄåÈÄôÂÄãÊ¨Ñ‰ΩçÂêçÁ®±ÁÇ∫class\nf \u0026lt;- factor(\u0026quot;a\u0026quot;)\rtypeof(f)\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\rattributes(f)\r#\u0026gt; $levels\r#\u0026gt; [1] \u0026quot;a\u0026quot;\r#\u0026gt; #\u0026gt; $class\r#\u0026gt; [1] \u0026quot;factor\u0026quot;\r ÈÖçÂêàÈÄöÁî®ÂáΩÊï∏generic functionÁöÑËßÄÂøµ(‰æãÂ¶ÇÂ∏∏Ë¶ãÁöÑprint())ÔºåËÄåÈÅîÂà∞ÔºØÔºØÔº∞ÁöÑÁõÆÁöÑ„ÄÇ\nprint(f)\r#\u0026gt; [1] a\r#\u0026gt; Levels: a\rclass(unclass(f))\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\rprint(unclass(f))„ÄÄ#üè∑üëèunclassÊúÉÂéªÊéâÂ±¨ÊÄßclass\r#\u0026gt; [1] 1\r#\u0026gt; attr(,\u0026quot;levels\u0026quot;)\r#\u0026gt; [1] \u0026quot;a\u0026quot;\r time \u0026lt;- strptime(\u0026quot;2017-01-01\u0026quot;, \u0026quot;%Y-%m-%d\u0026quot;)\rstr(time)\r#\u0026gt; POSIXlt[1:1], format: \u0026quot;2017-01-01\u0026quot;\rstr(unclass(time), list.len = 5)\r#\u0026gt; List of 11\r#\u0026gt; $ sec : num 0\r#\u0026gt; $ min : int 0\r#\u0026gt; $ hour : int 0\r#\u0026gt; $ mday : int 1\r#\u0026gt; $ mon : int 0\r#\u0026gt; [list output truncated]\r A generic and its methods are functions that operate on classes. The role of a generic is to find the right method for the arguments that it is provided, the process of method dispatch. A method is a function that implements the generic behaviour for a specific class. In other words the job of the generic is to find the right method; the job of the method is to do the work.\nYou can find some S3 methods (those in the base package and those that you've created) by typing their names. However, this will not work with most packages because S3 methods are not exported: they live only inside the package, and are not available from the global environment. Instead, you can use getS3method(), which will work regardless of where the method lives:\nS3 methods ÊòØÊàëÂÄëÂÆöÁæ©‰∫Ü‰∏ÄÂÄãÈÄöÁî®ÂêçÁ®±ÔºåÁÑ∂ÂæåÁ∂ìÁî±ÈÄôÂÄãÈÄöÁî®ÂêçÁ®±ÔºåÊâæÂà∞ÁâπÂÆöÂáΩÊï∏ÈÄöÁî®.È°ûÂà•()Ôºå‰æãÂ¶Ç Áï∂ÊàëË¶ÅË®àÁÆóÊó•ÊúüÁöÑÂπ≥ÂùáÔºåÊàëÊää‰∏ÄÂÄãÊó•ÊúüËÆäÊï∏ÂÇ≥Âà∞ÂáΩÊï∏mean()ÔºåÈÄöÁî®ÂáΩÊï∏mean()ÂèàÂëºÂè´‰∫Ü mean.Date()ÔºàÂõ†ÁÇ∫Êó•ÊúüËÆäÊï∏ÁöÑÈ°ûÂà•ÊòØDateÔºâ, Âèà‰æãÂ¶ÇfactorËÆäÊï∏ÔºåË¶ÅÂàóÂç∞ÁöÑÊôÇÂÄôÊàëÂÄëÊúÉÊâìprint(factor var) Ê≠§ÊôÇprint()ÂèàÊúÉÂëºÂè´ print.factor().\nmean.Date #üè∑üëè\r#\u0026gt; function (x, ...) #\u0026gt; .Date(mean(unclass(x), ...))\r#\u0026gt; \u0026lt;bytecode: 0x0000000017c30d30=\u0026quot;\u0026quot;\u0026gt;\r#\u0026gt; \u0026lt;environment: namespace:base=\u0026quot;\u0026quot;\u0026gt;\r# Always works\rgetS3method(\u0026quot;mean\u0026quot;, \u0026quot;Date\u0026quot;)\r#\u0026gt; function (x, ...) #\u0026gt; .Date(mean(unclass(x), ...))\r#\u0026gt; \u0026lt;bytecode: 0x0000000017c30d30=\u0026quot;\u0026quot;\u0026gt;\r#\u0026gt; \u0026lt;environment: namespace:base=\u0026quot;\u0026quot;\u0026gt;\r\u0026lt;/environment:\u0026gt;\u0026lt;/bytecode:\u0026gt;\u0026lt;/environment:\u0026gt;\u0026lt;/bytecode:\u0026gt;\r note: Èô§‰∫ÜËá™Â∑±ÂÆöÁæ©ÁöÑÂáΩÊï∏ÂíåÂú®baseÂ•ó‰ª∂ÁöÑÂáΩÊï∏‰ª•Â§ñÔºåÂ§ßÈÉ®ÂàÜÈÉΩÊãø‰∏çÂà∞ÔºåËÄåË¶ÅÈÄèÈÅé getS3method(\u0026quot;generic\u0026quot;, \u0026quot;class\u0026quot;) ‰æÜÁúãÂà∞Á®ãÂºèÁ¢º\nClasses Ëá™Ë°åÂª∫Á´ãËá™Â∑±ÁöÑÈ°ûÂà•ÔºåÂà©Áî®structure()\n# Create and assign class in one step\rfoo \u0026lt;- structure(list(), class = \u0026quot;foo\u0026quot;)\r# Create, then set class\rfoo \u0026lt;- list()\rclass(foo) \u0026lt;- \u0026quot;foo\u0026quot;\r È°ûÂà•ÂèØËÉΩÂÖ©Á®Æ‰ª•‰∏äÔºåÊ≠§ÊôÇÂèØ‰ª•Áî®ÂáΩÊï∏inherits()\nclass(foo)\r#\u0026gt; [1] \u0026quot;foo\u0026quot;\rinherits(foo, \u0026quot;foo\u0026quot;)\r#\u0026gt; [1] TRUE\r ‰∏ÄÊ¨°ÂÆöÁæ©Â§öÂÄãÈ°ûÂà•ÁöÑ‰æãÂ≠êÔºö\nstructure(x, class = c(\u0026quot;POSIXct\u0026quot;, \u0026quot;POSIXt\u0026quot;),\rtzone = tzone\r)\r S3 has no checks for correctness. This means you can change the class of existing objects:\n# Create a linear model\rmod \u0026lt;- lm(log(mpg) ~ log(disp), data = mtcars)\rclass(mod)\r#\u0026gt; [1] \u0026quot;lm\u0026quot;\rprint(mod)\r#\u0026gt; #\u0026gt; Call:\r#\u0026gt; lm(formula = log(mpg) ~ log(disp), data = mtcars)\r#\u0026gt; #\u0026gt; Coefficients:\r#\u0026gt; (Intercept) log(disp) #\u0026gt; 5.3810 -0.4586\r# Turn it into a data frame (?!)\rclass(mod) \u0026lt;- \u0026quot;data.frame\u0026quot;\r# Unsurprisingly this doesn't work very well\rprint(mod)\r#\u0026gt; [1] coefficients residuals effects rank fitted.values\r#\u0026gt; [6] assign qr df.residual xlevels call #\u0026gt; [11] terms model #\u0026gt; \u0026lt;0 Âàó\u0026gt; (ÊàñÈõ∂Èï∑Â∫¶ÁöÑ row.names)\r Constructors Âõ†ÁÇ∫ÊòØË™ûÊÑè‰∏äÁöÑÔºØÔºØÔº∞ÔºåÂõ†Ê≠§ÔºåÂª∫ÊßãÂ≠ê‰πüÊòØËá™Â∑±Ë¶èÂÆöË¶ÅÊÄéÊ®£Ôºå‰æãÂ¶ÇÊ®°‰ªøÔºØÔºØÔº∞ÁöÑÈÄöÂâáÁî®newÈÄôÂÄãÈóúÈçµÂ≠ó\nnew_Date \u0026lt;- function(x) {\rstopifnot(is.double(x))\rstructure(x, class = \u0026quot;Date\u0026quot;)\r}\rnew_Date(c(-1, 0, 1))\r#\u0026gt; [1] \u0026quot;1969-12-31\u0026quot; \u0026quot;1970-01-01\u0026quot; \u0026quot;1970-01-02\u0026quot;\r ÁúãÁúãÊåá‰ª§lm()Áî¢ÁîüÁöÑÁâ©‰ª∂\nmod \u0026lt;- lm(mpg ~ wt, data = mtcars)\rtypeof(mod)\r#\u0026gt; [1] \u0026quot;list\u0026quot;\rnames(mod)\r#\u0026gt; [1] \u0026quot;coefficients\u0026quot; \u0026quot;residuals\u0026quot; \u0026quot;effects\u0026quot; \u0026quot;rank\u0026quot; #\u0026gt; [5] \u0026quot;fitted.values\u0026quot; \u0026quot;assign\u0026quot; \u0026quot;qr\u0026quot; \u0026quot;df.residual\u0026quot; #\u0026gt; [9] \u0026quot;xlevels\u0026quot; \u0026quot;call\u0026quot; \u0026quot;terms\u0026quot; \u0026quot;model\u0026quot;\r ÈÄôË£°Ëàâ‰∏ÄÂÄãÂ≠óÈçµÈ°ûÂûãÔºàÊú¨‰æã‰∏≠Ôºådf_classÔºâÁöÑ‰æãÂ≠ê\nnew_df_class \u0026lt;- function(df, attr1, attr2) {\rstopifnot(is.data.frame(df))\rstructure(\rdf, attr1 = attr1,\rattr2 = attr2,\rclass = c(\u0026quot;df_class\u0026quot;, \u0026quot;data.frame\u0026quot;) )\r}\r ‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåclassÁöÑÈ†ÜÂ∫èÊòØÊúâÊÑèÁæ©ÁöÑÔºåÊÑèÊÄùÊòØdf_classÁπºÊâøËá™data.frame\nGenerics and methods ÈÄèÈÅéÈÄöÁî®ÂáΩÊï∏Ë¶ÅÈÅîÊàêÔºØÔºØÔº∞ÁöÑÂ§öÂûãÂáΩÊï∏(dispatch)„ÄÇ S3ÈÄôÂÄãÂ§öÂûãÂáΩÊï∏ÔºåÂà©Áî® UseMethod(), ‰æÜÂëºÂè´È°ûÂà•Â∞çÊáâÁöÑÂáΩÊï∏„ÄÇ UseMethod() ÂÖ©ÂÄãÂèÉÊï∏Ôºå‰∏ÄÂÄãÊòØÂáΩÊï∏ÂêçÁ®±ÔºåÁÑ∂ÂæåÊòØË¶ÅÂÇ≥ÈÄ≤ÂéªÁöÑÂèÉÊï∏ÔºàÂèØÁúÅÁï•Ôºâ„ÄÇ\n# Dispatches on x\rgeneric \u0026lt;- function(x, y, ...) {\rUseMethod(\u0026quot;generic\u0026quot;)\r}\r# Dispatches on y\rgeneric2 \u0026lt;- function(x, y, ...) {\rUseMethod(\u0026quot;generic2\u0026quot;, y)\r}\r Note that you don't pass any of the arguments of the generic to UseMethod(); it uses black magic to pass them on automatically. Generally, you should avoid doing any computation in a generic, because the semantics are complicated and few people know the details. In general, any modifications to the arguments of the generic will be undone, leading to much confusion.\nA generic isn't useful without some methods, which are just functions that follow a naming scheme (generic.class). Because a method is just a function with a special name, you can call methods directly, but you generally shouldn't. The main reason to call the method directly is that it sometimes leads to considerable performance improvements. See performance for an example.\ngeneric.foo \u0026lt;- function(x, y, ...) {\rmessage(\u0026quot;foo method\u0026quot;)\r}\rgeneric(new_s3_scalar(class = \u0026quot;foo\u0026quot;))\r#\u0026gt; Error in new_s3_scalar(class = \u0026quot;foo\u0026quot;): Ê≤íÊúâÈÄôÂÄãÂáΩÂºè \u0026quot;new_s3_scalar\u0026quot;\r You can see all the methods defined for a generic with s3_methods_generic():\ns3_methods_generic(\u0026quot;generic\u0026quot;)\r#\u0026gt; Error in .S3methods(generic.function, class, envir): no function 'generic' is visible\r Coercion Many S3 objects can be naturally created from an existing object through coercion. If this is the case for your class, you should provide a coercion function, an S3 generic called as_class_name. Base R generally does not follow this convention, which can cause problems as illustrated by as.factor(): Âú®Ôº≤‰∏≠as.factor‰∏¶‰∏çÊòØÂáΩÊï∏asÔºàÈùûÈÄöÁî®ÂáΩÊï∏ÔºâÁöÑÊ¥æÁôºÂáΩÊï∏„ÄÇ Â¶ÇÊûúÁèæÂú®ÊàëÂÄëË¶ÅËá™Â∑±Âª∫‰∏ÄÂÄãËΩâÊèõÊàêfactorÈ°ûÂà•ÁöÑÈÄöÁî®ÂáΩÊï∏\nas_factor \u0026lt;- function(x, ...) {\rUseMethod(\u0026quot;as_factor\u0026quot;)\r}\r ÂÖàÂÆöÁæ©‰∏ÄÂÄãÂ∞çÂ∑≤Á∂ìÊòØfactorÁöÑÂáΩÊï∏ÔºåÂ∞±ÊòØË™™Â¶ÇÊûúÂ∑≤Á∂ìÊòØfactorÈÇ£Â∞±‰∏çÂÅö‰ªª‰Ωï‰∫ãÔºåÂõ†ÁÇ∫‰∏çÁî®ËΩâÊèõ\nas_factor.factor \u0026lt;- function(x, ...) x\r ÁèæÂú®ÈáùÂ∞çÂ≠ó‰∏≤ÂíåÊï¥Êï∏ÂÆöÁæ©Áõ∏Â∞çÊáâÁöÑÊ¥æÁôºÂáΩÊï∏Ôºö\nas_factor.character \u0026lt;- function(x, ...) {\rfactor(x, levels = unique(x))\r}\ras_factor.integer \u0026lt;- function(x, ...) {\rfactor(x, levels = as.character(unique(x)))\r}\r Â∞çÊñº‰∏çËôïÁêÜÁöÑÈ°ûÂà•ÔºåÂèØ‰ª•Âà©Áî®default\nas_factor(1)\r#\u0026gt; Error in UseMethod(\u0026quot;as_factor\u0026quot;): Ê≤íÊúâÈÅ©Áî®ÁöÑÊñπÊ≥ïÂèØÂ∞á 'as_factor' Â•óÁî®Âà∞ \u0026quot;c('double', 'numeric')\u0026quot; È°ûÂà•ÁöÑÁâ©‰ª∂\ras_factor.default \u0026lt;- function(x, ...) {\rstop(\r\u0026quot;Don't know how to coerce object of class \u0026quot;, paste(class(x), collapse = \u0026quot;/\u0026quot;), \u0026quot; into a factor\u0026quot;, call. = FALSE\r)\r}\ras_factor(1)\r#\u0026gt; Error: Don't know how to coerce object of class numeric into a factor\r Arguments ÈÄöÂ∏∏ÈÄöÁî®ÂáΩÊï∏ÂíåÊ¥æÁôºÂáΩÊ®πÊúâÁõ∏ÂêåÁöÑÂèÉÊï∏ÂÄãÊï∏ÔºàÂ¶ÇÊûúÊòØÂ•ó‰ª∂ÈñãÁôºÔºåÂâá R CMD check ÊúÉÂº∑Ëø´ÈÄôÂÄãË¶èÂÆöÔºâÔºå‰ΩÜÊòØÂä†‰∫Ü ..., Â∞±ÂèØ‰ª•‰∏çÂèóÈÄôÂÄãÈôêÂà∂„ÄÇ\nMethod dispatch UseMethod() and NextMethod(). UseMethod() The purpose of UseMethod() Âà©Áî®Êåá‰ª§ paste0(\u0026quot;ÈÄöÁî®\u0026quot;, \u0026quot;.\u0026quot;, c(class(x), \u0026quot;default\u0026quot;)),ÁÑ∂ÂæåÂú®ÂÖ∂‰∏≠ÊâæÂá∫Â∞çÊáâÁöÑÊ¥æÁôºÂáΩÊï∏„ÄÇÈÄôË£°Âà©Áî® sloop::s3_dispatch(). ‰æÜÂàóÂá∫Ê¥æÁôºÂáΩÊï∏\nx \u0026lt;- Sys.time()\rs3_dispatch(print(x))\r#\u0026gt; =\u0026gt; print.POSIXct\r#\u0026gt; print.POSIXt\r#\u0026gt; * print.default\r Â¶Ç‰∏äÔºåÁï∂ÊàëÂÄëË¶ÅprintÂá∫ POSIXct Áâ©‰ª∂ÊôÇÊúÉÊÄéÊ®£?\nprint() will look for three possible methods, of which two exist, and one, print.POSIXct(), will be called. The last method is always the \u0026quot;default\u0026quot; method. This doesn't correspond to a specific class, so is a useful catch all.\nNextMethod() NextMethod()Áî®‰æÜË™øÁî®Ë¶™‰ª£È°ûÂà•‰∏≠ÁöÑÂ∞çÊáâÊ¥æÁôºÂáΩÊï∏„ÄÇÈÅîÊàêÔºØÔºØÔº∞‰∏≠Â∞±ÊòØÈ°û‰ººÁπºÊâøË¶™‰ª£ÂáΩÊï∏ÁöÑÊñπÊ≥ï„ÄÇ\nshowoff \u0026lt;- function(x) {\rUseMethod(\u0026quot;showoff\u0026quot;)\r}\rshowoff.default \u0026lt;- function(x) {\rmessage(\u0026quot;showoff.default\u0026quot;)\rTRUE\r}\rshowoff.a \u0026lt;- function(x) {\rmessage(\u0026quot;showoff.a\u0026quot;)\rNextMethod()„ÄÄ#üè∑üëèË™øÁî®\r}\rshowoff.b \u0026lt;- function(x) {\rmessage(\u0026quot;showoff.b\u0026quot;)\rNextMethod()\r}\r Âª∫Á´ã‰∏ÄÂÄãÁπºÊâøËá™bÈ°ûÂà•ÁöÑ,ËÄå‰∏îÊòØaÁöÑÁâ©‰ª∂„ÄÇ\nx \u0026lt;- structure(1,class = c(\u0026quot;b\u0026quot;, \u0026quot;a\u0026quot;)) # üè∑üëèb ÁπºÊâøËá™ a\rs3_dispatch(showoff(x))„ÄÄ#üè∑üëè s3_dispatch() shows that all three potential methods are available\r#\u0026gt; =\u0026gt; showoff.b\r#\u0026gt; -\u0026gt; showoff.a\r#\u0026gt; -\u0026gt; showoff.default\r ÁúãÁúãÊúÉÊÄéÊ®£\nshowoff(x)\r#\u0026gt; showoff.b\r#\u0026gt; showoff.a\r#\u0026gt; showoff.default\r#\u0026gt; [1] TRUE\r Generally, you call NextMethod() without any arguments. However, if you do give arguments, they are passed on to the next method, as if they'd been supplied to the generic.\nInheritance The class attribute is not limited to a single string, but can be a character vector. This, along with S3 method dispatch and NextMethod(), gives a surprising amount of flexibility that can be used creatively to reduce code duplication. However, this flexibility can also lead to code that is hard to understand or reason about, so you are best constraining yourself to simple styles of inheritance. Here we will focus on defining subclasses that inherit their fields, and some behaviour, from a parent class.\nSubclasses use a character vector for the class attribute. There are two examples of subclasses that you might have come across in base R:\n  Generalised linear models are a generalisation of linear models that allow the error term to belong to a richer set of distributions, not just the normal distribution like the linear model. This is a natural case for the use of inheritance and indeed, in R, glm() returns objects of class c(\u0026quot;glm\u0026quot;, \u0026quot;lm\u0026quot;).\n  Ordered factors are used when the levels of a factor have some intrinsic ordering, like c(\u0026quot;Good\u0026quot;, \u0026quot;Better\u0026quot;, \u0026quot;Best\u0026quot;). Ordered factors are produced by ordered() which returns an object with class c(\u0026quot;ordered\u0026quot;, \u0026quot;factor\u0026quot;).\n  You can think of the glm class \u0026quot;inheriting\u0026quot; behaviour from the lm class, and the ordered class inheriting behaviour from the factor class because of the way method dispatch works. If there is a method available for the subclass, R will use it, otherwise it will fall back to the \u0026quot;parent\u0026quot; class. For example, if you \u0026quot;plot\u0026quot; a glm object, it falls back to the lm method, but if you compute the ANOVA, it uses a glm-specific method.\nmod1 \u0026lt;- glm(mpg ~ wt, data = mtcars)\rs3_dispatch(plot(mod1))\r#\u0026gt; plot.glm\r#\u0026gt; =\u0026gt; plot.lm\r#\u0026gt; * plot.default\rs3_dispatch(anova(mod1))\r#\u0026gt; =\u0026gt; anova.glm\r#\u0026gt; * anova.lm\r#\u0026gt; anova.default\r Constructors There are three principles to adhere to when creating a subclass:\n  A subclass should be built on the same base type as a parent.\n  The class() of the subclass should be of the form c(subclass, parent_class)\n  The fields of the subclass should include the fields of the parent.\n  And these properties should be enforced by the constructor.\nWhen you create a class, you need to decide if you want to allow subclasses, because it requires changes to the constructor and careful thought in your methods. To allow subclasses, the parent constructor needs to have ... and subclass arguments:\nnew_my_class \u0026lt;- function(x, y, ..., subclass = NULL) {\rstopifnot(is.numeric(x))\rstopifnot(is.logical(y))\rstructure(\rx,\ry = y,\r...,\rclass = c(subclass, \u0026quot;my_class\u0026quot;)\r)\r}\r Then the implementation of the subclass constructor is simple: it checks the types of the new fields, then calls the parent constructor.\nnew_subclass \u0026lt;- function(x, y, z) {\rstopifnot(is.character(z))\rnew_my_class(x, y, z, subclass = \u0026quot;subclass\u0026quot;)\r}\r If you wanted to allow this subclass to be futher subclassed, you'd need to include ... and subclass arguments:\nnew_subclass \u0026lt;- function(x, y, z, ..., subclass = NULL) {\rstopifnot(is.character(z))\rnew_my_class(x, y, z, ..., subclass = c(subclass, \u0026quot;subclass\u0026quot;))\r}\r If your subclass is more complicated, you'd also provide validator and helper functions, as described previously.\nCoercion You also need to make sure that there's some way to convert the subclass back to the parent class. The best way to do that is to add a method to the coercion generic. Generally, this method should call the parent constructor:\nas_my_class.sub_class \u0026lt;- function(x) {\rnew_my_class(attr(x, \u0026quot;x\u0026quot;), attr(x, \u0026quot;y\u0026quot;))\r}\r Methods The goal of creating a subclass is to reuse as much code as possible from the parent class. This means that you should not have to define every method that the parent class provides (if you do, reconsider if you actually need a subclass!). Generally, defining new methods is straightforward: you simply create a new method (generic.subclass) whenever the parent method doesn't do quite the right thing. In many cases, the new method will be able to call NextMethod() in order to take advantage of the computation done in the parent.\nOne wrinkle arises when you have methods that return the same type of object as the primary input. For example, dplyr has many functions (arrange(), summarise(), mutate(), ...) that input a data frame (or data frame-like object) and output a modified version of that data frame. Imagine you want to store the provenance of each data frame, i.e. who created it and when. To do so, you might create a data frame subclass called provenance:\nnew_provenance \u0026lt;- function(data, author, date = Sys.Date()) {\rstopifnot(is.data.frame(data))\rstopifnot(is.character(author), length(author) == 1)\rstopifnot(is.Date(date), length(date) == 1)\rstructure(\rdata,\rauthor = author, date = date,\rclass = c(\u0026quot;provenance\u0026quot;, \u0026quot;data.frame\u0026quot;)\r)\r}\r And now you want to make this class work with dplyr. The class doesn't change any of the computation related to the data frame, it just needs to preserve the attributes, which dplyr doesn't know anything about. That means you need to provide a method for each dplyr generic. The computation is unchanged, so you can use NextMethod() to do all the hard work, but you need to manually reconstruct the provenance object.\narrange.provenance \u0026lt;- function(.data, ...) {\rnew_provenance(\rNextMethod(), author = attr(.data, \u0026quot;author\u0026quot;),\rdate = attr(.data, \u0026quot;date\u0026quot;)\r)\r}\rmutate.provenance \u0026lt;- function(.data, ...) {\rnew_provenance(\rNextMethod(), author = attr(.data, \u0026quot;author\u0026quot;),\rdate = attr(.data, \u0026quot;date\u0026quot;)\r)\r}\r To do this for all the dplyr generics would require a lot of copying and pasting. Let's reduce some of that duplication by taking advantage of sloop::reconstruct(). reconstruct() is a generic function designed to reconstruct a subclass from an instance of the parent class, typically created by NextMethod(), and the original subclass. In other words, the job of a reconstructor is to take an object from a parent class, and copy over attributes from the subclass. (Note that reconstruct() is unusual in that it dispatches on the second argument. This allows a more natural specification.)\nreconstruct.provenance \u0026lt;- function(new, old) {\rnew_provenance(\rnew, author = attr(old, \u0026quot;author\u0026quot;),\rdate = attr(old, \u0026quot;date\u0026quot;)\r)\r}\r Now we can rewrite the methods to minimise the amount of duplicated code:\narrange.provenance \u0026lt;- function(.data, ...) {\rreconstruct(NextMethod(), .data)\r}\rmutate.provenance \u0026lt;- function(.data, ...) {\rreconstruct(NextMethod(), .data)\r}\r This duplicated code could be avoided completely if arrange.data.frame(), provided by dplyr, called reconstruct() for you. And indeed, a future version of that function will.\nWhen designing a class that can be subclassed, you need to carefully think through these issues. Generally, whenever you implement a method that returns the same type of object as the primary input, you should call reconstruct() to ensure that it also works for subclasses. That way implementors of a subclass will only need to provide methods when the computation is actually different.\nDispatch details This chapter concludes with a few additional details about method dispatch that is not well documented elsewhere. It is safe to skip these details if you're new to S3.\nEnvironments and namespaces The precise rules for where a generic looks for the methods are a little complicated because there are two paths for discovery:\n  In the calling environment of the function that called the generic.\n  In the special .__S3MethodsTable__. object in the function environment of the generic. Every package has an .__S3MethodsTable__ which lists all the S3 methods exported by the package.\n  These details are not usually important, but are necessary in order for S3 generics to find the correct method when the generic and method are in different packages.\nS3 and base types What happens when you call an S3 generic with a non-S3 object, i.e. an object that doesn't have the class attribute set? You might think it would dispatch on what class() returns:\nclass(matrix(1:5))\r#\u0026gt; [1] \u0026quot;matrix\u0026quot; \u0026quot;array\u0026quot;\r But unfortunately dispatch actually occurs on the implicit class, which has three components:\n \u0026quot;array\u0026quot; or \u0026quot;matrix\u0026quot; (if the object has dimensions). typeof() (with a few minor tweaks). If it's \u0026quot;integer\u0026quot; or \u0026quot;double\u0026quot;, \u0026quot;numeric\u0026quot;.  There is no base function that will compute the implicit class, but you can use a helper from the sloop package: \\index{implicit class} \\index{base types!implicit class}\ns3_class(matrix(1:5))\r#\u0026gt; [1] \u0026quot;matrix\u0026quot; \u0026quot;integer\u0026quot; \u0026quot;numeric\u0026quot;\r s3_dispatch() knows about the implicit class, so use it if you're ever in doubt about method dispatch:\ns3_dispatch(print(matrix(1:5)))\r#\u0026gt; print.matrix\r#\u0026gt; print.integer\r#\u0026gt; print.numeric\r#\u0026gt; =\u0026gt; print.default\r Note that this can lead to different dispatch for objects that look similar:\nx1 \u0026lt;- 1:5\rclass(x1)\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\rs3_dispatch(mean(x1))\r#\u0026gt; mean.integer\r#\u0026gt; mean.numeric\r#\u0026gt; =\u0026gt; mean.default\rx2 \u0026lt;- structure(x1, class = \u0026quot;integer\u0026quot;)\rclass(x2)\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\rs3_dispatch(mean(x2))\r#\u0026gt; mean.integer\r#\u0026gt; =\u0026gt; mean.default\r Internal generics Some S3 generics, like [, sum(), and cbind(), don't call UseMethod() because they are implemented in C. Instead, they call the C functions DispatchGroup() or DispatchOrEval(). These functions are called internal generics, because they do dispatch internally, in C code. Internal generics only exist in base R, so you can not create an internal generic in a package.\ns3_dispatch() shows internal generics by including the name of the generic at the bottom of the method class. If this method is called, all the work happens in C code, typically using [switchpatch].\ns3_dispatch(Sys.time()[1])\r#\u0026gt; =\u0026gt; [.POSIXct\r#\u0026gt; [.POSIXt\r#\u0026gt; [.default\r#\u0026gt; -\u0026gt; [ (internal)\r For performance reasons, internal generics do not dispatch to methods unless the class attribute has been set (is.object() is true). This means that internal generics do not use the implicit class. Again, if you're confused, rely on s3_dispatch() to show you the difference.\nx \u0026lt;- sample(10)\rclass(x)\r#\u0026gt; [1] \u0026quot;integer\u0026quot;\rs3_dispatch(x[1])\r#\u0026gt; [.integer\r#\u0026gt; [.numeric\r#\u0026gt; [.default\r#\u0026gt; =\u0026gt; [ (internal)\rclass(y) #\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'y'\rs3_dispatch(mtcars[1])\r#\u0026gt; =\u0026gt; [.data.frame\r#\u0026gt; [.default\r#\u0026gt; -\u0026gt; [ (internal)\r Group generics Group generics are the most complicated part of S3 method dispatch because they involve both NextMethod() and internal generics. Group generics are worth learning about, however, because they allow you to implement a whole swath of methods with one function. Like internal generics, they only exist in base R, and you can not define your own group generic.\nBase R has four group generics, which are made up of the following generics: \\index{group generics} \\index{S3!group generics}\n  Math: abs, sign, sqrt, floor, cos, sin, log, exp, ...\n  Ops: +, -, *, /, ^, %%, %/%, \u0026amp;, |, !, ==, !=, \u0026lt;, \u0026lt;=, \u0026gt;=, \u0026gt;\n  Summary: all, any, sum, prod, min, max, range\n  Complex: Arg, Conj, Im, Mod, Re\n  Defining a single group generic for your class overrides the default behaviour for all of the members of the group. Methods for group generics are looked for only if the methods for the specific generic do not exist:\ns3_dispatch(sum(Sys.time()))\r#\u0026gt; sum.POSIXct\r#\u0026gt; sum.POSIXt\r#\u0026gt; sum.default\r#\u0026gt; =\u0026gt; Summary.POSIXct\r#\u0026gt; Summary.POSIXt\r#\u0026gt; Summary.default\r#\u0026gt; -\u0026gt; sum (internal)\r Most group generics involve a call to NextMethod(). For example, take difftime() objects. If you look at the method dispatch for abs(), you'll see there's a Math group generic defined.\ny \u0026lt;- as.difftime(10, units = \u0026quot;mins\u0026quot;)\rs3_dispatch(abs(y))\r#\u0026gt; abs.difftime\r#\u0026gt; abs.default\r#\u0026gt; =\u0026gt; Math.difftime\r#\u0026gt; Math.default\r#\u0026gt; -\u0026gt; abs (internal)\r Math.difftime basically looks like this:\nMath.difftime \u0026lt;- function(x, ...) {\rnew_difftime(NextMethod(), units = attr(x, \u0026quot;units\u0026quot;))\r}\r It dispatches to the next method, here the internal default, to perform the actual computation, then copies back over the the class and attributes.\nNote that inside a group generic function a special variable .Generic provides the actual generic function called. This can be useful when producing error messages, and can sometimes be useful if you need to manually re-call the generic with different arguments.\nDouble dispatch Generics in the \u0026quot;Ops\u0026quot; group, which includes the two-argument mathematical and logical operators like - and \u0026amp;, implement a special type of method dispatch. They dispatch on the type of both of the arguments, so called double dispatch. This is necessary to preserve the commutative property of many operators, i.e. a + b should equal b + a. Take the following simple example:\ndate \u0026lt;- as.Date(\u0026quot;2017-01-01\u0026quot;)\rinteger \u0026lt;- 1L\rdate + integer\r#\u0026gt; [1] \u0026quot;2017-01-02\u0026quot;\rinteger + date\r#\u0026gt; [1] \u0026quot;2017-01-02\u0026quot;\r If + dispatched only on the first argument, it would return different values for the two cases. To overcome this problem, generics in the Ops group use a slightly different strategy from usual. Rather than doing a single method dispatch, they do two, one for each input. There are three possible outcomes of this lookup:\n  The methods are the same, so it doesn't matter which method is used.\n  The methods are different, and R calls the first method with a warning.\n  One method is internal, in which case R calls the other method.\n  For the example above, we can look at the possible methods for each argument, taking advantage of the fact that we can call + with a single argument. In this case, the second argument would dispatch to the internal + function, so R will call +.Date.\ns3_dispatch(+date)\r#\u0026gt; =\u0026gt; +.Date\r#\u0026gt; +.default\r#\u0026gt; * Ops.Date\r#\u0026gt; Ops.default\r#\u0026gt; * + (internal)\rs3_dispatch(+integer)\r#\u0026gt; +.integer\r#\u0026gt; +.numeric\r#\u0026gt; +.default\r#\u0026gt; Ops.integer\r#\u0026gt; Ops.numeric\r#\u0026gt; Ops.default\r#\u0026gt; =\u0026gt; + (internal)\r Let's take a look at another case. What happens if you try to add a date to a factor? There is no method in common, so R calls the internal + method (which preserves the attributes of the LHS), with a warning.\nfactor \u0026lt;- factor(\u0026quot;a\u0026quot;)\rs3_dispatch(+factor)\r#\u0026gt; +.factor\r#\u0026gt; +.default\r#\u0026gt; =\u0026gt; Ops.factor\r#\u0026gt; Ops.default\r#\u0026gt; -\u0026gt; + (internal)\rdate + factor\r#\u0026gt; Warning: ‰∏çÁõ∏ÂÆπÁöÑÊñπÊ≥ï (\u0026quot;+.Date\u0026quot;, \u0026quot;Ops.factor\u0026quot;) Áî®Êñº \u0026quot;+\u0026quot;\r#\u0026gt; [1] \u0026quot;2017-01-02\u0026quot;\rfactor + date\r#\u0026gt; Warning: ‰∏çÁõ∏ÂÆπÁöÑÊñπÊ≥ï (\u0026quot;Ops.factor\u0026quot;, \u0026quot;+.Date\u0026quot;) Áî®Êñº \u0026quot;+\u0026quot;\r#\u0026gt; Error in as.character.factor(x): Áï∞Â∏∏ÁöÑÂõ†Â≠ê\r Finally, what happens if we try to substract a POSIXct from a POSIXlt? A common -.POSIXt method is found and called.\ndt1 \u0026lt;- as.POSIXct(date)\rdt2 \u0026lt;- as.POSIXlt(date)\rs3_dispatch(-dt1)\r#\u0026gt; -.POSIXct\r#\u0026gt; =\u0026gt; -.POSIXt\r#\u0026gt; -.default\r#\u0026gt; Ops.POSIXct\r#\u0026gt; * Ops.POSIXt\r#\u0026gt; Ops.default\r#\u0026gt; * - (internal)\rs3_dispatch(-dt2)\r#\u0026gt; -.POSIXlt\r#\u0026gt; =\u0026gt; -.POSIXt\r#\u0026gt; -.default\r#\u0026gt; Ops.POSIXlt\r#\u0026gt; * Ops.POSIXt\r#\u0026gt; Ops.default\r#\u0026gt; * - (internal)\rdt1 - dt2\r#\u0026gt; Time difference of 0 secs\r"},
{"uri": "/blogR//rlang/6_1_programming.html","title": "6.1 Programming basic",
	"tags": [],
	"description": "Âü∫Êú¨Ë™ûÊ≥ï",
	"content": "Ê¢ù‰ª∂Êåá‰ª§ if ‰∏ÄËà¨‰æÜË¨õÔºåÈÄöÁî®ÂØ´Ê≥ïÂ¶Ç‰∏ãÔºö\nif(Âà§Êñ∑Âºè){\rÊàêÂäü\r}else{\rÂ§±Êïó\r}\r Â§öË°åÂØ´Ê≥ï\nif(4 \u0026gt; 3){\rTRUE\r}else{\rFALSE\r}\r Âè¶Â§ñÔºåÂ¶ÇÊûúÂçÄÂ°äÂÖßÂè™Êúâ‰∏ÄË°å\nif(4 \u0026gt; 3) TRUE else FALSE  ifelseÁöÑÂØ´Ê≥ï ifelse('Âà§Êñ∑Âºè','ÊàêÂäü','Â§±Êïó')\n‰æãÂ¶ÇÔºå ifelse(4 \u0026gt; 3, T, F)\nswitchÁöÑÂØ´Ê≥ï switch('Âà§Êñ∑Âºè', 'Âà§Êñ∑ÂÄº1'={}, 'Âà§Êñ∑ÂÄº2'={},\r...,\r\u0026quot;ÂÖ∂‰ªñÂà§Êñ∑ÂÄº\u0026quot;={}\r)\r   Áõ¥Êé•ÊåáÂÆöÂì™‰∏ÄÂÄã\nswitch(2,\u0026quot;red\u0026quot;,\u0026quot;green\u0026quot;,\u0026quot;blue\u0026quot;)\r#\u0026gt; [1] \u0026quot;green\u0026quot;\rswitch(1,\u0026quot;red\u0026quot;,\u0026quot;green\u0026quot;,\u0026quot;blue\u0026quot;) #üè∑üëè\r#\u0026gt; [1] \u0026quot;red\u0026quot;\ry\u0026lt;-switch(1,\u0026quot;red\u0026quot;,\u0026quot;green\u0026quot;,\u0026quot;blue\u0026quot;) #üè∑üëèÂõ†ÁÇ∫ÊòØÂáΩÊï∏,ÂèØ‰ª•Áõ¥Êé•ÊåáÊ¥æÂü∑Ë°åÁµêÊûú\ry\r#\u0026gt; [1] \u0026quot;red\u0026quot;\r   ‰∏äÈù¢ÂÇ≥ÂõûÂ≠ó‰∏≤,ÈÄôË£°ÂÇ≥ÂõûÊï∏Â≠ó\nswitch(2, 1, 2, #Âõ†ÁÇ∫Âà§Êñ∑ÂºèÁÇ∫2ÔºåÂõ†Ê≠§ÔºåÂü∑Ë°åÂãï‰Ωú2\r3) #üè∑üëèÈÄôÂÄãswitchÂÇ≥ÂõûÊï∏Â≠ó,\r#\u0026gt; [1] 2\r   ‰πüÂèØ‰ª•Âà©Áî®Â≠ó‰∏≤\nx=\u0026quot;a\u0026quot;\rswitch(x, \u0026quot;a\u0026quot; = 1, \u0026quot;b\u0026quot; = 2, \u0026quot;c\u0026quot; = \u0026quot;why\u0026quot;)\r#\u0026gt; [1] 1\rx=\u0026quot;b\u0026quot;\rswitch(x, \u0026quot;a\u0026quot; = 1, \u0026quot;b\u0026quot; = 2, \u0026quot;c\u0026quot; = \u0026quot;why\u0026quot;)\r#\u0026gt; [1] 2\rx=\u0026quot;c\u0026quot;\rswitch(x, \u0026quot;a\u0026quot; = 1, \u0026quot;b\u0026quot; = 2, \u0026quot;c\u0026quot; = \u0026quot;why\u0026quot;)\r#\u0026gt; [1] \u0026quot;why\u0026quot;\r   ÂÜç‰∏ÄÂÄã‰æãÂ≠ê\nx=\u0026quot;c\u0026quot;\rswitch(x, \u0026quot;a\u0026quot; = 1, \u0026quot;b\u0026quot; = 2, \u0026quot;c\u0026quot; = {\u0026quot;why\u0026quot;}) #üè∑üëè Â§ßÊã¨Ëôü,ÂèØ‰ª•ËÆìÊàëÂÄëÊúâÂÖ©Ë°å‰ª•‰∏äÁöÑÁ®ãÂºèÁ¢º\r#\u0026gt; [1] \u0026quot;why\u0026quot;\rx=\u0026quot;c\u0026quot;\rswitch(x, \u0026quot;a\u0026quot; = 1, \u0026quot;b\u0026quot; = 2, \u0026quot;c\u0026quot; = {x\u0026lt;-3;x+1}) #üè∑üëè Âà©Áî®ÂàÜËôüÂàÜÈöî\r#\u0026gt; [1] 4\rx #üè∑üëè x‰∏çÊòØ\u0026quot;c\u0026quot;‰∫Ü,ËÆäÊàê4\r#\u0026gt; [1] 3\r   ÈÄôÂÄãswitch ‰∏¶‰∏çÊòØ‰∏ÄÂÄãË™ûÊ≥ïÔºåËÄåÊòØ‰∏ÄÂÄãÂáΩÊï∏ÔºåÂéüÁêÜÂ§ßÊ¶ÇÊòØ Á¨¨1ÂÄãÂèÉÊï∏‰ª•ÂæåÁöÑÊù±Ë•øÔºåÊúÉË¢´ËÆäÊàêÊòØ‰∏ÄÂÄãnamed list„ÄÇ ‰æãÂ¶Ç‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠\nalist \u0026lt;-list(a=1,b=2,c=\u0026quot;why\u0026quot;)\r ÁÑ∂ÂæåÂà©Áî®Âà§Êñ∑Âºè Êü•ÊâæË¶ÅËøîÂõûÂ∞çÊáâÁöÑÂÄº„ÄÇ‰æãÂ¶Ç\nswitch(\u0026quot;a\u0026quot;, a = 1, b = 2, c = \u0026quot;why\u0026quot;)\r#\u0026gt; [1] 1\rswitch(\u0026quot;b\u0026quot;, a = 1, b = 2, c = \u0026quot;why\u0026quot;)\r#\u0026gt; [1] 2\r Ëø¥ÂúàÊåá‰ª§ R Ë™ûË®ÄÁöÑËø¥ÂúàÔºåÂèØ‰ª•Êê≠ÈÖç breakÂíånextÔºåÂâçËÄÖË∑≥Âá∫Ëø¥ÂúàÔºåÂæåËÄÖÁπºÁ∫å‰∏ã‰∏ÄÂÄãËø¥Âúà„ÄÇ\nfor-loop Ë®àÁÆó 1+2+3+4. ÁöÑÂÄºÊòØÂ§öÂ∞ëÔºü\nrst \u0026lt;- 0\rfor(i in c(1:4)){ rst \u0026lt;- rst + i\r}\r while-loop i \u0026lt;- 1\rresult \u0026lt;- 0\rwhile(i \u0026lt; 5){ rst \u0026lt;- rst + i\ri \u0026lt;- i + 1\r}\r repeat-loop i \u0026lt;- 1\rrst \u0026lt;- 0\rrepeat{ if(i \u0026gt; 4) break rst \u0026lt;- rst + i\ri \u0026lt;- i + 1\r}\r Â∏∏Ë¶ãÂïèÈ°å ÁÇ∫ÁîöÈ∫ºÊúâ‰∫õÂáΩÊï∏Êâæ‰∏çÂà∞?\nÂ•ó‰ª∂\n"},
{"uri": "/blogR//rlang/6_3_apply_family.html","title": "6.3 function - apply family",
	"tags": [],
	"description": "list ÁöÑÊáâÁî®",
	"content": " ÂÖ∂‰ªñÂèÉËÄÉ  apply ÂèØ‰ª•ËôïÁêÜÁöÑÂ∞çË±°ÂåÖÊã¨ Áü©Èô£„ÄÅË≥áÊñôÈõÜ„ÄÅÈô£Âàó(‰∫åÁ∂≠„ÄÅÂ§öÁ∂≠)ÔºåÂèØ‰ª•ÊåáÂÆöÁõ¥Ë°å„ÄÅÊ©´Ë°å„ÄÇ\nÂáΩÊï∏ÂÆöÁæ©Ôºö\napply(X, MARGIN, FUN, ...)\r ÂèÉÊï∏ÂàóË°®Ôºö\n X : Áü©Èô£matrix„ÄÅË≥áÊñôÈõÜdataframe „ÄÅÈô£Âàó array MARGIN : 1Ë°®Á§∫Ê©´Ë°åÔºå2Ë°®Á§∫Áõ¥Ë°å FUN : the function to be applied ... : optional arguments to FUN  Âú®matlab ‰∏≠,sum(Áü©Èô£,ÂèÉÊï∏2) ÂèÉÊï∏2ÁöÑÂèØËÉΩÂÄºÁÇ∫1Êàñ2ÔºåÂàÜÂà•ÊåáÂÆöÊ¨Ñ‰ΩçÂä†Á∏ΩÊàñÊòØÊ©´Ë°åÂä†Á∏Ω,‰ΩÜÊòØÂú®R‰∏≠sum(Áü©Èô£),ÂçªÊòØÊï¥ÂÄãÁü©Èô£ÂÖÉÁ¥†ÁöÑÂä†Á∏Ω„ÄÇ\nÁØÑ‰æã1: Ê©´Ë°åÂä†Á∏Ω\nx\u0026lt;-matrix(1,ncol=4,nrow=3);x\r#\u0026gt; [,1] [,2] [,3] [,4]\r#\u0026gt; [1,] 1 1 1 1\r#\u0026gt; [2,] 1 1 1 1\r#\u0026gt; [3,] 1 1 1 1\rapply(x,1,sum)\r#\u0026gt; [1] 4 4 4\r ÁØÑ‰æãÔºö\nÊúâ‰∏ÄÂÄãlist,Ë£°Èù¢Êúâ2ÂÄãÊ¨Ñ‰ΩçÔºåÂàÜÂà•ÊòØx1,x2,ÊÉ≥Ë¶ÅÂàÜÂà•ÁÆóÂá∫ÊØèÂÄãÊ¨Ñ‰ΩçÁöÑÊúÄÂ∞èÂíåÊúÄÂ§ß\nx \u0026lt;- cbind(x1 = 3, x2 = c(1:6)); # x ÊòØÁü©Èô£\rf1\u0026lt;- function(col) {\rc(min(col),max(col)) }\rapply(x,2,f1)\r#\u0026gt; x1 x2\r#\u0026gt; [1,] 3 1\r#\u0026gt; [2,] 3 6\r Á∑¥ÁøíÔºöÂ¶ÇÊûúÁî®for loop?\nÁ∑¥ÁøíÔºöÂì™Á®ÆÊñπÂºèÊØîËºÉÂø´Ôºühint:Âà©Áî® system.time(a function)\nlapplyÂáΩÊï∏ Â§ßÁ∂±Ôºölapply(),sapply(),vapply() ÈÉΩÂèÉÊï∏ÈÉΩÂêÉlist ÊàñËÄÖvector„ÄÇ\nÂáΩÊï∏ÂÆöÁæ©Ôºö\nlapply(X, FUN, ...)\r ÂèÉÊï∏ÂàóË°®Ôºö\n X: list„ÄÅvector„ÄÅdata.frame FUN: Ëá™ÂÆöÁæ©ÁöÑË™øÁî®ÂáΩÊï∏ ‚Ä¶: Êõ¥Â§öÂèÉÊï∏ÔºåÂèØÈÅ∏  Ëº∏ÂÖ• Ëº∏Âá∫   vector list  list list  data.frame list     ÂáΩÊï∏ÊØîËºÉ\n lapply(), sapply()Â∑ÆÂà•ÊòØ ÂâçËÄÖËøîÂõûlist,ÂæåËÄÖËøîÂõûmatrix; sapply(), vapply() Â∑ÆÂà•ÊòØÔºåÂæåËÄÖÂèØ‰ª•Âä†ÂÖ•row names„ÄÇ  ÁØÑ‰æã:Ë®àÁÆólist‰∏≠ÁöÑÊØèÂÄãKEYÂ∞çÊáâ ÁöÑ5ÂÄãTukeyÂàÜ‰ΩçÊï∏ (minimum, lower-hinge, median, upper-hinge, maximum) „ÄÇÂà©Áî®fivenum()\nx \u0026lt;- list(a = 1:6, b = rnorm(2,6,8));x\r#\u0026gt; $a\r#\u0026gt; [1] 1 2 3 4 5 6\r#\u0026gt; #\u0026gt; $b\r#\u0026gt; [1] 8.390067 12.241047\rlapply(x,fivenum)\r#\u0026gt; $a\r#\u0026gt; [1] 1.0 2.0 3.5 5.0 6.0\r#\u0026gt; #\u0026gt; $b\r#\u0026gt; [1] 8.390067 8.390067 10.315557 12.241047 12.241047\r lapply ÁöÑÂèÉÊï∏Â¶ÇÊûúÊòØ list„ÄÅdata.frameÔºåËøîÂõûÂíåÂèÉÊï∏Èï∑Â∫¶ÂêåÊ®£ÁöÑlistÁµêÊßã‰ΩúÁÇ∫ÁµêÊûú(Ê¨Ñ‰ΩçÊï∏)„ÄÇ\n‰æãÂ¶ÇÔºåÂÇ≥ÂÖ•ÁöÑÂèÉÊï∏ÊòØdata.frame(),Â¶Ç‰∏ãÔºåÂ∞çË≥áÊñôÈõÜÁöÑÊØèÂÄãÊ¨Ñ‰ΩçÊ±ÇÂíå„ÄÇ\nlapply(data.frame(x), sum)\r#\u0026gt; $a\r#\u0026gt; [1] 21\r#\u0026gt; #\u0026gt; $b\r#\u0026gt; [1] 61.89334\r apply‰∏çÂêåÁöÑÂú∞ÊñπÊòØ,Â¶ÇÊûúÂèÉÊï∏ÊòØÁü©Èô£Ê≤íËæ¶Ê≥ïÊåáÂÆöÊ©´Ë°åÊàñÊòØÁõ¥Ë°åÁöÑÂçÄÂà•,Âè™ËÉΩÊòØÈÄêÂÄãÂÖÉÁ¥†ÈÅãÁÆó„ÄÇÂ∞±ÊòØÂâáÊúÉÂ∞çÊØèÂÄãÂÖÉÁ¥†Ê±ÇÂáΩÊï∏ÂÄº„ÄÇ\nx \u0026lt;- matrix(rnorm(4,5,10),nrow=2);x\r#\u0026gt; [,1] [,2]\r#\u0026gt; [1,] 9.312188 17.361502\r#\u0026gt; [2,] -1.090958 -5.001089\rlapply(x, sum)\r#\u0026gt; [[1]]\r#\u0026gt; [1] 9.312188\r#\u0026gt; #\u0026gt; [[2]]\r#\u0026gt; [1] -1.090958\r#\u0026gt; #\u0026gt; [[3]]\r#\u0026gt; [1] 17.3615\r#\u0026gt; #\u0026gt; [[4]]\r#\u0026gt; [1] -5.001089\r sapplyÂáΩÊï∏ sapplyÂáΩÊï∏ÂåÖË£π‰∫Ü‰∏Ä‰∏äÈù¢ÊèêÂà∞ÁöÑlapply()ÔºåËøîÂõûÂÄºÁÇ∫ÂêëÈáèÔºåËÄå‰∏çÊòØlistÂ∞çË±°„ÄÇsapplyÂ¢ûÂä†‰∫Ü2ÂÄãÂèÉÊï∏simplifyÂíåUSE.NAMESÔºå\nÂáΩÊï∏ÂÆöÁæ©Ôºö\nsapply(X, FUN, ..., simplify=TRUE, USE.NAMES = TRUE)\r ÂèÉÊï∏ÂàóË°®Ôºö\n X: list„ÄÅmatrix„ÄÅdata.frame FUN: Ëá™ÂÆöÁæ©ÁöÑË™øÁî®ÂáΩÊï∏ ‚Ä¶: Êõ¥Â§öÂèÉÊï∏ÔºåÂèØÈÅ∏ simplify: È†êË®≠ÁÇ∫T,ËøîÁÇ∫ÂÄºÁÇ∫ÂêëÈáèÔºõÂ¶ÇÊûúÊòØFÊàêlist„ÄÇ? Ë®≠ÂÆöÁÇ∫\u0026quot;array\u0026quot;ÊôÇÔºåËº∏Âá∫ÁµêÊûúÊåâÊï∏ÁµÑÈÄ≤Ë°åÂàÜÁµÑ USE.NAMES: Â¶ÇÊûúXÁÇ∫Â≠óÁ¨¶‰∏≤ÔºåTRUEË®≠ÁΩÆÂ≠óÁ¨¶‰∏≤ÁÇ∫Êï∏ÊìöÂêçÔºåFALSE‰∏çË®≠ÁΩÆ  Ëº∏ÂÖ• Ëº∏Âá∫   vector vector,matrix,array,list  list vector,matrix,array,list  data.frame vector,matrix,array,list     simplify=FALSEÂíåUSE.NAMES=FALSEÔºåÂâá sapplyÂáΩÊï∏ ÔºùlapplyÂáΩÊï∏„ÄÇ\nÂ¶ÇÊûúÊàëÂÄëÂà©Áî®ÂáΩÊï∏unlist ÈÖçÂêà lapply ÁöÑËøîÂõûÂÄºÔºå‰πüÂèØ‰ª•ÂæóÂà∞ÂêëÈáèÔºå‰æãÂ¶ÇÔºö unlist(lapply(1:3, function(x) x^2))\n\r\rÂ∏∏Ë¶ãÁØÑ‰æã\nsapply(2:4, seq)\r#\u0026gt; [[1]]\r#\u0026gt; [1] 1 2\r#\u0026gt; #\u0026gt; [[2]]\r#\u0026gt; [1] 1 2 3\r#\u0026gt; #\u0026gt; [[3]]\r#\u0026gt; [1] 1 2 3 4\r# data.frame\rsapply(data.frame(x), sum)\r#\u0026gt; X1 X2 #\u0026gt; 8.221229 12.360413\r# Á¢∫Ë™çËøîÂõûÈ°ûÂà•\rlapply(x, sum)\r#\u0026gt; [[1]]\r#\u0026gt; [1] 9.312188\r#\u0026gt; #\u0026gt; [[2]]\r#\u0026gt; [1] -1.090958\r#\u0026gt; #\u0026gt; [[3]]\r#\u0026gt; [1] 17.3615\r#\u0026gt; #\u0026gt; [[4]]\r#\u0026gt; [1] -5.001089\rclass(lapply(x, sum))\r#\u0026gt; [1] \u0026quot;list\u0026quot;\rsapply(x, sum)\r#\u0026gt; [1] 9.312188 -1.090958 17.361502 -5.001089\rclass(sapply(x, sum))\r#\u0026gt; [1] \u0026quot;numeric\u0026quot;\rsapply(x, sum, simplify=FALSE, USE.NAMES=FALSE)\r#\u0026gt; [[1]]\r#\u0026gt; [1] 9.312188\r#\u0026gt; #\u0026gt; [[2]]\r#\u0026gt; [1] -1.090958\r#\u0026gt; #\u0026gt; [[3]]\r#\u0026gt; [1] 17.3615\r#\u0026gt; #\u0026gt; [[4]]\r#\u0026gt; [1] -5.001089\rclass(sapply(x, sum, simplify=FALSE, USE.NAMES=FALSE))\r#\u0026gt; [1] \u0026quot;list\u0026quot;\r ‚ùåÂ∞çÊ¨Ñ‰Ωç‰ΩúÁµ±Ë®àÈÅãÁÆóÁöÑÈåØË™§ÁØÑ‰æã\nx \u0026lt;- cbind(x1 = 3, x2 = c(1:6)); # x ÊòØÁü©Èô£\rx\r#\u0026gt; x1 x2\r#\u0026gt; [1,] 3 1\r#\u0026gt; [2,] 3 2\r#\u0026gt; [3,] 3 3\r#\u0026gt; [4,] 3 4\r#\u0026gt; [5,] 3 5\r#\u0026gt; [6,] 3 6\rsapply(x, sum) #ÁµêÊûúÈ°û‰ººlapply() üè∑Â∞áÈô£ÂàóÂÖÉÁ¥†Â∏∂ÂÖ•ÂáΩÊï∏\r#\u0026gt; [1] 3 3 3 3 3 3 1 2 3 4 5 6\rsapply(x, quantile) #\u0026gt; [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]\r#\u0026gt; 0% 3 3 3 3 3 3 1 2 3 4 5 6\r#\u0026gt; 25% 3 3 3 3 3 3 1 2 3 4 5 6\r#\u0026gt; 50% 3 3 3 3 3 3 1 2 3 4 5 6\r#\u0026gt; 75% 3 3 3 3 3 3 1 2 3 4 5 6\r#\u0026gt; 100% 3 3 3 3 3 3 1 2 3 4 5 6\r Ëß£Èáã‰∏äÈù¢Âá∫ÈåØÁöÑÂéüÂõ†„ÄÇÊèêÁ§∫\r hint: sapplyÊúÉË™øÁî®ÂáΩÊï∏lapply()(üè∑üê±‚Äçüë§Á∞°ÂåñÁöÑsapply‰æÜËá™ÊñºË§áÈõúÁöÑlapply)ÔºåËÄåÂ∑≤Á∂ìÁü•ÈÅìlapply()ÁöÑÂèÉÊï∏ÊòØÁü©Èô£ÁöÑÊôÇÂÄôÔºåÊØèÂÄãÂÖÉÁ¥†ÈÉΩÊúÉË¢´ÂÇ≥Âà∞ÂáΩÊï∏„ÄÇÂõ†Ê≠§Ê¨Ñ‰ΩçÊúâ12ÂÄãÔºõ\nÂèàÔºåÊØèÂÄãquantile()ÂÇ≥Âõû5ÂÄãÂÖÉÁ¥†ÔºåÂõ†Ê≠§ÔºåÊ©´Ë°åÊúâ5ÂÄã„ÄÇ Ê≠£Á¢∫ÁöÑ‰ΩúÊ≥ïÊòØÔºö\nx \u0026lt;- list(x1 = 3, x2 = c(1:6))\rsapply(x, quantile) #\u0026gt; x1 x2\r#\u0026gt; 0% 3 1.00\r#\u0026gt; 25% 3 2.25\r#\u0026gt; 50% 3 3.50\r#\u0026gt; 75% 3 4.75\r#\u0026gt; 100% 3 6.00\r \rÂè¶‰∏ÄÂÄãÁØÑ‰æã\nlocaleCategories \u0026lt;- c(\u0026quot;LC_COLLATE\u0026quot;,\u0026quot;LC_CTYPE\u0026quot;,\u0026quot;LC_MONETARY\u0026quot;,\u0026quot;LC_NUMERIC\u0026quot;,\u0026quot;LC_TIME\u0026quot;)\rlocales \u0026lt;- setNames(sapply(localeCategories, Sys.getlocale), localeCategories)\r ÁØÑ‰æãÔºöUSE.NAMES=TRUE\nalist\u0026lt;-list(a=c(1,1,1),b=c(2,2,2),c=c(3,3,3))\rf2\u0026lt;-function(x)\r{\rmean(alist[[x]])\r}\rsapply(c(\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;c\u0026quot;),f2,USE.NAMES = T)\r#\u0026gt; a b c #\u0026gt; 1 2 3\r Â∞çÊñºsimplifyÁÇ∫arrayÊôÇÔºåÊàëÂÄëÂèØ‰ª•ÂèÉËÄÉ‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºåÊßãÂª∫‰∏ÄÂÄã‰∏âÁ∂≠Êï∏ÁµÑÔºåÂÖ∂‰∏≠‰∫åÂÄãÁ∂≠Â∫¶ÁÇ∫ÊñπÈô£„ÄÇ\na\u0026lt;-1:2\r# ÊåâÊï∏ÁµÑÂàÜÁµÑ\rsapply(a,function(x) matrix(x,2,2), simplify='array')\r#\u0026gt; , , 1\r#\u0026gt; #\u0026gt; [,1] [,2]\r#\u0026gt; [1,] 1 1\r#\u0026gt; [2,] 1 1\r#\u0026gt; #\u0026gt; , , 2\r#\u0026gt; #\u0026gt; [,1] [,2]\r#\u0026gt; [1,] 2 2\r#\u0026gt; [2,] 2 2\r# ÈªòË™çÊÉÖÊ≥ÅÔºåÂâáËá™ÂãïÂêà‰ΩµÂàÜÁµÑ\rsapply(a,function(x) matrix(x,2,2))\r#\u0026gt; [,1] [,2]\r#\u0026gt; [1,] 1 2\r#\u0026gt; [2,] 1 2\r#\u0026gt; [3,] 1 2\r#\u0026gt; [4,] 1 2\r ÊØîËºÉ    Function Arguments Objective Input Output     apply apply(x, MARGIN, FUN) Apply a function to the rows or columns or both Data frame or matrix vector, list, array   lapply lapply(X, FUN) Apply a function to all the elements of the input List, vector or data frame list   sapply sappy(X FUN) Apply a function to all the elements of the input List, vector or data frame vector or matrix    m\u0026lt;-matrix(1:4,4,3);m\r#\u0026gt; [,1] [,2] [,3]\r#\u0026gt; [1,] 1 1 1\r#\u0026gt; [2,] 2 2 2\r#\u0026gt; [3,] 3 3 3\r#\u0026gt; [4,] 4 4 4\rsapply(1:3, function(x) mean(m[,x]))\r#\u0026gt; [1] 2.5 2.5 2.5\r m\u0026lt;-matrix(1:4,4,3);\rlapply(1:3, function(x) mean(m[,x]))\r#\u0026gt; [[1]]\r#\u0026gt; [1] 2.5\r#\u0026gt; #\u0026gt; [[2]]\r#\u0026gt; [1] 2.5\r#\u0026gt; #\u0026gt; [[3]]\r#\u0026gt; [1] 2.5\r vapplyÂáΩÊï∏ vapplyÈ°û‰ººÊñºsapplyÔºåÊèê‰æõ‰∫ÜFUN.VALUEÂèÉÊï∏ÔºåÁî®‰æÜÊéßÂà∂ËøîÂõûÂÄºÁöÑË°åÂêç„ÄÇ\nnote: sapply() ÈÖç‰∏ärownames\u0026lt;- ÂèØ‰ª•ÈÅîÂà∞‰∏ÄÊ®£ÁöÑÊïàÊûú„ÄÇ\nÂáΩÊï∏ÂÆöÁæ©Ôºö\nvapply(X, FUN, FUN.VALUE, ..., USE.NAMES = TRUE)\r ÂèÉÊï∏ÂàóË°®(Ââç3ÂÄãÈúÄË¶Å)Ôºö\n X:array„ÄÅmatrix„ÄÅdata.frame FUN: ‰ΩøÁî®ËÄÖÊåáÂÆöÁöÑÂáΩÊï∏,ÂèØ‰ª•ÊòØËá™ÂÆöÁæ©ÁöÑÂáΩÊï∏ FUN.VALUE:  ‰æãÂ¶Ç,logistic(1),‰πüÂ∞±ÊòØÂ∞çÂÇ≥ÈÄ≤‰æÜÁöÑÊØèÂÄãÂèÉÊï∏,ÈÉΩË¶ÅÁî¢ÁîüÈÇèËºØÂÄºÂêëÈáè,‰∏îÈï∑Â∫¶ÁÇ∫1„ÄÇ ÂèØ‰ª•Ë®òÁÇ∫Â∞çÊØè‰∏ÄÁ¥ÄÈåÑÁµ¶ÂêçÁ®±(e.g. row.names)   ‚Ä¶: Êõ¥Â§öÂèÉÊï∏ÔºåÂèØÈÅ∏ USE.NAMES: Â¶ÇÊûúXÁÇ∫Â≠óÁ¨¶‰∏≤ÔºåTRUEË®≠ÁΩÆÂ≠óÁ¨¶‰∏≤ÁÇ∫Êï∏ÊìöÂêçÔºåFALSE‰∏çË®≠ÁΩÆ  x \u0026lt;- cbind(x1 = 3, x2 = c(1:6)); # x ÊòØÁü©Èô£\rx\u0026lt;-data.frame(x) # ‚úîÂõ†ÁÇ∫Âú®f1()‰∏≠Ë¶ÅÂ∞çÊØèÂÄãÊ¨Ñ‰ΩçÊ±ÇÊúÄÂ∞èÊúÄÂ§ß,‰∏çËÉΩÊòØÁü©Èô£(ÊúÉÂ∞çÊï¥ÂÄãÁü©Èô£ÊâæÊúÄÂ∞èÊúÄÂ§ß) f1\u0026lt;- function(col) {\rc(min(col),max(col)) }\rr1\u0026lt;-vapply(x,f1, numeric(2)) # # ‚ùåvapply(x,f1, numeric(1)) # ‚ùìÁÇ∫ÁîöÈ∫ºÈåØË™§ # üè∑#üëèÂõ†ÁÇ∫f1ÁöÑËøîÂõûÂÄºÁÇ∫ÂêëÈáè,‰∏îÈï∑Â∫¶ÁÇ∫2\rr2\u0026lt;-vapply(x,f1,c(\u0026quot;min\u0026quot;=0,\u0026quot;max\u0026quot;=0)) # FUN.VALUE ÊòØ‰∏ÄÂÄãnamed vector\r# ‚ùåvapply(x,f1,FUN.VALUE = c(\u0026quot;min\u0026quot;,\u0026quot;max\u0026quot;)) # ‚ùìÁÇ∫ÁîöÈ∫ºÈåØË™§ # üè∑üëèÂõ†ÁÇ∫ÈÄôË£°Ë™™ËøîÂõûÂÄºÊòØÈï∑Â∫¶ÁÇ∫2ÁöÑÂ≠ó‰∏≤ÂêëÈáè\rr1\r#\u0026gt; x1 x2\r#\u0026gt; [1,] 3 1\r#\u0026gt; [2,] 3 6\rr2\r#\u0026gt; x1 x2\r#\u0026gt; min 3 1\r#\u0026gt; max 3 6\r vapplyÁ∑¥Áøí‚ùì ÊÉ≥Ë¶ÅÂàóÂá∫ÊØèÂÄãÊ¨Ñ‰ΩçÁöÑÈ°ûÂà•,‰ª•ÂÖßÂª∫Ë≥áÊñôÈõÜmtcars ‰ΩúÁÇ∫Á∑¥Áøí„ÄÇ\nfieldType\u0026lt;-vapply(mtcars,class,character(1))\rprint(fieldType)\r \rmpg cyl disp hp drat wt qsec vs \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot; am gear carb \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot; \u0026quot;numeric\u0026quot;  ÊèêÁ§∫\r mapplyÂáΩÊï∏ ÂáΩÊï∏ÂÆöÁæ©Ôºö\nmapply(FUN, ..., MoreArgs = NULL, SIMPLIFY = TRUE,USE.NAMES = TRUE)\r ÂèÉÊï∏ÂàóË°®Ôºö\n FUN: Ëá™ÂÆöÁæ©ÁöÑË™øÁî®ÂáΩÊï∏ ‚Ä¶: Êé•Êî∂Â§öÂÄãÊï∏Êìö MoreArgs: ÂèÉÊï∏ÂàóË°® SIMPLIFY: ÊòØÂê¶ËΩâÁü©Èô£ÔºåÁï∂ÂÄºarrayÊôÇÔºåËº∏Âá∫ÁµêÊûúÊåâÊï∏ÁµÑÈÄ≤Ë°åÂàÜÁµÑ USE.NAMES: Â¶ÇÊûúXÁÇ∫Â≠óÁ¨¶‰∏≤ÔºåTRUEË®≠ÁΩÆÂ≠óÁ¨¶‰∏≤ÁÇ∫Êï∏ÊìöÂêçÔºåFALSE‰∏çË®≠ÁΩÆ   Â¶ÇÊûúFun=f(x)ÔºåÂâá mapply(f,a1,a2)ÁöÑÂü∑Ë°åÊòØÔºö\nf(a1), f(a2) Â¶ÇÊûúFun=f(x,y)ÔºåÂâá mapply(f,a1,a2)ÁöÑÂü∑Ë°åÊòØÔºö\nf(a1, a2)  ÊØîÂ¶ÇÔºåÊØîËºÉ3ÂÄãÂêëÈáèÂ§ßÂ∞èÔºåÊåâÁ¥¢ÂºïÈ†ÜÂ∫èÂèñËºÉÂ§ßÁöÑÂÄº„ÄÇ\nset.seed(1)\r# ÂÆöÁæ©3ÂÄãÂêëÈáè\rx\u0026lt;-1:10\ry\u0026lt;-5:-4\rz\u0026lt;-round(runif(10,-5,5))\r# ÊåâÁ¥¢ÂºïÈ†ÜÂ∫èÂèñËºÉÂ§ßÁöÑÂÄº„ÄÇ\rmapply(max,x,y,z)\r#\u0026gt; [1] 5 4 3 4 5 6 7 8 9 10\r ÂÜçÁúã‰∏ÄÂÄã‰æãÂ≠êÔºåÁîüÊàê4ÂÄãÁ¨¶ÂêàÊ≠£ÊÖãÂàÜ‰ΩàÁöÑÊï∏ÊìöÈõÜÔºåÂàÜÂà•Â∞çÊáâÁöÑÂùáÂÄºÂíåÊñπÂ∑ÆÁÇ∫c(1,10,100,1000)„ÄÇ\nset.seed(1)\r# Èï∑Â∫¶ÁÇ∫4\rn\u0026lt;-rep(4,4)\r# mÁÇ∫ÂùáÂÄºÔºåvÁÇ∫ÊñπÂ∑Æ\rm\u0026lt;-v\u0026lt;-c(1,10,100,1000)\r# ÁîüÊàê4ÁµÑÊï∏ÊìöÔºåÊåâÂàóÂàÜÁµÑ\rmapply(rnorm,n,m,v)\r#\u0026gt; [,1] [,2] [,3] [,4]\r#\u0026gt; [1,] 0.3735462 13.295078 157.57814 378.7594\r#\u0026gt; [2,] 1.1836433 1.795316 69.46116 -1214.6999\r#\u0026gt; [3,] 0.1643714 14.874291 251.17812 2124.9309\r#\u0026gt; [4,] 2.5952808 17.383247 138.98432 955.0664\r tapplyÂáΩÊï∏ tapplyÁî®ÊñºÂàÜÁµÑÁöÑÂæ™Áí∞Ë®àÁÆóÔºåÈÄöÈÅéINDEXÂèÉÊï∏ÂèØ‰ª•ÊääÊï∏ÊìöÈõÜXÈÄ≤Ë°åÂàÜÁµÑÔºåÁõ∏Áï∂Êñºgroup byÁöÑÊìç‰Ωú„ÄÇ\nÂáΩÊï∏ÂÆöÁæ©Ôºö\ntapply(X, INDEX, FUN = NULL, ..., simplify = TRUE)\r ÂèÉÊï∏ÂàóË°®Ôºö\n X: ÂêëÈáè INDEX: Áî®ÊñºÂàÜÁµÑÁöÑÁ¥¢Âºï FUN: Ëá™ÂÆöÁæ©ÁöÑË™øÁî®ÂáΩÊï∏ ‚Ä¶: Êé•Êî∂Â§öÂÄãÊï∏Êìö simplify : ÊòØÂê¶Êï∏ÁµÑÂåñÔºåÁï∂ÂÄºarrayÊôÇÔºåËº∏Âá∫ÁµêÊûúÊåâÊï∏ÁµÑÈÄ≤Ë°åÂàÜÁµÑ  ÊØîÂ¶ÇÔºåË®àÁÆó‰∏çÂêåÂìÅÁ®ÆÁöÑÈ≥∂Â∞æËä±ÁöÑËä±Áì£(iris)Èï∑Â∫¶ÁöÑÂùáÂÄº„ÄÇ\n# ÈÄöÈÅéiris$SpeciesÂìÅÁ®ÆÈÄ≤Ë°åÂàÜÁµÑ\rtapply(iris$Petal.Length,iris$Species,mean)\r#\u0026gt; setosa versicolor virginica #\u0026gt; 1.462 4.260 5.552\r ÂàÜÁµÑÊ±ÇÂíåÁöÑÁØÑ‰æã„ÄÇ\nset.seed(1)\rx\u0026lt;-1:10\r# ‰∫ÇË°ìÂàÜÊàê3ÁµÑÔºåÂàÜÂà•ÊòØ0,1,2 t\u0026lt;-round(runif(10,1,100)%%2);t\r#\u0026gt; [1] 1 2 2 1 1 2 1 0 1 1\r# Â∞çxÈÄ≤Ë°åÂàÜÁµÑÊ±ÇÂíå\rtapply(x,t,sum)\r#\u0026gt; 0 1 2 #\u0026gt; 8 36 11\r rapplyÂáΩÊï∏ eapplyÂáΩÊï∏ ÂáΩÊï∏ÂÆöÁæ©Ôºö\neapply(env, FUN, ..., all.names = FALSE, USE.NAMES = TRUE)\r Á∑¥ÁøíÔºö\n1 Êääiris ÊØèÂÄãÊ¨Ñ‰ΩçÁöÑÂä†Á∏ΩÂàóÂá∫ iris Êúâ‰∏ÄÂÄãÊ¨Ñ‰ΩçÊòØfactor\nÁØÑ‰æã Â∞áÊØèÂÄãrmdÊ™îÊ°à‰∏≠ÈúÄË¶ÅÁöÑÂáΩÊï∏Â∫´ÂàóË°® #setwd(~/directory1/)\rlibs = lapply(list.files(pattern = \u0026quot;\\\\.Rmd$\u0026quot;),\rfunction(x){\rd = readLines(x)\rd = d[grepl(\u0026quot;library\\\\(.*\\\\)\u0026quot;, d)]\rgsub(\u0026quot;library\\\\((.*)\\\\)\u0026quot;, \u0026quot;\\\\1\u0026quot;, d)\r})\runique(unlist(libs))\r note:\ngrepl :„ÄÄÈÇèËºØÂÄº\ngsub :„ÄÄÂè™ÊãøÂèñlibrary(\u0026quot;ÂáΩÊï∏Â∫´ÂêçÁ®±\u0026quot;)‰∏≠ÁöÑ\u0026quot;ÂáΩÊï∏Â∫´ÂêçÁ®±\u0026quot;„ÄÇ\n"},
{"uri": "/blogR//rlang/9_1_plot.html","title": "9.1 Âü∫Êú¨Áπ™Âúñ",
	"tags": [],
	"description": "Âü∫Êú¨Áπ™Âúñ",
	"content": "ÊèêÈªûÂíåÂèÉËÄÉ  Quick R  ‰∏ÄËà¨Ë¶ñÁ™ó‰ΩúÊ•≠Á≥ªÁµ±ÁöÑÁπ™ÂúñÔºåÊúÉÊúâ‰∏ÄÂÄãÊäΩË±°Áâ©‰ª∂deviceÂú®ÈÄôÂÄãdevice‰∏äÔºåÊúâ‰∏ÄÂÄãÊäΩË±°Áâ©‰ª∂canvasÔºåÂíåÁπ™ÂúñÂ∑•ÂÖ∑‰æãÂ¶ÇÔºåÊ∞¥ÂΩ©Á≠Ü‰πãÈ°ûÁöÑÊäΩË±°Áâ©‰ª∂ÂèØ‰ª•ÊåáÂÆöÈ°èËâ≤ÔºåÁ∑öÊ¢ùÁ≤óÁ¥∞Á≠âÁ≠â„ÄÇ Âú®R‰∏≠,Â∞çÊáâ‰∏äËø∞‰ΩúÊ•≠Á≥ªÁµ±ÁöÑÈóúÈçµÂ≠ó.Devices(paired list)„ÄÅ.Device(Èï∑Â∫¶ÁÇ∫1)„ÄÅdev.cur(ÁõÆÂâçÁöÑË£ùÁΩÆactive device)„ÄÇÈÄôË£°Ë™™ÁöÑDeviceÊåáÁöÑÊòØË¶ñÁ™ó„ÄÇÂú®Ë¶ñÁ™óË£°Èù¢ÁöÑÁï´Â∏É,Â∞±ÊòØRÊèê‰æõÁöÑÁπ™ÂúñÂáΩÊï∏Ëº∏Âá∫ÊâÄÂú®,‰æãÂ¶Çplot(),hist()Á≠âÁ≠â„ÄÇ\nÊâÄ‰ª•dev.new() ÊåáÁöÑÊòØÈñãÂïüÊñ∞Ë¶ñÁ™óÔºådev.curÊòØÁõÆÂâçË¶ñÁ™óËôüÁ¢º,dev.prev()Ââç‰∏ÄÂÄãË¶ñÁ™óËôüÁ¢º„ÄÇ ËÄåplot.new() ÂâáÊòØÊñ∞Â¢ûÁï´Â∏É„ÄÇË¶ãÁ∑¥Áøí\nüí° ÊÄéÊ®£Âø´ÈÄüÊü•Ë©¢Ôºü\n ??draw ?plot : ÂèÉËÄÉÂÖ∂‰∏≠ÁöÑplot.default Êü•ÁúãÂúñÂΩ¢ÈÅ∏È†Ö  ÂáΩÊï∏plot() ÂèØËÉΩÊúÄÂ∏∏Áî®ÁöÑÁπ™ÂúñÂáΩÊï∏Â∞±ÊòØplot(),ËÄåÈÄôÂÄãÂáΩÊï∏ÊØîËºÉÂ∏∏Áî®ÁöÑÈÅ∏È†ÖÊúâÔºö\n type: ÂÉÖÂàÜ‰ΩàÈªûÔºàÈ†êË®≠ÔºâÊòØÂê¶ÈÄ£Á∑öÁ≠âÂü∫Êú¨Ê®°Êùø„ÄÇ pch: mark cex: ÊîæÂ§ßÂÄçÊï∏ lty: Á∑öÊ¢ùÊ®£Âºèline style lwd: Á∑öÊ¢ùÂØ¨Â∫¶line width col:  type type description   p points(*)  l lines  o Èªû+Á∑ö ÈáçÂêà  b, c b(bothÁöÑÊÑèÊÄù) Èªû+Á∑ö,‰ΩÜÊòØ‰∏çÈáçÂêà(‰∏äÈù¢ÁöÑoÊòØÈáçÂêà) (Â¶ÇÊûúÊòØ\u0026quot;c\u0026quot; ÂâáÊ≤íÊúâÈªû)  s, S stair steps  h histogram-like vertical lines  n does not produce any points or lines     pch Ë≥áÊñôÈªû Á¨¶Ëôü Ë®≠ÂÆöÊ®£Êú¨ÈªûÁöÑÁ¨¶Ëôü,ÂèØ‰ª•Áî® pch (point character).\npch ÁöÑÂÄºÈô§‰∫ÜÂæû 0 Âà∞ 24 ÂÖ±25ÂÄãÁ¨¶ËôüÂ§ñÔºåÈÇÑÊúâ \u0026quot;*\u0026quot;, \u0026quot;+\u0026quot;, \u0026quot;o\u0026quot;, \u0026quot;@\u0026quot;, \u0026quot;#\u0026quot; ÂèØ‰ª•Áî®„ÄÇ\npch=0 square\rpch=1(*) circle\rpch=2 triangle point up\rpch=3 plus\rpch=4 cross\rpch=5 diamond\rpch=6 triangle point down\rpch=7 square cross\rpch=8 star\rpch=9 diamond plus\rpch=10 circle plus\rpch=11 triangles up and down\rpch=12 square plus\rpch=13 circle cross\rpch=14 square and triangle down\rpch=15 filled square blue\rpch=16 filled circle blue\rpch=17 filled triangle point up blue\rpch=18 filled diamond blue\rpch=19 solid circle blue\rpch=20 bullet (smaller circle)\rpch=21 filled circle red\rpch=22 filled square red\rpch=23 filled diamond red\rpch=24 filled triangle point up red\rpch=25 filled triangle point down red\r cex Ë≥áÊñôÈªûÂ§ßÂ∞è cex Áî®‰æÜÊîæÂ§ßÊñáÂ≠óÊàñÁ¨¶ËôüÁöÑÂÄçÊï∏\nÂõ†Ê≠§,\ncex = 1(*) is default size cex = 1.5 is 150% of default size cex = 0.5 is 50% of default size\r[Note : cex.axis --\u0026gt; scales the axis cex.lab ---\u0026gt; scales the label cex.main --\u0026gt; scales main title cex.sub ---\u0026gt; scales the subtitle ]\r lty Á∑öÊ¢ùÂûãÊÖã lty = 0 or lty = \u0026quot;blank\u0026quot;\rlty = 1(*) or lty = \u0026quot;solid\u0026quot;\rlty = 2 or lty = \u0026quot;dashed\u0026quot;\rlty = 3 or lty = \u0026quot;dotted\u0026quot;\rlty = 4 or lty = \u0026quot;dotdash\u0026quot;\rlty = 5 or lty = \u0026quot;longdash\u0026quot;\rlty = 6 or lty = \u0026quot;twodash\u0026quot;\r ÂèÉËÄÉÂæåÁØÄ\nÈ°èËâ≤ col col = \u0026quot;blue\ncol = \u0026quot;red\u0026quot;\ncol ÂæåÁöÑÂÄº,ÂèØÁî®colors() ‰æÜÊü•Ë©¢È°èËâ≤,ÊúÉÂÇ≥Âõû 657 ‰ª£Ë°®È°èËâ≤ÁöÑÂèÉÊï∏„ÄÇÊàñËÄÖ‰πüÂèØ‰ª•Áõ¥Êé•Áî®16ÈÄ≤‰ΩçÊï∏Â≠óÔºå‰æãÂ¶Ç\ncol = \u0026quot;#A9F3BB\u0026quot; ------\u0026gt; colour corresponding to Red=A9, Green=F3, Blue=BB in hexadecimal representation.\n\r\rfigure\r\r\rÁπ™Ë£ΩÂêëÈáè ‰∏≠ÁöÑË≥áÊñô\nx \u0026lt;- c(1,3,4,7,8,9)\ry \u0026lt;- c(0,3,6,9,7,8)\rplot(x,y,main='plot(x,y)')\r Áπ™Ë£Ωdata.frame ‰∏≠ÁöÑË≥áÊñô\nplot(mtcars$wt, mtcars$mpg) plot(mpg~wt,data=mtcars) # üè∑üëèÂíå‰∏äÈù¢ÁöÑÂúñÊ≤í‰ªÄÈ∫º‰∏çÂêå\rabline(lm(mtcars$mpg~mtcars$wt)) #üè∑üëèÈÄôÂÖ©Ë°åÁñäÂú®‰∏äÈù¢ÁöÑÂúñÂΩ¢‰∏ä\rtitle(\u0026quot;Regression of MPG on Weight\u0026quot;)\r  plot()ÂáΩÊï∏ÔºåÊñ∞Âª∫Ë¶ñÁ™óÁÑ∂ÂæåÁï´Âá∫ weight vs. miles per gallon. abline() ‰∏çÊúÉÈñãÂïüÊñ∞Ë¶ñÁ™óÂÅöÂúñÔºåabline()ÁöÑË™ûÊ≥ïÂ¶Ç‰∏ã: abline(a = NULL, b = NULL, h = NULL, v = NULL, reg = NULL,coef = NULL, untf = FALSE, ‚Ä¶)   ‰ª£Ë°®ÁöÑÊÑèÊÄùÊòØÁï´Âá∫‰∏ÄÊ¢ùÁõ¥Á∑öa+bx ÔºåÂÖ∂‰∏≠a‰ª£Ë°®Êà™Ë∑ùÂ∏∏Êï∏ÔºåbÂâáÊòØÊñúÁéáÂ∏∏Êï∏„ÄÇ‰æãÂ¶Ç  Y=2X+1ÔºåÂâáÂ∞çÊáâÁöÑÂáΩÊï∏ÁÇ∫ abline(a=1,b=2) „ÄÇ abline(h=3),Ê∞¥Âπ≥Á∑ö abline(v=2) ÂûÇÁõ¥      \rÁúã‰∏Ä‰∏ãattach()ÁöÑÁî®Ê≥ï\rÂ¶ÇÊûú‰∏çÊÉ≥Ë¶ÅÊâì$Â≠óËôü,ÂâáÁî®attach()\nattach(mtcars)\rplot(wt, mpg) abline(lm(mpg~wt))\rtitle(\u0026quot;Regression of MPG on Weight\u0026quot;)\r  ÂáΩÊï∏Áï´Âúñ x: -pi ~ 2*pi y: sin(x)\nplot(sin, -pi, 2*pi)  figure\r\r\rline() ÁØÑ‰æã require(stats) # for lowess, rpois, rnorm\rsummary(cars)\r#\u0026gt; speed dist #\u0026gt; Min. : 4.0 Min. : 2.00 #\u0026gt; 1st Qu.:12.0 1st Qu.: 26.00 #\u0026gt; Median :15.0 Median : 36.00 #\u0026gt; Mean :15.4 Mean : 42.98 #\u0026gt; 3rd Qu.:19.0 3rd Qu.: 56.00 #\u0026gt; Max. :25.0 Max. :120.00\rplot(cars)\rlines(lowess(cars)) #üè∑Áñä‰∏äÈ°çÂ§ñÁöÑÁ∑öÊ¢ù\r figure\r\r\r LOWESS, locally weighted scatter plot smoothing„ÄÇ Áõ∏ÈóúÈñ±ËÆÄ  attach(cars)\rplot(speed,dist,main=\u0026quot;Stopping Distance\u0026quot;, xlab=\u0026quot;Speed\u0026quot;, ylab=\u0026quot;Distance\u0026quot;, pch=21, bg=2, col=2)\rlines(lowess(cars, f=.3),col =1)\rlines(lowess(cars, f=.5),col =4)\rlines(lowess(cars, f=.1),col =7)\r scatterplot() ÁØÑ‰æã ÁØÑ‰æã (ÂèÉËÄÉ)\nif(!require(\u0026quot;car\u0026quot;))\rinstall.packages(\u0026quot;car\u0026quot;,repos=\u0026quot;http://cran.us.r-project.org\u0026quot;) # üè∑scatterplot Âú®ÈÄôÂÄãÂ•ó‰ª∂‰∏≠ #\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂Ôºöcar\r#\u0026gt; ËºâÂÖ•ÈúÄË¶ÅÁöÑÂ•ó‰ª∂ÔºöcarData\rlibrary(car)\rscatterplot(wt ~ mpg, data = mtcars)\rlines(lowess(mtcars$mpg,mtcars$wt),col =\u0026quot;red\u0026quot;,lwd=3)\r figure\r\r\r Á∂†Á∑ö: ÂõûÊ≠∏Á∑ö Á¥ÖËâ≤ËôõÁ∑ö:the smoothed conditional spread Á¥ÖËâ≤ÂØ¶Á∑ö:the non-parametric regression smooth  scatterplot(wt ~ mpg, data = mtcars, smooth = FALSE, grid = FALSE, frame = FALSE)\r \rfigure\r\r\rÂè¶‰∏ÄÂÄã‰æãÂ≠ê:‰∏çÂêåÁæ§ÁµÑ\nlibrary(car)\rscatterplot(Sepal.Length~Sepal.Width|Species,data=iris,grid=\u0026quot;FALSE\u0026quot;,\rboxplots=\u0026quot;\u0026quot;, pch=c(0,1,2))\rscatterplot(Petal.Width~Sepal.Width|Species,data=iris,grid=\u0026quot;FALSE\u0026quot;, boxplots=\u0026quot;\u0026quot;, pch=c(0,1,2))\r Histograms ÂáΩÊï∏hist(x)ÔºöÂÖ∂‰∏≠xÊòØ‰∏ÄÂÄãÊï∏Â≠óÂêëÈáèÔºå\n ÈÅ∏È†Öfreq=FALSE Áî®‰æÜÁï´Âá∫ probability densities ËÄå‰∏çÊòØÊ¨°Êï∏ frequencies. ÈÅ∏È†ÖÔºöbreaks= ## ÂâáÊòØÊéßÂà∂ÂàÜÊàêÂπæ‰ªΩ„ÄÇ  Simple Histogram\nhist(mtcars$mpg)\r figure\r\r\rÂàÜÊàê12‰ªΩÔºåÈ°èËâ≤Á¥ÖËâ≤„ÄÇ\nhist(mtcars$mpg, breaks=12, col=\u0026quot;red\u0026quot;)\r figure\r\r\rËá™Ë°åÁµ¶ÂÆöÂàÜÂâ≤Èªû\nhist(mtcars$mpg, breaks=c(4,5,12,50), col=\u0026quot;red\u0026quot;)\r figure\r\r\rAdd a Normal Curve Histograms can be a poor method for determining the shape of a distribution because it is so strongly affected by the number of bins used.\nx \u0026lt;- mtcars$mpg h\u0026lt;-hist(x, breaks=10, col=\u0026quot;red\u0026quot;, xlab=\u0026quot;Miles Per Gallon\u0026quot;, main=\u0026quot;Histogram with Normal Curve\u0026quot;) xfit\u0026lt;-seq(min(x),max(x),length=40) yfit\u0026lt;-dnorm(xfit,mean=mean(x),sd=sd(x)) yfit \u0026lt;- yfit*diff(h$mids[1:2])*length(x) #üè∑length(X)ÊòØÂÄãÊï∏,‰∏çÊòØÈï∑Â∫¶\rlines(xfit, yfit, col=\u0026quot;blue\u0026quot;, lwd=2)\r \rfigure\r\r\rhint: h: Ê¨°Êï∏ÂàÜÈÖçÂúñ,Âèà\n$$ pdf = \\frac{Ê©üÁéá}{Èï∑Â∫¶} =\\frac{\\frac{n}{N}}{bin \\quad width} $$\nÊâÄ‰ª•\n$$ n=pdf\\times N \\times (bin \\quad width) $$\nh\r#\u0026gt; $breaks\r#\u0026gt; [1] 10 12 14 16 18 20 22 24 26 28 30 32 34\r#\u0026gt; #\u0026gt; $counts\r#\u0026gt; [1] 2 1 7 3 5 5 2 2 1 0 2 2\r#\u0026gt; #\u0026gt; $density\r#\u0026gt; [1] 0.031250 0.015625 0.109375 0.046875 0.078125 0.078125 0.031250 0.031250\r#\u0026gt; [9] 0.015625 0.000000 0.031250 0.031250\r#\u0026gt; #\u0026gt; $mids\r#\u0026gt; [1] 11 13 15 17 19 21 23 25 27 29 31 33\r#\u0026gt; #\u0026gt; $xname\r#\u0026gt; [1] \u0026quot;x\u0026quot;\r#\u0026gt; #\u0026gt; $equidist\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; attr(,\u0026quot;class\u0026quot;)\r#\u0026gt; [1] \u0026quot;histogram\u0026quot;\r Kernel Density Plot Ê†∏ÂØÜÂ∫¶Áï´Âúñ(Kernal density plots) Áî®‰æÜËßÄÂØü‰∏ÄÂÄãËÆäÈáèÔºåÊØîËºÉÊúâÊúâÊïàÁéáÔºåÊåá‰ª§Â¶ÇÔºöplot(density(x)) ÂÖ∂‰∏≠x ÊòØ‰∏ÄÂÄãÊï∏Â≠óÂêëÈáè„ÄÇ\nd \u0026lt;- density(mtcars$mpg) # returns the density data plot(d) # plots the results\r figure\r\r\rFilled Density Plot d \u0026lt;- density(mtcars$mpg)\rplot(d, main=\u0026quot;Kernel Density of Miles Per Gallon\u0026quot;)\rpolygon(d, col=\u0026quot;red\u0026quot;, border=\u0026quot;blue\u0026quot;)\r figure\r\r"},
{"uri": "/blogR//rlang/9_2_%E5%A4%9A%E5%9C%96%E7%96%8A%E5%9C%96.html","title": "9.2 Â§öÂúñÁñäÂúñ",
	"tags": [],
	"description": "9_2_Â§öÂúñÁñäÂúñ",
	"content": "Â§öÂÄãÂúñÂíåÁñäÂúñ ÂÇªÁìúÊåá‰ª§‰æãÂ¶Ç (plot, hist, boxplot, etc.)Âü∫Êú¨‰∏äÊúÉÈñãÂïüÊñ∞Ë¶ñÁ™óÔºåÁÑ∂ÂæåÁï´Âúñ,ËÄåline(),scatterplot()ÂâáÊòØÁñäÂúñ„ÄÇÈÄôË£°Âè¶Â§ñÁúãÁúãÂπæÁ®ÆËá™Ë°åÊéßÂà∂ÁöÑÊñπÊ≥ïÔºö\nÂ§öË¶ñÁ™ó(multiple windows)„ÄÅÁµÑÂêàÂúñ(combining figure) ÂíåÁñäÂúñ(overlay)Ë®éË´ñ„ÄÇ\nÂ§öË¶ñÁ™ó ÈñãÂ§öË¶ñÁ™óÁöÑÊñπÊ≥ïÊ†πÊìöOSËÄå‰∏çÂêåÔºåÂ¶Ç‰∏ãÔºö\n   Function Platform     windows() Windows   X11() Unix   quartz() Mac    Ë¶ÅÈóúÈñâË¶ñÁ™óÔºåÂèØ‰ª•Áî®ÂáΩÊï∏dev.off()\nÂ¶ÇÊûúË¶ÅÁü•ÈÅìÁõÆÂâçÁöÑË¶ñÁ™óÊòØÈÇ£‰∏ÄÂÄãÔºåÂèØ‰ª•ÂèÉËÄÉ dev.cur()„ÄÇ Note: Â¶ÇÊûúÁõÆÂâçÊúâÂ§öÂÄãÂúñÁ™óÔºåÂâá‰∏ÄÁõ¥ÂëºÂè´ÈÄôÂÄãÂáΩÊï∏dev.off()ÔºåÊúÉ‰æùÊ¨°ÈóúÈñâË¶ñÁ™óÔºåÁõ¥Âà∞ÂáΩÊï∏ÂÇ≥ÂõûNULL„ÄÇ\nÈ©óË≠â‰∏äÈù¢ÁöÑË™™Ê≥ïÂèØ‰ª•Âà©Áî®\nhist(mtcars$mpg)\rdev.cur()\r#\u0026gt; png #\u0026gt; 2\rhist(mtcars$mpg)\r figure\r\r\rdev.cur()\r#\u0026gt; png #\u0026gt; 2\rdev.off()\r#\u0026gt; null device #\u0026gt; 1\r ‚ùì‰∏äÈù¢ÁöÑÁØÑ‰æãÔºåÂèØ‰ª•ÁúãÂà∞ÂúñË£ùÁΩÆÁöÑÁ∑®ËôüÈÉΩÊòØ2Ôºå‰πüÂ∞±ÊòØÂ§öÂÄãÂúñÂú®‰∏ÄÂÄãË¶ñÁ™ó‰∏ä„ÄÇÈÄôÊòØÂõ†ÁÇ∫Âú®Rmakdown‰∏≠,Ë¶ñÁ™óÈÉΩÊòØÈ†êË®≠ÁöÑË£ùÁΩÆ,Êñπ‰æøÊï¥ÂêàÂà∞ÊúÄÂæåÁöÑÊñá‰ª∂‰∏≠,Â¶ÇÊûúÂú®rscript‰∏≠,Ââádev.cur()ÊúÉÈ°ØÁ§∫ÂÖ©ÂÄãÁ∑®Ëôü„ÄÇ\nË®éË´ñ‰∏ãÈù¢ÁöÑËº∏Âá∫ÁµêÊûúÔºåÔºö\nÊØîËºÉÁ®ãÂºèÁ¢ºÂú®rmarkdownÂíåconsole‰∏≠Âü∑Ë°åÁöÑÁµêÊûúÔºü\nif(.Platform$OS.type==\u0026quot;windows\u0026quot;) windows() else X11()\rhist(mtcars$mpg)\rdev.cur()\rif(.Platform$OS.type==\u0026quot;windows\u0026quot;) windows() else X11()\rhist(mtcars$mpg)\rdev.cur()\r ÊèêÁ§∫\r Âú®rscript‚úî‰∏≠Âü∑Ë°åÊ≠£Â∏∏„ÄÇ\r‚õ≥**Ê∏¨Ë©¶,Á∑¥Áøí**  plot.new() # Âêå‰∏ÄÂÄãË¶ñÁ™óÔºåÊñ∞Â¢ûÂúñÂ±§\rdev.new() #Êñ∞Ë¶ñÁ™ó\rplot(1:1)\rdev.new()\rplot(2,2)\rdev.set(dev.prev()) # go back to first\rtitle(main=\u0026quot;test dev 1\u0026quot;)\rdev.set(dev.next()) # go to second\rtitle(main=\u0026quot;test dev 2\u0026quot;)\r Âêà‰Ωµ Plots par() about par() ÂêåÊôÇÈ°ØÁ§∫Â§öÂÄãplotÁöÑÁµêÊûúÔºåÂèØ‰ª•Âà©Áî®ÂáΩÊï∏par() or layout( )„ÄÇ\nÂáΩÊï∏par( )ÁöÑÈÅ∏È†ÖÊúâÔºö\nmfrow=c(nrows, ncols) Â°´plotÁöÑÊñπÂêëÁÇ∫Ê©´Ë°å(matrix flow by row)„ÄÇ\nmfcol=c(nrows, ncols) Â°´ÂÖ•ÁöÑÊñπÂêëÁÇ∫Áõ¥Ë°å„ÄÇ\nÂú®consoleÂü∑Ë°å(Ë™≤Â†ÇÂü∑Ë°å)\ndef.par\u0026lt;-par() # üè∑Â∞áÁõÆÂâçÁöÑÂèÉÊï∏Â≠òÂà∞def.par\rdef.par$mfrow\rdef.par\u0026lt;-par(mfrow=c(1,3))\rdef.par$mfrow\rpar()$mfrow # ÁõÆÂâçÁöÑË®≠ÂÆö\rpar(def.par) # ÈÇÑÂéü\r x\u0026lt;-par() ÊúÉÊääÁõÆÂâçÁöÑÂèÉÊï∏ÊãøÂá∫Â≠òÂà∞ËÆäÊï∏x„ÄÇ Â¶ÇÊûúpar() Êîæ‰∫ÜÂèÉÊï∏,ÊúÉÂú®Ë®≠ÂÆöÂÆåÊñ∞ÂèÉÊï∏‰ª•ÂæåÔºåÂÇ≥ÂõûËàäÁ¥ÄÈåÑ(‰∏ÄÂÄãÂéüÂõ†ÊòØ,‰æøÊñº‰ª•ÂæåÂÜçÈÇÑÂéü)„ÄÇÂú®ÈÄôÂÄãÈÅéÁ®ã‰∏≠ÔºåÊúâ‰∫õÂèÉÊï∏ÊòØÁÑ°Ê≥ï‰øÆÊîπÁöÑÔºåÂõ†Ê≠§\nop \u0026lt;- par(no.readonly = TRUE) # üè∑opÁèæÂú®ÊîæÁöÑÊòØÊâÄÊúâÂèØ‰ª•‰øÆÊîπÁöÑÂèÉÊï∏ÂíåÂèÉÊï∏ÂÄº„ÄÇ\r... (Êìç‰Ωú)\rpar(op) # üè∑ÈáçË®≠\r no.readonly=TÊòØË™™‰∏çË¶ÅÂîØËÆÄÂèÉÊï∏\r\r\r‚õ≥Á∑öÊ¢ùÂΩ¢Âºè`type`ÁöÑÂπæÁ®ÆÂü∫Êú¨È°ûÂûãÁØÑ‰æã  x \u0026lt;- c(1,3,4,7,8,9)\ry \u0026lt;- c(0,3,6,9,7,8)\rpar(mfrow=c(2,3))\rplot(x,y,main='plot(x,y)',col=\u0026quot;red\u0026quot;)\rplot(x,y,type=\u0026quot;l\u0026quot;,main=\u0026quot;plot(x,y,type='l')\u0026quot;,col=\u0026quot;green\u0026quot;)\rplot(x,y,type=\u0026quot;b\u0026quot;,main=\u0026quot;plot(x,y,type='b')\u0026quot;)\rplot(x,y,type=\u0026quot;o\u0026quot;,main=\u0026quot;plot(x,y,type='o')\u0026quot;)\rplot(x,y,type=\u0026quot;s\u0026quot;,main=\u0026quot;plot(x,y,type='s')\u0026quot;)\rplot(x,y,type=\u0026quot;h\u0026quot;,main=\u0026quot;plot(x,y,type='h')\u0026quot;)\r figure\r\r\rÁØÑ‰æã\nattach(mtcars)\rpar(mfrow=c(2,2))\rplot(wt,mpg, main=\u0026quot;Scatterplot of wt vs. mpg\u0026quot;)\rplot(wt,disp, main=\u0026quot;Scatterplot of wt vs disp\u0026quot;)\rhist(wt, main=\u0026quot;Histogram of wt\u0026quot;)\rboxplot(wt, main=\u0026quot;Boxplot of wt\u0026quot;)\r figure\r\r\r# attach(mtcars)\rpar(mfrow=c(1,3)) hist(wt)\rhist(mpg)\rhist(disp)\r figure\r\r\r#dev.off()\r note: par(mar) ÂàóÂá∫margin\npar(mar=c(1,1,1,1)) Êõ¥Âãïmargin\nplot.new()Â∏∏ÁôºÁîüÁöÑÈåØË™§ : figure margins too large\nÊúâÂÖ©ÂÄãÂéüÂõ†Ôºö1 ÊòØÁï´Â∏ÉÈÅéÂ∞è 2ÔºåÁï∂ÂâçÁï´Â∏ÉÁöÑ‰∏ä‰∏ãÂ∑¶Âè≥Ë∑ùÈõ¢ÈÅéÂ§ß ÈÄôË£°ÁúãÁúãÂ¶Ç‰ΩïËß£Á¨¨‰∫åÂÄãÁôºÁîüÂéüÂõ†\nÈªòË™çÁöÑÁï´Â∏É‰∏äÈÇäÊ¨æÁöÑË∑ùÈõ¢ÁÇ∫Ôºö È†êË®≠ÁÇ∫ c(5, 4, 4, 2) + 0.1. Â∞çÊáâ c(bottom, left, top, right)Ôºå‰πüÂ∞±ÊòØÈ†ÜÊôÇÈáùÔºåÁî±‰∏ãÂà∞Âè≥ÁµêÊùü‰∏ÄÂúà„ÄÇ\nÊàëÂÄëÂèØ‰ª•Â∞áÂÖ∂Ë®≠ÁΩÆÁÇ∫0ÔºåÂêåÊôÇÂ∞áÁõÆÂâçÁöÑË®≠ÂÆöÁ¥ÄÈåÑÔºåÂæåÈù¢Á®ãÂºèÁöÑÁ¨¨‰∏ÄË°å\nop \u0026lt;- par(mar = rep(0, 4)) # op ÊúÉÁ¥ÄÈåÑ‰πãÂâçÁöÑmargin = 5.1 4.1 4.1 2.1 plot.new() # Áï´Âúñ par(op) # ÊîπÂõûÂéüÂÖàÁöÑmargin  \r\rÊòØ‰∏çÊòØÊúâÈúÄË¶ÅÂØ´ÂÄãÊñ∞ÂáΩÊï∏ÔºåÁî®‰æÜÈáçË®≠Ë£ùÁΩÆÂèÉÊï∏Ôºü ‰∏ãÈù¢ÈÄôÂÄãÂáΩÊï∏resetPar()Áî¢ÁîüÊñ∞ÁöÑÈáçË®≠ÂèÉÊï∏,Áî®‰æÜÂ∞ádeviceÂõûÂæ©ÊàêÂéüÂÖàÁöÑË®≠ÂÆöÂÄº:\n‰∏ªË¶ÅÁúãÈÄô‰∏ÄË°å:par(no.readonly = TRUE)„ÄÇ ÊÑèÊÄùÊòØË™™Ôºå‰∏çË¶ÅÂÇ≥Âõû readonlyÁöÑË®≠ÂÆö„ÄÇ\nresetPar \u0026lt;- function() {\rdev.new() #ÈáçÊñ∞ÈñãÂßã‰∏ÄÂÄãË£ùÁΩÆ\rop \u0026lt;- par(no.readonly = TRUE)#Âõ†ÁÇ∫ÊòØÊñ∞ÁöÑÔºåÊâÄ‰ª•Ë£°Èù¢ÁöÑË®≠ÂÆöÈÉΩÊòØÈ†êË®≠ÂÄº\rdev.off()# Âè™ÊòØÊää‰πãÂâçÁöÑÊñ∞Ë£ùÁΩÆÈóúÊéâ\rop # ÂÇ≥ÂõûÈ†êË®≠ÂÄº\r}\r# ‰ΩøÁî®ÊñπÊ≥ï\rpar(resetPar)\r ÊèêË¶Å\npar() # view current settings opar \u0026lt;- par() # make a copy of current settings par(col.lab=\u0026quot;red\u0026quot;) # red x and y labels hist(mtcars$mpg) # create a plot with these new settings par(opar) #ÂõûÂæ©Âéü‰æÜÁöÑË®≠ÂÆö\r \r\rÊõ¥Â§öÁöÑÂúñÂΩ¢ÊéßÂà∂: Âú®Êï£‰ΩàÂúñ‰∏≠Âä†ÂÖ•boxplot\n# windowsÂúñÁöÑÂ∫ßÊ®ôÔºåÂ∑¶‰∏ãËßí(0,0)Âè≥‰∏äËßí(1,1)\rpar(mar=rep(2,4)) #Ë®≠ÂÆömargin\rpar(fig=c(0,0.8,0,0.8)) #üè∑XËª∏Âæû0Âà∞0.8,YËª∏‰πüÊòØ„ÄÇÂõ†Ê≠§ÔºåÂ∑¶‰∏ã(0,0)Âè≥‰∏ä(0.8,0.8) # üè∑Â∑¶‰∏ã(x1,y1)Âè≥‰∏ä(x2,y2) =\u0026gt; c(x1,x2,y1,y2) plot(mtcars$wt, mtcars$mpg, xlab=\u0026quot;Car Weight\u0026quot;,ylab=\u0026quot;Miles Per Gallon\u0026quot;)\rpar(fig=c(0,0.8,0.55,1), new=TRUE) #üè∑Âêå‰∏ÄÂÄãÂúñ,Âõ†ÁÇ∫Ê≤íÊúâË®≠ÂÆödev.new\rboxplot(mtcars$wt, horizontal=TRUE, axes=FALSE)\rpar(fig=c(0.65,1,0,0.8),new=TRUE)\rboxplot(mtcars$mpg, axes=FALSE)\rmtext(\u0026quot;Enhanced Scatterplot\u0026quot;, side=3, outer=TRUE, line=-3)\r figure\r\r\rRMD ‰∏≠ÁöÑÂúñ ‰∏¶ÊéíÈ°ØÁ§∫ÂúñÂΩ¢(ÂèÉËÄÉ):\n```{r out.width=c('50%', '50%') , fig.show='hold'}\rboxplot(1:10)\rplot(rnorm(10))\r```\r Âü∑Ë°åÁµêÊûú\r\r\rÁ∑¥Áøí Á∑¥Áøí1\nËÆì‰∏ãÈù¢ÂÖ©ÂÄãÂúñÈáçÁñä\nboxplot(mtcars$wt, axes=FALSE)\rpar(new=TRUE)\rboxplot(mtcars$mpg, axes=FALSE)\r Á∑¥Áøí2\nËÆìdisp,mpg ÁöÑhistogram ÁñäÂú®‰∏ÄËµ∑:\nfigure\r\r\rÁ∑¥Áøí3\nÊ∏¨Ë©¶ÈÄôÁØáÊñáÁ´†\nlayout() ÂáΩÊï∏ layout( ) ÁöÑ‰ΩøÁî®ÊñπÊ≥ïÁÇ∫\tlayout(mat) ÂÖ∂‰∏≠ mat ÁöÑÂÖÉÁ¥†Áî®‰æÜÊåáÂÆöÂúñÂΩ¢ËôüÁ¢º„ÄÇ‰æãÂ¶ÇÂàÜÊàê4ÂÄãÊ†ºÂ≠ê,È†ÜÂ∫èÁÇ∫Â∑¶Âè≥‰∏ä‰∏ã(byrow=TRUE)\nÂ¶Çlayout(matrix(c(1,1,2,3), 2, 2, byrow = TRUE)) Â∞çÊáâÂ¶Ç‰∏ãË°®\n         1 1   2 3    # One figure in row 1 and two figures in row 2\r#attach(mtcars)\rlayout(matrix(c(1,1,2,3), 2, 2, byrow = TRUE))\rhist(wt)\rhist(mpg)\rhist(disp)\r figure\r\r\r#dev.off()\r Âú®layout()ÂáΩÊï∏‰∏≠Ôºå‰πüÂèØ‰ª•Êõ¥ÊîπÂúñÂΩ¢Â§ßÂ∞èÔºåÂÖ∂ÂèÉÊï∏ ÁÇ∫Ôºö widths= Êï∏Â≠óÂêëÈáèÔºåÁî®‰æÜ‰ª£Ë°®column ÂØ¨Â∫¶ heights= Êï∏Â≠óÂêëÈáèÔºåÁî®‰æÜ‰ª£Ë°®row È´òÂ∫¶\nnote:Relative widths are specified with numeric values. Absolute widths (in centimetres) are specified with the lcm() function.\nÁñäÂúñ Êúâ‰∫õÁπ™ÂúñÊåá‰ª§ÁöÑÈÅ∏È†ÖÔºåÂèØ‰ª•Âà©Áî®add=T„ÄÇ\nüí• plotÊåá‰ª§‰∏çÊîØÊè¥add=T\ncurve( dnorm(x,0,1), -5 , 5, lwd=1, lty=1)\rcurve( dnorm(x,0,2), add=TRUE, lwd=2, lty=2)\rcurve( dnorm(x,0,3) , add=TRUE, lwd=3, lty=3)\r# Add the legend\rlegend( \u0026quot;topright\u0026quot;,c(\u0026quot;sigma=1\u0026quot;,\u0026quot;sigma=2\u0026quot;,\u0026quot;sigma=3\u0026quot;) , lwd=1:3, lty=1:3)\r figure\r\r\rÂàÜÁµÑÁï´Âúñ Comparing Groups VIA Kernal Density The sm.density.compare( ) function in the sm package allows you to superimpose the kernal density plots of two or more groups. The format is sm.density.compare(x, factor) where x is a numeric vector and factor is the grouping variable.\nCompare MPG distributions for cars with 4,6, or 8 cylinders library(sm)\rattach(mtcars)\r#create value labels cyl.f \u0026lt;- factor(cyl, levels= c(4,6,8),\rlabels = c(\u0026quot;4 cylinder\u0026quot;, \u0026quot;6 cylinder\u0026quot;, \u0026quot;8 cylinder\u0026quot;)) #plot densities sm.density.compare(mpg, cyl, xlab=\u0026quot;Miles Per Gallon\u0026quot;)\rtitle(main=\u0026quot;MPG Distribution by Car Cylinders\u0026quot;)\r#add legend via mouse click\rcolfill\u0026lt;-c(2:(2+length(levels(cyl.f)))) legend(locator(1), levels(cyl.f), fill=colfill)\r "},
{"uri": "/blogR//rlang/9_3_plot.html","title": "9.3 Plot more",
	"tags": [],
	"description": "Âü∫Êú¨Ë™ûÊ≥ï",
	"content": "Êõ¥Â§öÁπ™Âúñ Áπ™ÂúñÂçÄ‰∏≠ÁöÑÂ≠ó‰∏≤ ÂáΩÊï∏ text() Âú®Áπ™ÂúñÂçÄÂ°´ÂÖ•Â≠ó‰∏≤,Á∞°ÂåñÁöÑÊåá‰ª§Â¶Ç‰∏ã:\ntext(x, y, labels)\nx and y: ÊñáÂ≠óÂ∫ßÊ®ô;\nlabels: ‰æãÂ¶Ç \u0026quot;a label\u0026quot;\npos: ‰∏ãÂ∑¶‰∏äÂè≥Ôºå1234\ncex: ÊîæÂ§ßÂÄçÊï∏Ôºå‰æãÂ¶ÇÔºå0.65„ÄÇ\nÁØÑ‰æã :\nd\u0026lt;-head(mtcars)\rplot(d[,'wt'], d[,'mpg'], main=\u0026quot;Milage vs. Car Weight\\n~~~~~~~~~~~~~~~~~~~\u0026quot;,\rxlab=\u0026quot;Weight\u0026quot;, ylab=\u0026quot;Miles/(US) gallon\u0026quot;,\rpch=19, col=\u0026quot;darkgreen\u0026quot;)\rtext(d[,'wt'], d[,'mpg'], row.names(d), cex=1,pos=3,col=\u0026quot;red\u0026quot;)  figure\r\r\rÂú®ÂúñÂΩ¢margin‰∏≠Â°´ÂÖ•ÊñáÂ≠ó mtext(text, side=3) text : ‰æãÂ¶Ç\u0026quot;a label\u0026quot; side : Âì™‰∏ÄÂÅ¥ :\nÈ†ÜÊôÇÈáù 1: ‰∏ã 2: Â∑¶ 3: ‰∏ä 4: Âèà\nÁØÑ‰æã :\nplot(1:10, 1:10, main=\u0026quot;mtext(...) examples\\n~~~~~~~~~~~\u0026quot;)\rmtext(\u0026quot;Magic function\u0026quot;, side=3)\r figure\r\r\rAdd mathematical annotation to a plot plot(1:10, 1:10, main=\u0026quot;text(...) examples\\n~~~~~~~~~~~\u0026quot;)\rtext(4, 9, expression(hat(beta) == (X^t * X)^{-1} * X^t * y))\rtext(7, 4, expression(bar(x) == sum(frac(x[i], n), i==1, n)))\r figure\r\r\rÂáΩÊï∏Áï´Âúñ eq = function(x){x*x}\rplot(eq(1:1000), type='l')\r \rfigure\r\r\rÂïèÈ°åÊòØÂ¶ÇÊûúxÂ∫ßÊ®ôÁöÑÂ¢ûÂä†‰∏çÊòØ1ÂñÆ‰Ωç?\nx\u0026lt;-seq(1,10,0.1)\ry\u0026lt;-exp(x)\rx\u0026lt;-y\req = function(x){x*x}\rplot(x,eq(x), type='l')\r figure\r\r\rplot()ÁöÑÂèÉÊï∏ÂèØ‰ª•ÊòØy ÊàñÂÖ©ÂÄãÂèÉÊï∏(x,y),‰ΩÜÊòØÂáΩÊï∏curv()ÁöÑÁ¨¨‰∏ÄÂÄãÂèÉÊï∏ÊòØexpr,‰∏çÊòØy„ÄÇ\n„äôÔ∏è Â¶ÇÊûú‰∏çÊåáÂÆöfrom,to,ÊàñËÄÖadd=T,ÂÖßÂÆöÊòØÂæû0Âà∞1„ÄÇ\neq = function(x){x*x}\rcurve(eq, from=1, to=50, xlab=\u0026quot;x\u0026quot;, ylab=\u0026quot;y\u0026quot;)\r figure\r\r\r ‚ùì1 Ëß£Èáã‰∏ãÈù¢ÂÖ©ÂÄãÁ®ãÂºèÂçÄÂ°äÁÇ∫‰ΩïÈåØË™§?Â¶Ç‰Ωï‰øÆÊ≠£?  eq = function(x){x*x}\ry\u0026lt;-eq(1:50)\rcurve(y, xlab=\u0026quot;x\u0026quot;, ylab=\u0026quot;y\u0026quot;)\r#\u0026gt; Error in y(x): Ê≤íÊúâÈÄôÂÄãÂáΩÂºè \u0026quot;y\u0026quot;\r  ‚ùì2‰∏ãÈù¢ÁöÑÈåØË™§?  eq = function(x){x*x}\rz\u0026lt;-1:50\rcurve(eq(z), xlab=\u0026quot;x\u0026quot;, ylab=\u0026quot;y\u0026quot;)\r Error in curve(eq(z), xlab = \"x\", ylab = \"y\") : 'expr' must be a function, or a call or an expression containing 'x'\nüíØ‰∏äÈù¢ÁöÑeq() („äôÔ∏è ÈÄôÂÄãÂèÉÊï∏ÊúÉË¢´ËΩâÊàêexpression ËÄåÈÄôÂÄãË°®ÈÅîÂºèÈúÄË¶Åsymbol x),ËÄåÂáΩÊï∏‰∏≠ÁöÑËÆäÊï∏Â¶ÇÊûúÊòØzÂ∞±Êâæ‰∏çÂà∞ÁÑ∂ÂæåÁôºÁîüÈåØË™§„ÄÇ\nsolution:\ncurve(eq(z),xname=\u0026quot;z\u0026quot;, xlab=\u0026quot;x\u0026quot;, ylab=\u0026quot;y\u0026quot;)\r plot example Ê≠£Â∏∏\npolyred = curve(dnorm(x), xlim = c(-4,4)) polygon(polyred$x, polyred$y, col = \u0026quot;red\u0026quot;)\r figure\r\r\r‚ùì Ëß£Èáã‰∏ãÈù¢ÂÖ©ÂÄã,Á¨¨‰∏ÄÂÄãÊòØÈåØÁöÑ\n‚ùå ÈÄô‰∏çÊòØÊàëÂÄëË¶ÅÁöÑÂúñ\neq = function(x){x*x}\ry\u0026lt;-eq(1:50)\rcurve(eq, 1,50,xlab=\u0026quot;x\u0026quot;, ylab=\u0026quot;y\u0026quot;,lwd=5,col=\u0026quot;yellow\u0026quot;)\rpolygon(1:50,y,lty=2,col=\u0026quot;red\u0026quot;)\r \rfigure\r\r\r‚≠ï\neq = function(x){x*x}\ry\u0026lt;-eq(1:50)\rcurve(eq, 1,50,xlab=\u0026quot;x\u0026quot;, ylab=\u0026quot;y\u0026quot;,lwd=5,col=\u0026quot;yellow\u0026quot;)\rpolygon(c(1:50,50),c(y,0),lty=2,col=\u0026quot;red\u0026quot;)\r \rfigure\r\r\rüíØ Á¨¨‰∏ÄÂÄãÈªûÂíåÊúÄÂæå‰∏ÄÂÄãÈªûÊúÉÈÄ£Âú®‰∏ÄËµ∑„ÄÇÁÑ∂ÂæåÂ°´Ëâ≤„ÄÇ\nrug set.seed(3)\rx \u0026lt;- rbeta(150, 3, 25)\r#png(\u0026quot;rug.png\u0026quot;)\rhist(x)\rrug(quantile(x)[2:4], col=2, lwd=2.5) # È†êË®≠ÊòØ \u0026quot;0%\u0026quot; \u0026quot;25%\u0026quot; \u0026quot;50%\u0026quot; \u0026quot;75%\u0026quot; \u0026quot;100%\u0026quot;\r figure\r\r\rset.seed(3)\rx \u0026lt;- rbeta(150, 3, 25)\r#png(\u0026quot;rug.png\u0026quot;)\rhist(x)\rabline(v= quantile(x)[2:4],lty=\u0026quot;dotted\u0026quot;,col=\u0026quot;red\u0026quot; )\rxpos= quantile(x)[2:4]\rtext(xpos[1],0, \u0026quot;25%\u0026quot;)\rtext(xpos[2],0, \u0026quot;50%\u0026quot;)\rtext(xpos[3],0, \u0026quot;75%\u0026quot;)\r figure\r\r\rÁ∑¥Áøí par(mfrow=c(2,2))\rplot(dnorm(x),xlim=c(-4,4))\rplot(pnorm(x),xlim=c(-4,4))\rplot(qnorm(x),xlim=c(-4,4))\rplot(rnorm(x),xlim=c(-4,4))\r figure\r\r\rÂúñÂΩ¢Â≠òÊ™î ÂèØ‰ª•Âà©Áî®menuÂ≠òÊ™îÔºå‰æãÂ¶ÇFile -\u0026gt; Save As. ‰πüÂèØ‰ª•Âà©Áî®ÂáΩÊï∏Ôºö Function Output to   pdf(\u0026quot;mygraph.pdf\u0026quot;) pdf file  win.metafile(\u0026quot;mygraph.wmf\u0026quot;) windows metafile  png(\u0026quot;mygraph.png\u0026quot;) png file  jpeg(\u0026quot;mygraph.jpg\u0026quot;) jpeg file  bmp(\u0026quot;mygraph.bmp\u0026quot;) bmp file  postscript(\u0026quot;mygraph.ps\u0026quot;) postscript file    \n# Give the chart file a name.\rpng(file = \u0026quot;scatterplot_matrices.png\u0026quot;)\r# Plot the matrices between 4 variables giving 12 plots.\r# One variable with 3 others and total 4 variables.\rpairs(~wt+mpg+disp+cyl,data = mtcars,\rmain = \u0026quot;Scatterplot Matrix\u0026quot;)\r# Save the file.\rdev.off()\r"},
{"uri": "/blogR//rlang/xxx.html","title": "xxx",
	"tags": [],
	"description": "xxx",
	"content": " ÂèÉËÄÉroot.dir ÁõÆÂâçÁöÑÂ∑•‰ΩúÂçÄ  getwd()\r#\u0026gt; [1] \u0026quot;D:/work/rmi_r\u0026quot;\rknitr::opts_knit$get(\u0026quot;base.dir\u0026quot;)\r#\u0026gt; [1] \u0026quot;content/rlang\u0026quot;\rknitr::opts_knit$get(\u0026quot;root.dir\u0026quot;)\r#\u0026gt; NULL\r #load('resources/audit.dta')\rlibrary(haven)\raudit\u0026lt;-read_dta('resources/audit.dta')\r#\u0026gt; Error: 'resources/audit.dta' does not exist in current working directory ('D:/work/rmi_r').\rhead(audit)\r#\u0026gt; Error in head(audit): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'audit'\r yÊòØÂâçÂÖ©ÂÄãÊ¨Ñ‰ΩçÁõ∏Ê∏õ„ÄÇ‰ª•Á¨¨1Á≠ÜË≥áÊñôÁÇ∫‰æãÔºåÂÖ©ÂÄãÈÉΩÊòØ1ÔºåÊ≤íÂ∑ÆÂà•(y=0)„ÄÇ\nload('resources/audit.dta')\r#\u0026gt; Warning in readChar(con, 5L, useBytes = TRUE): ÁÑ°Ê≥ïÈñãÂïüÂ£ìÁ∏ÆÈÅéÁöÑÊ™îÊ°à 'resources/\r#\u0026gt; audit.dta'ÔºåÂèØËÉΩÁöÑÂéüÂõ†ÊòØ 'No such file or directory'\r#\u0026gt; Error in readChar(con, 5L, useBytes = TRUE): ÁÑ°Ê≥ïÈñãÂïüÈÄ£Êé•\r# Ingredients to CI formula\r(avgy\u0026lt;- mean(audit$y))\r#\u0026gt; Error in mean(audit$y): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'audit'\r(n \u0026lt;- length(audit$y))\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'audit'\r(sdy \u0026lt;- sd(audit$y))\r#\u0026gt; Error in is.data.frame(x): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'audit'\r(se \u0026lt;- sdy/sqrt(n))\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'sdy'\r(c \u0026lt;- qnorm(.975))\r#\u0026gt; [1] 1.959964\r# 95% Confidence intervall:\ravgy + c * c(-se,+se)\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'avgy'\r# 99% Confidence intervall:\ravgy + qnorm(.995) * c(-se,+se)\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'avgy'\r"},
{"uri": "/blogR//econometrics/1_t%E6%AA%A2%E5%AE%9A.html","title": "1.0 tÊ™¢ÂÆö",
	"tags": [],
	"description": "tÊ™¢ÂÆö",
	"content": "ÈúÄË¶ÅÂ•ó‰ª∂\nif(!require(devtools)) install.packages(\u0026quot;devtools\u0026quot;)\rdevtools::install_github(\u0026quot;kassambara/ggpubr\u0026quot;) # Or, install from CRAN as follow: install.packages(\u0026quot;ggpubr\u0026quot;)\rinstall.packages(\u0026quot;PairedData\u0026quot;) #üè∑üëèBox plots show you the increase, but lose the paired information. You can use the function plot.paired() [in pairedData package] to plot paired data (‚Äúbefore - after‚Äù plot).\r Formula of paired samples t-test t-test statistisc value can be calculated using the following formula:\n$$ t = \\frac{m}{s/\\sqrt{n}} $$\nwhere,\n m is the mean differences n is the sample size (i.e., size of d). s is the standard deviation of d  Âú®R‰∏≠,ÈÖçÂ∞çÊ®£Êú¨ÁöÑÂπ≥ÂùáÊØîËºÉ ÂèØ‰ª•Áî®ÂáΩÊï∏t.test()\nt.test(x, y, paired = TRUE, alternative = \u0026quot;two.sided\u0026quot;)\r  x,y: numeric vectors paired: a logical value specifying that we want to compute a paired t-test alternative: the alternative hypothesis.  two.sided (*), greater less.    Áî¢ÁîüË≥áÊñô\nbefore \u0026lt;-c(200.1, 190.9, 192.7, 213, 241.4, 196.9, 172.2, 185.5, 205.2, 193.7)\rafter \u0026lt;-c(392.9, 393.2, 345.1, 393, 434, 427.9, 422, 383.9, 392.3, 352.2)\rmy_data \u0026lt;- data.frame( group = rep(c(\u0026quot;before\u0026quot;, \u0026quot;after\u0026quot;), each = 10), weight = c(before, after)\r) # üè∑üëèrep() ‰∏≠ÁöÑeach,Ë°®Á§∫ÊØèÂÄãÂÖÉÁ¥†ÈáçË§á10Ê¨°,Âê¶ÂâáÂ∞±ÊòØb,aÈáçË§á10Ê¨°\r# We want to know, if there is any significant difference in the mean weights after treatment?\r# Compute summary statistics (mean and sd) by groups using the dplyr package.\rlibrary(\u0026quot;dplyr\u0026quot;)\rgroup_by(my_data, group) %\u0026gt;%\rsummarise(\rcount = n(),\rmean = mean(weight, na.rm = TRUE),\rsd = sd(weight, na.rm = TRUE)\r)\r group count mean sd   after 10 393.65 29.39801  before 10 199.16 18.47354     Plot weight by group and color by group Visualize your data using box plots\nlibrary(\u0026quot;ggpubr\u0026quot;)\rggboxplot(my_data, x = \u0026quot;group\u0026quot;, y = \u0026quot;weight\u0026quot;, color = \u0026quot;group\u0026quot;, palette = c(\u0026quot;#00AFBB\u0026quot;, \u0026quot;#E7B800\u0026quot;),\rorder = c(\u0026quot;before\u0026quot;, \u0026quot;after\u0026quot;),\rylab = \u0026quot;Weight\u0026quot;, xlab = \u0026quot;Groups\u0026quot;)\r figure\r\r\rPlot paired data:\n# Subset weight data before treatment\rbefore \u0026lt;- subset(my_data, group == \u0026quot;before\u0026quot;, weight, drop = TRUE)\r# subset weight data after treatment\rafter \u0026lt;- subset(my_data, group == \u0026quot;after\u0026quot;, weight, drop = TRUE)\r# Plot paired data\rlibrary(PairedData)\rpd \u0026lt;- paired(before, after)\rplot(pd, type = \u0026quot;profile\u0026quot;) + theme_bw() #üè∑üëètheme_bw()ÈªëÁôΩ‰∏ªÈ°å\r figure\r\r\rPreleminary test to check paired t-test assumptions  Assumption 1: Are the two samples paired?   Yes, since the data have been collected from measuring twice the weight of the same mice.   Assumption 2: Is this a large sample?   No, because n \u0026lt; 30. Since the sample size is not large enough (less than 30), we need to check whether the differences of the pairs follow a normal distribution.  ‚ùìHow to check the normality? Use Shapiro-Wilk normality test as described at: Normality Test in R.\n Null hypothesis: the data are normally distributed Alternative hypothesis: the data are not normally distributed  # compute the difference\rd \u0026lt;- with(my_data, weight[group == \u0026quot;before\u0026quot;] - weight[group == \u0026quot;after\u0026quot;])\r# Shapiro-Wilk normality test for the differences\rshapiro.test(d) # =\u0026gt; p-value = 0.6141\r#\u0026gt; #\u0026gt; Shapiro-Wilk normality test\r#\u0026gt; #\u0026gt; data: d\r#\u0026gt; W = 0.94536, p-value = 0.6141\r pÂÄº\u0026gt; significance level 0.05 Â∑ÆÁï∞(d)ÁöÑÂàÜÈÖçÊ≤íÊúâÈ°ØËëóÁï∞ÊñºÂ∏∏ÊÖãÂàÜÈÖç,Âõ†Ê≠§ÂèØ‰ª•ÂÅáË®≠ÊòØÂ∏∏ÊÖãÂàÜÈÖç„ÄÇ Â¶ÇÊûú‰∏çÊòØÂ∏∏ÊÖãÂàÜÈÖç,ÂèØ‰ª•ËÄÉÊÖÆ‰ΩøÁî®non parametric paired two-samples Wilcoxon test.\r\r\rpaired t-test: Is there any significant changes in the weights of mice after treatment? paired t-test\n  ÊñπÊ≥ï1: Ë≥áÊñôË¢´ÂàÜÊàêÂÖ©ÂÄãË≥áÊñôÈõÜ„ÄÇ\n# Compute t-test\rres \u0026lt;- t.test(before, after, paired = TRUE)\rres\r#\u0026gt; #\u0026gt; Paired t-test\r#\u0026gt; #\u0026gt; data: before and after\r#\u0026gt; t = -20.883, df = 9, p-value = 6.2e-09\r#\u0026gt; alternative hypothesis: true difference in means is not equal to 0\r#\u0026gt; 95 percent confidence interval:\r#\u0026gt; -215.5581 -173.4219\r#\u0026gt; sample estimates:\r#\u0026gt; mean of the differences #\u0026gt; -194.49\r   ÊñπÊ≥ï2:Èï∑Ë≥áÊñô\n# Compute t-test\rres \u0026lt;- t.test(weight ~ group, data = my_data, paired = TRUE)\rres\r#\u0026gt; #\u0026gt; Paired t-test\r#\u0026gt; #\u0026gt; data: weight by group\r#\u0026gt; t = 20.883, df = 9, p-value = 6.2e-09\r#\u0026gt; alternative hypothesis: true difference in means is not equal to 0\r#\u0026gt; 95 percent confidence interval:\r#\u0026gt; 173.4219 215.5581\r#\u0026gt; sample estimates:\r#\u0026gt; mean of the differences #\u0026gt; 194.49\r    ‰πãÂâçÁöÑÂπ≥ÂùáÂ∞èÊñº‰πãÂæåÁöÑÂπ≥Âùá t.test(weight ~ group, data = my_data, paired = TRUE, alternative = \u0026quot;less\u0026quot;)\r  ‰πãÂâçÁöÑÂπ≥ÂùáÂ§ßÊñº‰πãÂæåÁöÑÂπ≥Âùá t.test(weight ~ group, data = my_data, paired = TRUE, alternative = \u0026quot;greater\u0026quot;)\r   ÊúÄÂæåÂõ†ÁÇ∫ÈÄôÂÄãpÂÄº 6.210^{-9}, Â∞èÊñº significance level alpha = 0.05. Âõ†Ê≠§‰πãÂæåÈ°ØËëóÁï∞Êñº‰πãÂâç„ÄÇ\nÁúã‰∏Ä‰∏ãÊ™¢ÂÆöÁöÑÁµêÊûú,‰æãÂ≠ê‰∏≠ÁöÑres\nstr(res)\r#\u0026gt; List of 10\r#\u0026gt; $ statistic : Named num 20.9 üè∑üëèthe value of the t test statistics\r#\u0026gt; ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;t\u0026quot;\r#\u0026gt; $ parameter : Named num 9 üè∑üëèthe degrees of freedom for the t test statistics\r#\u0026gt; ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;df\u0026quot;\r#\u0026gt; $ p.value : num 6.2e-09 üè∑üëèthe p-value for the test\r#\u0026gt; $ conf.int : num [1:2] 173 216 üè∑üëèa confidence interval for the mean appropriate to the specified alternative hypothesis.\r#\u0026gt; ..- attr(*, \u0026quot;conf.level\u0026quot;)= num 0.95\r#\u0026gt; $ estimate : Named num 194 üè∑üëèthe means of the two groups being compared (in the case of independent t test) or difference in means (in the case of paired t test)\r#\u0026gt; ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;mean of the differences\u0026quot;\r#\u0026gt; $ null.value : Named num 0\r#\u0026gt; ..- attr(*, \u0026quot;names\u0026quot;)= chr \u0026quot;difference in means\u0026quot;\r#\u0026gt; $ stderr : num 9.31\r#\u0026gt; $ alternative: chr \u0026quot;two.sided\u0026quot;\r#\u0026gt; $ method : chr \u0026quot;Paired t-test\u0026quot;\r#\u0026gt; $ data.name : chr \u0026quot;weight by group\u0026quot;\r#\u0026gt; - attr(*, \u0026quot;class\u0026quot;)= chr \u0026quot;htest\u0026quot;\r"},
{"uri": "/blogR//econometrics/2_anova.html","title": "2. ANOVA",
	"tags": [],
	"description": "1_anova",
	"content": "anova üòú\n repeated measure ANOVA stata  \r\r  type I II  \rÂúñhttps://online.stat.psu.edu/stat415/lesson/13/13.2\r\r\r$$ SS(TO)=\\sum\\limits_{i=1}^{m}\\sum\\limits_{j=1}^{n_i} (X_{ij}-\\bar{X}_{..})^2 $$ $$ SS(B)=\\sum\\limits_{i=1}^{m}\\sum\\limits_{j=1}^{n_i} (\\bar{X}_{i.}-\\bar{X}_{..})^2 $$ $$ SS(E)=\\sum\\limits_{i=1}^{m}\\sum\\limits_{j=1}^{n_i} (X_{ij}-\\bar{X}_{i.})^2 $$ $$ SS(TO) = SS(B) +SS(E) $$ SS(B),SS(Between) : Treatment sum of squares\nstata use https://www3.nd.edu/~rwilliam/statafiles/oneway.dta\rsummarize\roneway score program\roneway score program,t\roneway score program, t bon sid sch  . use https://www3.nd.edu/~rwilliam/statafiles/oneway.dta\r(One-Way Analysis of Variance)\r. summarize\rVariable | Obs Mean Std. Dev. Min Max\r-------------+---------------------------------------------------------\rscore | 20 10.35 2.254236 6 14\rprogram | 20 2.5 1.147079 1 4\r. oneway score program\rAnalysis of Variance\rSource SS df MS F Prob \u0026gt; F\r------------------------------------------------------------------------\rBetween groups 54.95 3 18.3166667 7.04 0.0031\rWithin groups 41.6 16 2.6\r------------------------------------------------------------------------\rTotal 96.55 19 5.08157895\rBartlett's test for equal variances: chi2(3) = 0.5685 Prob\u0026gt;chi2 = 0.904\r. oneway score program,t //üè∑üëèÈÅ∏È†Öt: ÂàÜÁµÑÊØîÂ∞ç\r| Summary of score\rprogram | Mean Std. Dev. Freq.\r------------+------------------------------------\r1 | 11.8 1.9235384 5\r2 | 8.8 1.6431677 5\r3 | 12.2 1.3038405 5\r4 | 8.6 1.5165751 5\r------------+------------------------------------\rTotal | 10.35 2.2542358 20\rAnalysis of Variance\rSource SS df MS F Prob \u0026gt; F\r------------------------------------------------------------------------\rBetween groups 54.95 3 18.3166667 7.04 0.0031\rWithin groups 41.6 16 2.6\r------------------------------------------------------------------------\rTotal 96.55 19 5.08157895\rBartlett's test for equal variances: chi2(3) = 0.5685 Prob\u0026gt;chi2 = 0.904\r ÁöÑsignificant F 7.04 Ë™™ÁµÑÂπ≥Âùá‰∏çÊòØÂÖ®ÈÉ®Áõ∏Á≠â,‰πüÂ∞±ÊòØËá≥Â∞ëÊúâ‰∏ÄÂÄãtreatment effect Áï∞Êñº0„ÄÇ\nBonferroni,Scheffe, and Sidak multiple comparison tests ÂèØ‰ª•Áî®‰æÜÂà§ÂÆöÈÄôÂÄã‰∏çÂêå‰æÜËá™ÊñºÂì™Ë£°(ÊàêÂ∞çÊØîËºÉÂêÑÁµÑ, J*[J-1]/2 = 6Ê¨°ÊØîËºÉ)„ÄÇ Note that these tests tend to be conservative: they reduce the likelihood that you will reject the null when the null is true (i.e. they reduce the likelihood of Type I error.) However, they increase the likelihood of not rejecting the null when the null is false (i.e. they make Type II error more likely.)\r\r\r. oneway score program, t bon sid sch | Summary of score #üè∑üëè‰æÜËá™tÈÅ∏È†Ö\rprogram | Mean Std. Dev. Freq.\r------------+------------------------------------\r1 | 11.8 1.9235384 5\r2 | 8.8 1.6431677 5\r3 | 12.2 1.3038405 5\r4 | 8.6 1.5165751 5\r------------+------------------------------------\rTotal | 10.35 2.2542358 20\rAnalysis of Variance #üè∑üëèÈÅ∏È†Ö: bon sid sch\rSource SS df MS F Prob \u0026gt; F\r------------------------------------------------------------------------\rBetween groups 54.95 3 18.3166667 7.04 0.0031\rWithin groups 41.6 16 2.6\r------------------------------------------------------------------------\rTotal 96.55 19 5.08157895\rBartlett's test for equal variances: chi2(3) = 0.5685 Prob\u0026gt;chi2 = 0.904\rComparison of score by program\r(Bonferroni)\rRow Mean-|\rCol Mean | 1 2 3\r---------+---------------------------------\r2 | -3 üè∑üëèÂèÉÁúã‰∏äË°®ÂèØ‰ª•Áü•ÈÅì(8.8- 11.8 )\r| 0.057\r|\r3 | .4 3.4\r| 1.000 0.025\r|\r4 | -3.2 -.2 -3.6\r| 0.038 1.000 0.017\rComparison of score by program\r(Scheffe)\rRow Mean-|\rCol Mean | 1 2 3\r---------+---------------------------------\r2 | -3\r| 0.068\r|\r3 | .4 3.4\r| 0.984 0.034\r|\r4 | -3.2 -.2 -3.6\r| 0.048 0.998 0.024\rComparison of score by program\r(Sidak)\rRow Mean-|\rCol Mean | 1 2 3\r---------+---------------------------------\r2 | -3\r| 0.056\r|\r3 | .4 3.4\r| 0.999 0.025\r|\r4 | -3.2 -.2 -3.6\r| 0.038 1.000 0.017\r ‰∏äÈù¢ÁöÑÂπæÁ®ÆÈ©óË≠âÊñπÂºèÂü∫Êú¨‰∏äÈÉΩÂêåÊÑè 1 vs 3, 2 vs 4 ÂÉÖÂÉÖÊúâ‰∫õÂæÆÂ∑ÆÁï∞,ËÄå1 vs 4, 2 vs 3, 3 vs 4 ÊúâÈ°ØËëóÂ∑ÆÁï∞; 1 vs 2 Â∑ÆÈªûÂ∞±È°ØËëó„ÄÇ\nr Â∞çÁÖß‰∏äÈù¢ÁöÑstataÁµêÊûú\nlibrary(haven)\rurl \u0026lt;- \u0026quot;https://www3.nd.edu/~rwilliam/statafiles/oneway.dta\u0026quot;\rdata.df \u0026lt;- read_dta(url)\rdata.df #  \rÂ±ïÈñã\rscore program   9 1  12 1  14 1  11 1  13 1  10 2  6 2  9 2  9 2  10 2  12 3  14 3  11 3  13 3  11 3  9 4  8 4  11 4  7 4  8 4    \r  data.df$program \u0026lt;-factor(data.df$program) #üë∫ üè∑üëèÂ¶ÇÊûúÊ≤íÊúâÈÄôÂÄãËΩâÊèõ,ÁÆóÂá∫‰æÜÊòØÈåØÁöÑ,Âà©Áî®str(data)Ê™¢Êü•ÊØèÂÄãÊ¨Ñ‰ΩçÁöÑÂûãÊÖã\rANOVAresults \u0026lt;- aov(score~program,data.df) # üè∑üëè\rsummary(ANOVAresults)\rDf Sum Sq Mean Sq F value Pr(\u0026gt;F) program 3 54.95 18.32 7.045 0.00311 **\rResiduals 16 41.60 2.60 ---\rSignif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r pairwised t test\npairwise.t.test(data.df$score,data.df$program,p.adjust.method = \u0026quot;bonf\u0026quot;)\rPairwise comparisons using t tests with pooled SD data: data.df$score and data.df$program 1 2 3 2 0.057 - - 3 1.000 0.025 - 4 0.038 1.000 0.017\rP value adjustment method: bonferroni  p.adjust.methods\n \u0026quot;holm\u0026quot;, \u0026quot;hochberg\u0026quot;, \u0026quot;hommel\u0026quot;, \u0026quot;bonferroni\u0026quot;, \u0026quot;BH\u0026quot;, \u0026quot;BY\u0026quot;, \u0026quot;fdr\u0026quot;, \u0026quot;none\u0026quot;  Á∑¥Áøí: Âà©Áî®t.test()ÂÅöÂá∫Â¶Ç‰∏äË°®ÁöÑÁµêÊûú,Â∞±ÊòØ1Â∞ç2ÁµÑ,1Â∞ç3ÁµÑ,1Â∞ç4ÁµÑÂÅöt-test üè∑üëèÂà©Áî®t-test Â∞çÊØèÁµÑÂÅö,ÈÄôË£°Âè™ÊòØÁ∑¥ÁøíÁî®,Âú®Áµ±Ë®àÊáâÁî®‰∏äÈÅéÊôÇ‰∫Ü„ÄÇÊèêÁ§∫\r pairwise.t.test(data.df$score, data.df$program, p.adjust.method=\u0026quot;none\u0026quot;, paired=T, pool.sd=FALSE) # \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèpool.sd =FÔºåÂê¶ÂâáÁ≠îÊ°àÂ∑ÆÂæàÂ§ö\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\rPairwise comparisons using paired t tests data: data.df$score and data.df$program 1 2 3 2 0.070 - - 3 0.757 0.053 - 4 0.020 0.838 0.033\rP value adjustment method: none t.test(score~program,data=data.df[data.df$program %in% c(1,2),],paired=T)\rPaired t-test\rdata: score by program\rt = 2.4495, df = 4, p-value = 0.07048\ralternative hypothesis: true difference in means is not equal to 0\r95 percent confidence interval:\r-0.4004369 6.4004369\rsample estimates:\rmean of the differences 3 t.test(score~program,data=data.df[data.df$program %in% c(1,3),],paired=T)\rPaired t-test\rdata: score by program\rt = -0.33104, df = 4, p-value = 0.7572\ralternative hypothesis: true difference in means is not equal to 0\r95 percent confidence interval:\r-3.754791 2.954791\rsample estimates:\rmean of the differences -0.4 t.test(score~program,data=data.df[data.df$program %in% c(1,4),],paired=T)\rPaired t-test\rdata: score by program\rt = 3.7199, df = 4, p-value = 0.02048\ralternative hypothesis: true difference in means is not equal to 0\r95 percent confidence interval:\r0.8116116 5.5883884\rsample estimates:\rmean of the differences 3.2 t.test(score~program,data=data.df[data.df$program %in% c(2,3),],paired=T)\rPaired t-test\rdata: score by program\rt = -2.7222, df = 4, p-value = 0.05287\ralternative hypothesis: true difference in means is not equal to 0\r95 percent confidence interval:\r-6.86777882 0.06777882\rsample estimates:\rmean of the differences -3.4 t.test(score~program,data=data.df[data.df$program %in% c(2,4),],paired=T)\rPaired t-test\rdata: score by program\rt = 0.21822, df = 4, p-value = 0.8379\ralternative hypothesis: true difference in means is not equal to 0\r95 percent confidence interval:\r-2.344654 2.744654\rsample estimates:\rmean of the differences 0.2 t.test(score~program,data=data.df[data.df$program %in% c(3,4),],paired=T)\rPaired t-test\rdata: score by program\rt = 3.2071, df = 4, p-value = 0.03268\ralternative hypothesis: true difference in means is not equal to 0\r95 percent confidence interval:\r0.4834481 6.7165519\rsample estimates:\rmean of the differences 3.6  \r"},
{"uri": "/blogR//econometrics/a_a_%E8%B3%87%E6%96%99%E8%99%95%E7%90%86.html","title": "A.a Ë≥áÊñôËôïÁêÜ",
	"tags": [],
	"description": "data",
	"content": "ÈúÄË¶Å Â•ó‰ª∂\ninstall.packages(\u0026quot;wooldridge\u0026quot;)\rinstall.packages(\u0026quot;rio\u0026quot;) # more\rinstall.packages(\u0026quot;WDI\u0026quot;)\rinstall.packages(\u0026quot;dplyr\u0026quot;)\rinstall.packages(\u0026quot;ggplot\u0026quot;)\r Á∑¥ÁøíË≥áÊñôÁöÑÂπæÁ®ÆËºâÂÖ•Ë≥áÊñôÁöÑÊñπÊ≥ï data(affairs, package='wooldridge')\r# Version 2: Adjust path\raffairs2 \u0026lt;- rio::import(\u0026quot;~/data/wooldridge/affairs.dta\u0026quot;)\r# Version 3: Change working directory\rsetwd(\u0026quot;~/data/wooldridge\u0026quot;)\raffairs3 \u0026lt;- rio::import(\u0026quot;affairs.dta\u0026quot;)\r# Version 4: directly load from internet\raffairs4 \u0026lt;- rio::import(\u0026quot;http://fmwww.bc.edu/ec-p/data/wooldridge/affairs.dta\u0026quot;)\r ÂÖ∂‰ªñÂ•ó‰ª∂\n readrÂ•ó‰ª∂:read_dta()‰πüÂèØËÆÄÂ¶Çstata dta Ë≥áÊñô„ÄÇ  ‰ª•Â•ó‰ª∂ËºâÂÖ•ÁÇ∫‰æã\ndata(affairs, package='wooldridge')\r# Ë®àÁÆóÂπ≥Âùá\rmean(affairs$naffairs)\r#\u0026gt; [1] 1.455907\r ‰∏ÄËà¨Ë≥áÊñôËôïÁêÜ - ËÆÄ„ÄÅËΩâ„ÄÅÁÆó„ÄÅÂØ´ # Define one x vector for all:\ryear \u0026lt;- c(2008,2009,2010,2011,2012,2013)\r# Define a matrix of y values:\rproduct1\u0026lt;-c(0,3,6,9,7,8); product2\u0026lt;-c(1,2,3,5,9,6); product3\u0026lt;-c(2,4,4,2,3,2)\rsales_mat \u0026lt;- cbind(product1,product2,product3)\rrownames(sales_mat) \u0026lt;- year\r# The matrix looks like this:\rsales_mat\r#\u0026gt; product1 product2 product3\r#\u0026gt; 2008 0 1 2\r#\u0026gt; 2009 3 2 4\r#\u0026gt; 2010 6 3 4\r#\u0026gt; 2011 9 5 2\r#\u0026gt; 2012 7 9 3\r#\u0026gt; 2013 8 6 2\r# Create a data frame and display it:\rsales \u0026lt;- as.data.frame(sales_mat)\rsales\r  product1 product2 product3   2008 0 1 2  2009 3 2 4  2010 6 3 4  2011 9 5 2  2012 7 9 3  2013 8 6 2     # save data frame as RData file (in the current working directory)\rsave(sales, file = \u0026quot;data/oursalesdata.RData\u0026quot;)\r#\u0026gt; Warning in gzfile(file, \u0026quot;wb\u0026quot;): ÁÑ°Ê≥ïÈñãÂïüÂ£ìÁ∏ÆÈÅéÁöÑÊ™îÊ°à 'data/oursalesdata.RData'Ôºå\r#\u0026gt; ÂèØËÉΩÁöÑÂéüÂõ†ÊòØ 'No such file or directory'\r#\u0026gt; Error in gzfile(file, \u0026quot;wb\u0026quot;): ÁÑ°Ê≥ïÈñãÂïüÈÄ£Êé•\r# remove data frame \u0026quot;sales\u0026quot; from memory\rrm(sales)\r# Does variable \u0026quot;sales\u0026quot; exist?\rexists(\u0026quot;sales\u0026quot;)\r#\u0026gt; [1] FALSE\r# Load data set (in the current working directory):\rload(\u0026quot;data/oursalesdata.RData\u0026quot;)\r#\u0026gt; Warning in readChar(con, 5L, useBytes = TRUE): ÁÑ°Ê≥ïÈñãÂïüÂ£ìÁ∏ÆÈÅéÁöÑÊ™îÊ°à 'data/\r#\u0026gt; oursalesdata.RData'ÔºåÂèØËÉΩÁöÑÂéüÂõ†ÊòØ 'No such file or directory'\r#\u0026gt; Error in readChar(con, 5L, useBytes = TRUE): ÁÑ°Ê≥ïÈñãÂïüÈÄ£Êé•\r# Does variable \u0026quot;sales\u0026quot; exist?\rexists(\u0026quot;sales\u0026quot;)\r#\u0026gt; [1] FALSE\rsales\r#\u0026gt; Error in eval(expr, envir, enclos): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'sales'\r# averages of the variables:\rcolMeans(sales)\r#\u0026gt; Error in is.data.frame(x): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'sales'\r basic statistic 1 - pnorm(2,4,3) + pnorm(-2,4,3)\r#\u0026gt; [1] 0.7702576\r# Using the transformation:\rpnorm(2/3) - pnorm(-2/3)\r#\u0026gt; [1] 0.4950149\r# Working directly with the distribution of X:\rpnorm(6,4,3) - pnorm(2,4,3)\r#\u0026gt; [1] 0.4950149\r table # load data set\rdata(affairs, package='wooldridge')\r# Generate \u0026quot;Factors\u0026quot; to attach labels\rhaskids \u0026lt;- factor(affairs$kids,labels=c(\u0026quot;no\u0026quot;,\u0026quot;yes\u0026quot;))\rmlab \u0026lt;- c(\u0026quot;very unhappy\u0026quot;,\u0026quot;unhappy\u0026quot;,\u0026quot;average\u0026quot;,\u0026quot;happy\u0026quot;, \u0026quot;very happy\u0026quot;)\rmarriage \u0026lt;- factor(affairs$ratemarr, labels=mlab)\r# Frequencies for having kids:\rtable(haskids)\r#\u0026gt; haskids\r#\u0026gt; no yes #\u0026gt; 171 430\r# Marriage ratings (share):\rprop.table(table(marriage))\r#\u0026gt; marriage\r#\u0026gt; very unhappy unhappy average happy very happy #\u0026gt; 0.0266223 0.1098170 0.1547421 0.3227953 0.3860233\r# Contigency table: counts (display \u0026amp; store in var.)\r(countstab \u0026lt;- table(marriage,haskids))\r#\u0026gt; haskids\r#\u0026gt; marriage no yes\r#\u0026gt; very unhappy 3 13\r#\u0026gt; unhappy 8 58\r#\u0026gt; average 24 69\r#\u0026gt; happy 40 154\r#\u0026gt; very happy 96 136\r# Share within \u0026quot;marriage\u0026quot; (i.e. within a row):\rprop.table(countstab, margin=1)\r#\u0026gt; haskids\r#\u0026gt; marriage no yes\r#\u0026gt; very unhappy 0.1875000 0.8125000\r#\u0026gt; unhappy 0.1212121 0.8787879\r#\u0026gt; average 0.2580645 0.7419355\r#\u0026gt; happy 0.2061856 0.7938144\r#\u0026gt; very happy 0.4137931 0.5862069\r# Share within \u0026quot;haskids\u0026quot; (i.e. within a column):\rprop.table(countstab, margin=2)\r#\u0026gt; haskids\r#\u0026gt; marriage no yes\r#\u0026gt; very unhappy 0.01754386 0.03023256\r#\u0026gt; unhappy 0.04678363 0.13488372\r#\u0026gt; average 0.14035088 0.16046512\r#\u0026gt; happy 0.23391813 0.35813953\r#\u0026gt; very happy 0.56140351 0.31627907\r data frame # Define one x vector for all:\ryear \u0026lt;- c(2008,2009,2010,2011,2012,2013)\r# Define a matrix of y values:\rproduct1\u0026lt;-c(0,3,6,9,7,8); product2\u0026lt;-c(1,2,3,5,9,6); product3\u0026lt;-c(2,4,4,2,3,2)\rsales_mat \u0026lt;- cbind(product1,product2,product3)\rrownames(sales_mat) \u0026lt;- year\r# The matrix looks like this:\rsales_mat\r#\u0026gt; product1 product2 product3\r#\u0026gt; 2008 0 1 2\r#\u0026gt; 2009 3 2 4\r#\u0026gt; 2010 6 3 4\r#\u0026gt; 2011 9 5 2\r#\u0026gt; 2012 7 9 3\r#\u0026gt; 2013 8 6 2\r# Create a data frame and display it:\rsales \u0026lt;- as.data.frame(sales_mat)\rsales\r  product1 product2 product3   2008 0 1 2  2009 3 2 4  2010 6 3 4  2011 9 5 2  2012 7 9 3  2013 8 6 2     Á∑¥Áøí Wdi library(WDI)\rwdi_raw \u0026lt;- WDI(indicator=c(\u0026quot;SP.DYN.LE00.FE.IN\u0026quot;),\rstart = 1960, end = 2014) # üè∑WDI ÊòØ‰∏ÄÂÄãÂáΩÊï∏,wdi_rawÊòØ‰∏ÄÂÄãdata.frame\r# ‰∏çË¶ÅÁõ¥Êé•È°ØÁ§∫ÊâÄÊúâË≥áÊñô,Â§™Èï∑\rhead(wdi_raw,n=10)\r iso2c country SP.DYN.LE00.FE.IN year   ZH Africa Eastern and Southern 63.74479 2014  ZH Africa Eastern and Southern 63.01116 2013  ZH Africa Eastern and Southern 62.19697 2012  ZH Africa Eastern and Southern 61.31294 2011  ZH Africa Eastern and Southern 60.37721 2010  ZH Africa Eastern and Southern 59.40726 2009  ZH Africa Eastern and Southern 58.42882 2008  ZH Africa Eastern and Southern 57.47517 2007  ZH Africa Eastern and Southern 56.57331 2006  ZH Africa Eastern and Southern 55.75485 2005     #tail(wdi_raw)\r descriptive statistics data(ceosal1, package='wooldridge') # class(ceosal1) = data.frame\r# sample average:\rmean(ceosal1$salary)\r#\u0026gt; [1] 1281.12\r# sample median:\rmedian(ceosal1$salary)\r#\u0026gt; [1] 1039\r#standard deviation:\rsd(ceosal1$salary)\r#\u0026gt; [1] 1372.345\r# summary information:\rsummary(ceosal1$salary)\r#\u0026gt; Min. 1st Qu. Median Mean 3rd Qu. Max. #\u0026gt; 223 736 1039 1281 1407 14822\r# correlation with ROE:\rcor(ceosal1$salary, ceosal1$roe)\r#\u0026gt; [1] 0.1148417\r tÊ™¢ÂÆö # data for the scrap rates examples:\rSR87\u0026lt;-c(10,1,6,.45,1.25,1.3,1.06,3,8.18,1.67,.98,1,.45,5.03,8,9,18,.28, 7,3.97)\rSR88\u0026lt;-c(3,1,5,.5,1.54,1.5,.8,2,.67,1.17,.51,.5,.61,6.7,4,7,19,.2,5,3.83)\rChange \u0026lt;- SR88 - SR87\r# Ingredients to CI formula\r(avgCh\u0026lt;- mean(Change)) # ChangeÁöÑÂπ≥Âùá\r#\u0026gt; [1] -1.1545\r(n \u0026lt;- length(Change))\r#\u0026gt; [1] 20\r(sdCh \u0026lt;- sd(Change)) # ChangeÁöÑÊ®ôÊ∫ñÂ∑Æ\r#\u0026gt; [1] 2.400639\r(se \u0026lt;- sdCh/sqrt(n)) # Ê®ôÊ∫ñË™§\r#\u0026gt; [1] 0.5367992\r(c \u0026lt;- qt(.975, n-1)) #quantile of t dist\r#\u0026gt; [1] 2.093024\r# avgChÁöÑ95%‰ø°Ë≥¥ÂçÄÈñì\rc( avgCh - c*se, avgCh + c*se )\r#\u0026gt; [1] -2.27803369 -0.03096631\r# t statistic for H0: mu=0:\r(t \u0026lt;- avgCh/se)\r#\u0026gt; [1] -2.150711\r# p value\r(p \u0026lt;- pt(t,n-1)) # üè∑p(probabilityÊ©üÁéá) ‚ûï tÂàÜÈÖç = pt\r#\u0026gt; [1] 0.02229063\r ÊàñÊòØÁõ¥Êé•‰ΩøÁî®ÂáΩÊï∏,Â∞çÁÖßÂ¶Ç‰∏ã\n# two-sided CI\rt.test(Change)\r#\u0026gt; #\u0026gt; One Sample t-test\r#\u0026gt; #\u0026gt; data: Change\r#\u0026gt; t = -2.1507, df = 19, p-value = 0.04458\r#\u0026gt; alternative hypothesis: true mean is not equal to 0\r#\u0026gt; 95 percent confidence interval:\r#\u0026gt; -2.27803369 -0.03096631\r#\u0026gt; sample estimates:\r#\u0026gt; mean of x #\u0026gt; -1.1545\r# 1-sided test:\rt.test(Change, alternative=\u0026quot;less\u0026quot;)\r#\u0026gt; #\u0026gt; One Sample t-test\r#\u0026gt; #\u0026gt; data: Change\r#\u0026gt; t = -2.1507, df = 19, p-value = 0.02229\r#\u0026gt; alternative hypothesis: true mean is less than 0\r#\u0026gt; 95 percent confidence interval:\r#\u0026gt; -Inf -0.2263028\r#\u0026gt; sample estimates:\r#\u0026gt; mean of x #\u0026gt; -1.1545\r Á∑¥ÁøíÁØÑ‰æã data(audit, package='wooldridge')\r# two-sided CI\rt.test(audit$y)\r# 1-sided test:\rt.test(audit$y, alternative=\u0026quot;less\u0026quot;)\r ‰ø°Ë≥¥ÂçÄÈñì data(audit, package='wooldridge')\r# Ingredients to CI formula\r(avgy\u0026lt;- mean(audit$y))\r#\u0026gt; [1] -0.1327801\r(n \u0026lt;- length(audit$y))\r#\u0026gt; [1] 241\r(sdy \u0026lt;- sd(audit$y))\r#\u0026gt; [1] 0.4819709\r(se \u0026lt;- sdy/sqrt(n))\r#\u0026gt; [1] 0.03104648\r(c \u0026lt;- qnorm(.975)) # üè∑q ‚ûï Â∏∏ÊÖã(norm) = qnorm\r#\u0026gt; [1] 1.959964\r# 95% Confidence intervall:\ravgy + c * c(-se,+se)\r#\u0026gt; [1] -0.19363006 -0.07193011\r# 99% Confidence intervall:\ravgy + qnorm(.995) * c(-se,+se)\r#\u0026gt; [1] -0.21275051 -0.05280966\r # t statistic for H0: mu=0:\r(t \u0026lt;- avgy/se) #-4.276816 #\u0026gt; [1] -4.276816\r# p value\r(p \u0026lt;- pt(t,240))\r#\u0026gt; [1] 1.369271e-05\r# Critical values for t distribution with n-1=240 d.f.:\ralpha.one.tailed = c(0.1, 0.05, 0.025, 0.01, 0.005, .001)\rCV \u0026lt;- qt(1 - alpha.one.tailed, n-1) # üè∑q ‚ûï tÂàÜÈÖç = qt\rcbind(alpha.one.tailed, CV)\r#\u0026gt; alpha.one.tailed CV\r#\u0026gt; [1,] 0.100 1.285089\r#\u0026gt; [2,] 0.050 1.651227\r#\u0026gt; [3,] 0.025 1.969898\r#\u0026gt; [4,] 0.010 2.341985\r#\u0026gt; [5,] 0.005 2.596469\r#\u0026gt; [6,] 0.001 3.124536\r plot basic plot curve(dnorm(x,0,1),-10,10,lwd=1,lty=1)\rcurve(dnorm(x,0,2),-10,10,add=TRUE,lwd=1,lty=1) #üè∑ÁñäÂúñ\rcurve(dnorm(x,0,3),-10,10,add=TRUE,lwd=1,lty=1)\r figure\r\r\rhistogram data(ceosal1, package='wooldridge')\r# Extract ROE to single vector\rROE \u0026lt;- ceosal1$roe\r# Subfigure (a): histogram (counts)\rhist(ROE)\r figure\r\r\r# Subfigure (b): histogram (densities, explicit breaks)\rhist(ROE, breaks=c(0,5,10,20,30,60) )\r figure\r\r\rggplot2 library(ggplot2)\rhead(mpg)\r manufacturer model displ year cyl trans drv cty hwy fl class   audi a4 1.8 1999 4 auto(l5) f 18 29 p compact  audi a4 1.8 1999 4 manual(m5) f 21 29 p compact  audi a4 2.0 2008 4 manual(m6) f 20 31 p compact  audi a4 2.0 2008 4 auto(av) f 21 30 p compact  audi a4 2.8 1999 6 auto(l5) f 16 26 p compact  audi a4 2.8 1999 6 manual(m5) f 18 26 p compact     ggplot(mpg, aes(displ, hwy)) + geom_point() +\rgeom_smooth()\r#\u0026gt; `geom_smooth()` using method = 'loess' and formula 'y ~ x'\r figure\r\r"},
{"uri": "/blogR//econometrics/a_b_mpg%E7%82%BA%E4%BE%8B%E7%9A%84ggplot.html","title": "A.b mpgÁÇ∫‰æãÁöÑggplot",
	"tags": [],
	"description": "mpg",
	"content": "ggplot ex  ÂèÉËÄÉ   library(ggplot2)\rggplot(midwest, aes(x=area, y=poptotal)) + geom_point()\r figure\r\r\rex library(ggplot2)\rex1 \u0026lt;- ggplot(mtcars)\rex1 \u0026lt;- ex1 + aes(x = mpg, y = wt)\rex1 \u0026lt;- ex1 + geom_point()\rsummary(ex1)  #\u0026gt; data: mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb [32x11]\r#\u0026gt; mapping: x = ~mpg, y = ~wt\r#\u0026gt; faceting: \u0026lt;ggproto object: Class FacetNull, Facet, gg\u0026gt;\r#\u0026gt; compute_layout: function\r#\u0026gt; draw_back: function\r#\u0026gt; draw_front: function\r#\u0026gt; draw_labels: function\r#\u0026gt; draw_panels: function\r#\u0026gt; finish_data: function\r#\u0026gt; init_scales: function\r#\u0026gt; map_data: function\r#\u0026gt; params: list\r#\u0026gt; setup_data: function\r#\u0026gt; setup_params: function\r#\u0026gt; shrink: TRUE\r#\u0026gt; train_scales: function\r#\u0026gt; vars: function\r#\u0026gt; super: \u0026lt;ggproto object: Class FacetNull, Facet, gg\u0026gt;\r#\u0026gt; -----------------------------------\r#\u0026gt; geom_point: na.rm = FALSE\r#\u0026gt; stat_identity: na.rm = FALSE\r#\u0026gt; position_identity\r ex1 # üè∑ÈÄôË£°ÊâçÊúâÂúñÂá∫‰æÜ\r \rfigure\r\r\rÈÉ®ÂàÜ‰øÆÊîπ: Âè™ÊîπËÆäÈ°èËâ≤\nex1 + geom_point(aes(colour = factor(cyl))) #üè∑Áî®Ê±ΩÁº∏ÂÄíÈ°èËâ≤\r \rfigure\r\r\rÈÉ®ÂàÜ‰øÆÊîπ: Âè™ÊîπËÆäYËª∏\nex1 + geom_point(aes(y = disp))\r \rfigure\r\r\rÂà™Èô§\naes(y = NULL)\r #\u0026gt; Aesthetic mapping: #\u0026gt; * `y` -\u0026gt; NULL\r ex1\r figure\r\r\rmpg library(ggplot2)\r# First rows of data of data set mpg:\rhead(mpg)\r manufacturer model displ year cyl trans drv cty hwy fl class   audi a4 1.8 1999 4 auto(l5) f 18 29 p compact  audi a4 1.8 1999 4 manual(m5) f 21 29 p compact  audi a4 2.0 2008 4 manual(m6) f 20 31 p compact  audi a4 2.0 2008 4 auto(av) f 21 30 p compact  audi a4 2.8 1999 6 auto(l5) f 16 26 p compact  audi a4 2.8 1999 6 manual(m5) f 18 26 p compact     ggplot() + geom_point( data=mpg, mapping=aes(x=displ, y=hwy) )\r figure\r\r\rggplot(mpg, aes(displ, hwy)) + geom_point() +\rgeom_smooth()\r #\u0026gt; `geom_smooth()` using method = 'loess' and formula 'y ~ x'\r figure\r\r\rggplot(mpg, aes(displ, hwy)) + geom_point(color=gray(0.5)) +\rgeom_smooth(color=\u0026quot;black\u0026quot;)\r #\u0026gt; `geom_smooth()` using method = 'loess' and formula 'y ~ x'\r figure\r\r\rggplot(mpg, aes(displ, hwy)) + geom_point( aes(color=class) ) +\rgeom_smooth(color=\u0026quot;black\u0026quot;) +\rscale_color_grey()\r #\u0026gt; `geom_smooth()` using method = 'loess' and formula 'y ~ x'\r figure\r\r\rggplot(mpg, aes(displ, hwy)) + geom_point( aes(color=class, shape=class) ) +\rgeom_smooth(color=\u0026quot;black\u0026quot;) +\rscale_color_grey() +\rscale_shape_manual(values=1:7)\r #\u0026gt; `geom_smooth()` using method = 'loess' and formula 'y ~ x'\r figure\r\r\rggplot(mpg, aes(displ, hwy, color=class, shape=class)) + geom_point() +\rgeom_smooth(se=FALSE) +\rscale_color_grey() +\rscale_shape_manual(values=1:7)\r #\u0026gt; `geom_smooth()` using method = 'loess' and formula 'y ~ x'\r #\u0026gt; Warning in simpleLoess(y, x, w, span, degree = degree, parametric =\r#\u0026gt; parametric, : span too small. fewer data values than degrees of freedom.\r #\u0026gt; Warning in simpleLoess(y, x, w, span, degree = degree, parametric =\r#\u0026gt; parametric, : pseudoinverse used at 5.6935\r #\u0026gt; Warning in simpleLoess(y, x, w, span, degree = degree, parametric =\r#\u0026gt; parametric, : neighborhood radius 0.5065\r #\u0026gt; Warning in simpleLoess(y, x, w, span, degree = degree, parametric =\r#\u0026gt; parametric, : reciprocal condition number 0\r #\u0026gt; Warning in simpleLoess(y, x, w, span, degree = degree, parametric =\r#\u0026gt; parametric, : There are other near singularities as well. 0.65044\r #\u0026gt; Warning in simpleLoess(y, x, w, span, degree = degree, parametric =\r#\u0026gt; parametric, : pseudoinverse used at 4.008\r #\u0026gt; Warning in simpleLoess(y, x, w, span, degree = degree, parametric =\r#\u0026gt; parametric, : neighborhood radius 0.708\r #\u0026gt; Warning in simpleLoess(y, x, w, span, degree = degree, parametric =\r#\u0026gt; parametric, : reciprocal condition number 0\r #\u0026gt; Warning in simpleLoess(y, x, w, span, degree = degree, parametric =\r#\u0026gt; parametric, : There are other near singularities as well. 0.25\r figure\r\r"},
{"uri": "/blogR//topic/simulation/xx.html","title": "Inverse Transform Sampling",
	"tags": [],
	"description": "",
	"content": "Pre-requisites This document assumes basic familiarity with probability theory.\nOverview Inverse transform sampling is a method for generating random numbers from any probability distribution by using its inverse cumulative distribution $F^{-1}(x)$. Recall that the cumulative distribution for a random variable $X$ is $F_X(x) = P(X \\leq x)$. In what follows, we assume that our computer can, on demand, generate independent realizations of a random variable $U$ uniformly distributed on $[0,1]$.\nAlgorithm Continuous Distributions Assume we want to generate a random variable $X$ with cumulative distribution function (CDF) $F_X$. The inverse transform sampling algorithm is simple:\n Generate $U \\sim \\text{Unif}(0,1)$ Let $X = F_X^{-1}(U)$.  Then, $X$ will follow the distribution governed by the CDF $F_X$, which was our desired result.\nNote that this algorithm works in general but is not always practical. For example, inverting $F_X$ is easy if $X$ is an exponential random variable, but its harder if $X$ is Normal random variable.\nDiscrete Distributions Now we will consider the discrete version of the inverse transform method. Assume that $X$ is a discrete random variable such that $P(X = x_i) = p_i$. The algorithm proceeds as follows:\n Generate $U \\sim \\text{Unif}(0,1)$ Determine the index $k$ such that $\\sum_{j=1}^{k-1} p_j \\leq U \u0026lt; \\sum_{j=1}^k p_j$, and return $X = x_k$.  Notice that the second step requires a search.\nAssume our random variable $X$ can take on any one of $K$ values with probabilities ${p_1, \\ldots, p_K}$. We implement the algorithm below, assuming these probabilities are stored in a vector called p.vec.\n# note: this inefficient implementation is for pedagogical purposes\r# in general, consider using the rmultinom() function\rdiscrete.inv.transform.sample \u0026lt;- function( p.vec ) {\rU \u0026lt;- runif(1)\rif(U \u0026lt;= p.vec[1]){\rreturn(1)\r}\rfor(state in 2:length(p.vec)) {\rif(sum(p.vec[1:(state-1)]) \u0026lt; U \u0026amp;\u0026amp; U \u0026lt;= sum(p.vec[1:state]) ) {\rreturn(state)\r}\r}\r}\r Continuous Example: Exponential Distribution Assume $Y$ is an exponential random variable with rate parameter $\\lambda = 2$. Recall that the probability density function is $p(y) = 2e^{-2y}$, for $y \u0026gt; 0$. First, we compute the CDF: $$F_Y(x) = P(Y\\leq x) = \\int_0^x 2e^{-2y} dy = 1 - e^{-2x}$$\nSolving for the inverse CDF, we get that $$F_Y^{-1}(y) = -\\frac{\\ln(1-y)}{2}$$\nUsing our algorithm above, we first generate $U \\sim \\text{Unif}(0,1)$, then set $X = F_Y^{-1}(U) = -\\frac{\\ln(1-U)}{2}$. We do this in the R code below and compare the histogram of our samples with the true density of $Y$.\n# inverse transform sampling\rnum.samples \u0026lt;- 1000\rU \u0026lt;- runif(num.samples)\rX \u0026lt;- -log(1-U)/2\r# plot\rhist(X, freq=F, xlab='X', main='Generating Exponential R.V.')\rcurve(dexp(x, rate=2) , 0, 3, lwd=2, xlab = \u0026quot;\u0026quot;, ylab = \u0026quot;\u0026quot;, add = T)\r figure\r\r\rIndeed, the plot indicates that our random variables are following the intended distribution.\nDiscrete Example Let's assume we want to simulate a discrete random variable $X$ that follows the following distribution:\n   x_i P(X=x_i)     1 0.1   2 0.4   3 0.2   4 0.3    Below we simulate from this distribution using the discrete.inv.transform.sample() function above, and plot both the true probability vector, and the empirical proportions from our simulation.\nnum.samples \u0026lt;- 1000\rp.vec \u0026lt;- c(0.1, 0.4, 0.2, 0.3)\rnames(p.vec) \u0026lt;- 1:4\rsamples \u0026lt;- numeric(num.samples)\rfor(i in seq_len(num.samples) ) {\rsamples[i] \u0026lt;- discrete.inv.transform.sample(p.vec)\r}\rbarplot(p.vec, main='True Probability Mass Function')\r figure\r\r\rbarplot(table(samples), main='Empirical Probability Mass Function')\r figure\r\r\rAgain, the plot supports our claim that we are drawing from the true probability distribution\n"},
{"uri": "/blogR//topic/simulation/2_1_%E9%9A%A8%E6%A9%9F%E8%AE%8A%E6%95%B8.html","title": "2.1 Èö®Ê©üËÆäÊï∏",
	"tags": [],
	"description": "Èö®Ê©üËÆäÊï∏",
	"content": "5ÂàÜÈêò  5ÂàÜÈêògithub)   ref  ÈÄÜËΩâÊèõÊäΩÊ®£(Inverse transform sampling) ÂæûÊüêÂÄãCDFÁöÑÈÄÜÂáΩÊï∏\\(F^{-1}(x)\\)ÔºåÊäΩÂá∫Á¨¶ÂêàÈÄôÂÄãÂàÜÈÖçÁöÑ‰∫ÇÊï∏„ÄÇ . ‰æãÂ¶ÇÊüêÂÄãÈö®Ê©üËÆäÊï∏\\(X\\)„ÄÄÂÖ∂Ôº£Ôº§Ôº¶ is \\(F_X(x) = P(X \\leq x)\\). ÁÑ∂ÂæåÊàëÂÄëÂèØ‰ª•Âà©Áî®\\(U\\)„ÄÄ(uniformly distributed on \\([0,1]\\). )ÊäΩÂá∫Èö®Ê©ü‰∫ÇÊï∏\\(X\\)„ÄÇ\n Theorem: If X is a continuous r.v. with CDF \\( F_X(x) \\), then \\( U = F_X(X) \u0018\\sim U(0,1) \\). \r„Äêinverse methodÁöÑË≠âÊòé„Äë\rXÊòØÈö®Ê©üËÆäÊï∏UÁöÑÂáΩÊï∏ÔºåFÊòØÈÄ£Á∫åÁöÑCDFÔºå\\(F^{-1}\\)ÊòØÈÄÜÂáΩÊï∏Ôºå‰∏îUÊòØÂùáÂãªÂàÜÈÖçÁöÑRVÔºåÂâá\\(F^{-1}(U)\\)ÈÅµÂæ™FÂàÜÈÖç\nProof: $$ P(X\u0026lt;x)=P(F^{-1}(U)\u0026lt;x)=P(U\u0026lt;F(x))=F_X(x) $$\n\n ÊºîÁÆóÊ≥ï Continuous Distributions Â¶ÇÊûúË¶ÅÁî¢ÁîüÈö®Ê©üËÆäÊï∏ \\(X\\) ÂÖ∂Ôº£Ôº§Ôº¶ÁÇ∫ \\(F_X\\). ÂâáÈÄÜÂèñÊ®£ÊºîÁÆóÊ≥ïÁÇ∫\n Generate \\(U \\sim \\text{Unif}(0,1)\\) Let \\(X = F_X^{-1}(U)\\).  ‰∏äÈù¢ÁöÑ \\(X\\) ÈÅµÂæ™ \\(F_X\\)ÁöÑÂàÜÈÖç„ÄÇ\nÈÄôÂÄãÊºîÁÆóÊ≥ïÂú® \\(X\\) ÊòØexponential Èö®Ê©üËÆäÊï∏ÁöÑÊôÇÂÄôÔºå\\(U \\sim \\text{Unif}(0,1)\\) ÂèñÈÄÜÊòØÂæàÂÆπÊòìÔºå‰ΩÜÂ¶ÇÊûú \\(X\\)ÊòØÈö®Ê©üËÆäÊï∏ÔºåÂâáÂèñÈÄÜ‰∏çÂØ¶Èöõ„ÄÇ\nDiscrete Distributions Ëã• \\(X\\) Èõ¢Êï£‰∫ÇÊï∏Ââá \\(P(X = x_i) = p_i\\).\n Generate \\(U \\sim \\text{Unif}(0,1)\\) Determine the index \\(k\\) such that \\(\\sum_{j=1}^{k-1} p_j \\leq U \u0026lt; \\sum_{j=1}^k p_j\\), and return \\(X = x_k\\).  Notice that the second step requires a search.\nAssume our random variable \\(X\\) can take on any one of \\(K\\) values with probabilities \\({p_1, \\ldots, p_K}\\). We implement the algorithm below, assuming these probabilities are stored in a vector called p.vec.\n# note: this inefficient implementation is for pedagogical purposes\r# in general, consider using the rmultinom() function\rdiscrete.inv.transform.sample \u0026lt;- function( p.vec ) {\rU \u0026lt;- runif(1)\rif(U \u0026lt;= p.vec[1]){\rreturn(1)\r}\rfor(state in 2:length(p.vec)) {\rif(sum(p.vec[1:(state-1)]) \u0026lt; U \u0026amp;\u0026amp; U \u0026lt;= sum(p.vec[1:state]) ) {\rreturn(state)\r}\r}\r}\r „ÄêPoisson„ÄëÈõ¢Êï£ÂàÜÈÖç \\( f_X (k;Œª)=P({X=k})=\\frac{Œª^k}{k!} e^{-Œª} \\)„ÄÄ\rpoissonÊ°à‰æã\r‰∏ÄÂÖ¨Âè∏‰πãÈõªË©±ÈÄöÊï∏Â§ßÁ¥ÑÊØèÂ∞èÊôÇ 20 ÈÄöÔºåÊ±ÇÂú® 5 ÂàÜÈêòÂÖß‰∏ÄÈÄöÈõªË©±‰πüÊ≤íÊúâÁöÑÊ©üÁéáÔºü\nÊØèÂ∞èÊôÇ 20 ÈÄö, Ë°®Á§∫ÊØèÂàÜÈêòÂπ≥Âùá \\(\\lambda =\\frac{1}{3}\\) ÈÄö/ÂàÜ„ÄÇ Âõ†Ê≠§Âú® 5 ÂàÜÈêòÁöÑÊôÇÈñìÂçÄÈñì‰∏≠, Âπ≥ÂùáÁöÑÈõªË©±ÈÄöÊï∏ÁÇ∫ \\( m=\\lambda T=\\frac{1}{3}\\times 5=\\frac{5}{3}\\)„ÄÇ\nÊâÄ‰ª•\\(P(k);\\equiv;P(k,5);=;\\frac{(\\frac{5}{3})^k}{k!} e^{-\\frac{5}{3}},\\quad k=0,1,2,\\cdots\\)\nÂõ†Ê≠§Ê≤íÊúâ‰∏ÄÈÄöÈõªË©±ÁöÑÊ©üÁéá \\(P(0)= e^{-\\frac{5}{3}};\\approx; 0.19 \\)\n\npoisson random numberÊºîÁÆóÊ≥ï Âõ†ÁÇ∫ \\( P_{i+1}=P(X=i+1)=\\frac{Œª^{i+1}}{(i+1)!} e^{-Œª}=\\frac{Œª}{i+1}\\frac{Œª^i}{i!}e^{-Œª}=\\frac{Œª}{i+1} p_i \\)\n \\( i=0,p=e^{-Œª},F=p \\) üè∑üëèÊ≠§ÊôÇÁöÑFÊòØ‰∫ã‰ª∂‰∏çÁôºÁîüÁöÑÊ©üÁéá,Âú®Ê≠•È©ü3Áî®‰æÜÊ±∫ÂÆöÊòØÂê¶0Ë¶ÅËº∏Âá∫ \\( U \\sim U(0,1) \\) Áî¢ÁîüÈö®Ê©üËÆäÊï∏Ôºµ Â¶ÇÊûúU\u0026lt;FÔºåÂâáX=i ÔºåÂê¶ÂâáÂà∞Ê≠•È©ü 4ÈáçÊñ∞Ë®àÁÆóF) üè∑üëè(ÁõÆÂâçÁöÑiÊòØÂê¶Ë¶ÅËº∏Âá∫ÔºåÁî¢ÁîüÁöÑUÂ¶ÇÊûúÂ∞èÊñºF,Â∞±Êé•Âèó \\( p=Œª \\frac{p}{i+1},F=F+p,i=i+1 \\) üè∑üëèpÂè™ÊòØÂÄã‰∏≠ÈñìÂÄº‰∏ªË¶ÅÈáçÊñ∞Ë®àÁÆóF Âà∞Ê≠•È©ü 3  language R:\nlambda \u0026lt;-2.3\ru\u0026lt;-runif(1)\ri=0\rp=exp(-lambda)\rF=p\rwhile (F\u0026lt;=u){\rp=lambda*p/(i+1)\rF=F+p\ri=i+1\r}\rx=i\rcat(x,\u0026quot;\\n\u0026quot;) # üè∑üëèÂè™Êúâ‰∏ÄÂÄã\r#\u0026gt; 2\r excel,vb\nPublic Function Randpoisson(ByVal lambda As Double) As Double\rDim N As Integer\rDim temp As Double\rtemp = alea() //Ê≤íÊúâ0,1 ÁöÑuniform\rN = 1\rWhile (temp \u0026gt; Exp(-lambda))\rN = N + 1\rtemp = temp +alea()\rWend\rRandpoisson = N - 1\rEnd Function\r \rËß£Ë™™‰∏äÈù¢ÁöÑÊºîÁÆóÊ≥ï\rdpois(),ppois(),rpois()\n# compare with rpois(1,2.3)\rx1\u0026lt;-0:6\rlambda\u0026lt;-2.3\rp=exp(-lambda)\rF[1]=p\rfor(i in x1[-1]){\rp=lambda*p/(i)\rF[i+1]=F[i]+p\r}\ry\u0026lt;-ppois(x1,lambda)\rplot(x1,y,type=\u0026quot;p\u0026quot;)\rlines(x1,F)\r \u0026lt;img src=\u0026quot;2_1_%e9%9a%a8%e6%a9%9f%e8%ae%8a%e6%95%b8_files/figure-html/unnamed-chunk-4-1.png\u0026quot; class=\u0026quot;figure-img w-100 \u0026quot;\ralt=\u0026quot;figure\u0026quot;/\u0026gt; \u0026lt;figcaption class=\u0026quot;figure-caption\u0026quot;\u0026gt;\rfigure\r\u0026lt;/figcaption\u0026gt;\r \r „ÄêÊåáÊï∏ÂàÜ‰Ωà‰∫ÇÊï∏„ÄëÈÄôÊòØÈÄÜÊñπÊ≥ï \\( PDF: f(x)=Œª e^{-Œªx} \\)\n\\( CDF: 1-e^{-Œªx} \\) #üè∑Ë®ªËß£üëèÁî±poisson processÁü•ÈÅìÂú®tÊôÇÈñìÂÖßÊ≤íÊúâÁôºÁîü‰∫ã‰ª∂ÁöÑÊ©üÁéáÁÇ∫\n\\( R.V. X=-1/Œª lnU \\sim E(Œª) \\)\n\\( F(x)=1-e^{-Œªx}=u \\) \\(„ÄÄx=F^{-1}(u) =-\\frac{ln(1-u)}{Œª} \\)\n‚õ≥Ë®ªËß£  ‰ª§ W Ë°®Á§∫Âú® Poisson ÈÅéÁ®ã‰∏≠ÔºåÁî±ÈñãÂßãÂà∞Á¨¨‰∏ÄÊ¨°‰∫ã‰ª∂ÁôºÁîüÁöÑÊôÇÈñìÔºàÈÄôÊòØ‰∏ÄÈö®Ê©üËÆäÊï∏Ôºâ„ÄÇÁî±‰∏äÁØÄÁü• $$ P(W\u0026gt;t)=P(Âú®[0,t]ÁÑ°‰∫ã‰ª∂ÁôºÁîü ) \\ =e^{-\\lambda t}, t\u0026gt;0 $$ ‰ΩÜ \\begin{equation}F_W(t)=P(W\\leq t)=1-P(W\u0026gt;t) =1-e^{-\\lambda t} \\end{equation}\nÊäät‰ª£ÊèõÁÇ∫ÂñÆ‰ΩçÊôÇÈñì(=1),Â∞±ÊòØpoissonÂàÜÈÖç„ÄÇ\n\r\rR Á∑¥Áøí Continuous Example: Exponential Distribution Ëã• \\(Y\\) ÊòØÊåáÊï∏RVÂ∏∂ÈÄüÁéáÂèÉÊï∏ \\(\\lambda = 2\\). ÂâáPDF \\(p(y) = 2e^{-2y}\\), for \\(y \u0026gt; 0\\). ‰∏îCDF: $$F_Y(x) = P(Y\\leq x) = \\int_0^x 2e^{-2y} dy = 1 - e^{-2x}$$\nËß£ÂæóCDFÈÄÜÂáΩÊï∏ $$F_Y^{-1}(y) = -\\frac{\\ln(1-y)}{2}$$\nUsing our algorithm above, we first generate \\(U \\sim \\text{Unif}(0,1)\\), then set \\(X = F_Y^{-1}(U) = -\\frac{\\ln(1-U)}{2}\\). We do this in the R code below and compare the histogram of our samples with the true density of \\(Y\\).\n# inverse transform sampling\rnum.samples \u0026lt;- 1000\rU \u0026lt;- runif(num.samples)\rX \u0026lt;- -log(1-U)/2\r# plot\rhist(X, freq=F, xlab='X', main='Generating Exponential R.V.')\r#\u0026gt; Warning in if (freq) x$counts else x$density: Ê¢ù‰ª∂ÁöÑÈï∑Â∫¶ \u0026gt; 1ÔºåÂõ†Ê≠§Âè™ËÉΩÁî®ÂÖ∂Á¨¨‰∏ÄÂÖÉ\r#\u0026gt; Á¥†\r#\u0026gt; Warning in if (!freq) \u0026quot;Density\u0026quot; else \u0026quot;Frequency\u0026quot;: Ê¢ù‰ª∂ÁöÑÈï∑Â∫¶ \u0026gt; 1ÔºåÂõ†Ê≠§Âè™ËÉΩÁî®ÂÖ∂Á¨¨\r#\u0026gt; ‰∏ÄÂÖÉÁ¥†\rcurve(dexp(x, rate=2) , 0, 3, lwd=2, xlab = \u0026quot;\u0026quot;, ylab = \u0026quot;\u0026quot;, add = T)\r figure\r\r\rIndeed, the plot indicates that our random variables are following the intended distribution.\nDiscrete Example Let's assume we want to simulate a discrete random variable \\(X\\) that follows the following distribution:\n   x_i P(X=x_i)     1 0.1   2 0.4   3 0.2   4 0.3    Below we simulate from this distribution using the discrete.inv.transform.sample() function above, and plot both the true probability vector, and the empirical proportions from our simulation.\nnum.samples \u0026lt;- 1000\rp.vec \u0026lt;- c(0.1, 0.4, 0.2, 0.3)\rnames(p.vec) \u0026lt;- 1:4\rsamples \u0026lt;- numeric(num.samples)\rfor(i in seq_len(num.samples) ) {\rsamples[i] \u0026lt;- discrete.inv.transform.sample(p.vec)\r}\rbarplot(p.vec, main='True Probability Mass Function')\r figure\r\r\rbarplot(table(samples), main='Empirical Probability Mass Function')\r figure\r\r\rAgain, the plot supports our claim that we are drawing from the true probability distribution\n"},
{"uri": "/blogR//topic/simulation/bays1.html","title": "bays1",
	"tags": [],
	"description": "bays1",
	"content": "prior \u0026lt;-c(working =0.99, broken =0.01)\rlikelihood \u0026lt;-rbind(\rworking =c(good =0.99, bad =0.01), broken =c(good =0.6,bad =0.4))\rdata \u0026lt;-c(\u0026quot;bad\u0026quot;, \u0026quot;bad\u0026quot;, \u0026quot;bad\u0026quot;, \u0026quot;bad\u0026quot;)\rprior\r #\u0026gt; working broken #\u0026gt; 0.99 0.01\r likelihood\r #\u0026gt; good bad\r#\u0026gt; working 0.99 0.01\r#\u0026gt; broken 0.60 0.40\r data\r #\u0026gt; [1] \u0026quot;bad\u0026quot; \u0026quot;bad\u0026quot; \u0026quot;bad\u0026quot; \u0026quot;bad\u0026quot;\r bayes \u0026lt;-function(prior, likelihood, data){\rposterior \u0026lt;-matrix(0, nrow =length(data), ncol =length(prior))\rdimnames(posterior) \u0026lt;-list(data, names(prior))\rinitial_prior \u0026lt;-prior\rfor (i in 1:length(data)){\rposterior[i, ] \u0026lt;- prior *likelihood[, data[i]]/sum(prior *likelihood[,data[i]])\rprior \u0026lt;-posterior[i, ]\r}\rreturn(rbind(initial_prior, posterior))\r}\rbayes(prior,likelihood,data)\r #\u0026gt; working broken\r#\u0026gt; initial_prior 9.900000e-01 0.0100000\r#\u0026gt; bad 7.122302e-01 0.2877698\r#\u0026gt; bad 5.826957e-02 0.9417304\r#\u0026gt; bad 1.544486e-03 0.9984555\r#\u0026gt; bad 3.867038e-05 0.9999613\r"},
{"uri": "/blogR//topic/simulation/poisson%E5%88%86%E9%85%8D.html","title": "PoissonÂàÜÈÖç",
	"tags": [],
	"description": "PoissonÂàÜÈÖç",
	"content": " Áõ∏Èóú  R Functions dpois, ppois, and rpois\n\\( f_X (k;Œª)=P({X=k})=\\frac{Œª^k}{k!} e^{-Œª} \\)„ÄÄÂπ≥Âùá \\(Œº=Œª\\)\nËÆäÁï∞Êï∏ \\(œÉ^2=Œª\\)\n dpois(x, lambda) ppois(q, lambda, lower.tail) is the cumulative probability (lower.tail = TRUE for left tail, lower.tail = FALSE for right tail) of less than or equal to q successes. rpois(n, lambda) Áî¢Áîü‰∫ÇÊï∏ x ~ Poisson distribution(lambda). qpois(p, lambda, lower.tail) returns the value (quantile) at the specified cumulative probability (percentile) p.  Example What is the probability of making 2 to 4 sales in a week if the average sales rate is 3 per week?\n# Using cumulative probability\rppois(q = 4, lambda = 3, lower.tail = TRUE) - ppois(q = 1, lambda = 3, lower.tail = TRUE)\r#\u0026gt; [1] 0.616115\r# Using exact probability\rdpois(x = 2, lambda = 3) +\rdpois(x = 3, lambda = 3) +\rdpois(x = 4, lambda = 4)\r#\u0026gt; [1] 0.6434504\r# expected number of sales = lambda = 3\r# variance = lambda = 3\rlibrary(ggplot2)\rlibrary(dplyr)\r#\u0026gt; #\u0026gt; ËºâÂÖ•Â•ó‰ª∂Ôºö'dplyr'\r#\u0026gt; ‰∏ãÂàóÁâ©‰ª∂Ë¢´ÈÅÆÊñ∑Ëá™ 'package:stats':\r#\u0026gt; #\u0026gt; filter, lag\r#\u0026gt; ‰∏ãÂàóÁâ©‰ª∂Ë¢´ÈÅÆÊñ∑Ëá™ 'package:base':\r#\u0026gt; #\u0026gt; intersect, setdiff, setequal, union\roptions(scipen = 999, digits = 2) # sig digits\revents \u0026lt;- 0:10\rdensity \u0026lt;- dpois(x = events, lambda = 3)\rprob \u0026lt;- ppois(q = events, lambda = 3, lower.tail = TRUE)\rdf \u0026lt;- data.frame(events, density, prob)\rggplot(df, aes(x = factor(events), y = density)) +\rgeom_col() +\rgeom_text(\raes(label = round(density,2), y = density + 0.01),\rposition = position_dodge(0.9),\rsize = 3,\rvjust = 0\r) +\rlabs(title = \u0026quot;PMF and CDF of Poisson Distribution\u0026quot;,\rsubtitle = \u0026quot;P(3).\u0026quot;,\rx = \u0026quot;Events (x)\u0026quot;,\ry = \u0026quot;Density\u0026quot;) +\rgeom_line(data = df, aes(x = events, y = prob))\r figure\r\r\rExample\nSuppose a baseball player has a p=.300 batting average. What is the probability of X\u0026lt;=150 hits in n=500 at bats? X=150? X\u0026gt;150?\n# probability of x \u0026lt;= 150\rppois(q = 150, lambda = .300 * 500, lower.tail = TRUE)\r#\u0026gt; [1] 0.52\r# probability of x = 150\rdpois(x = 150, lambda = .300 * 500)\r#\u0026gt; [1] 0.033\r# probability of x \u0026gt; 150\rppois(q = 150, lambda = .300 * 500, lower.tail = FALSE) #\u0026gt; [1] 0.48\rlibrary(ggplot2)\rlibrary(dplyr)\roptions(scipen = 999, digits = 2) # sig digits\rhits \u0026lt;- 0:100 * 3\rdensity \u0026lt;- dpois(x = hits, lambda = .300 * 500)\rprob \u0026lt;- ppois(q = hits, lambda = .300 * 500, lower.tail = TRUE)\rdf \u0026lt;- data.frame(hits, density, prob)\rggplot(df, aes(x = hits, y = density)) +\rgeom_col() +\rlabs(title = \u0026quot;Poisson(150)\u0026quot;,\rsubtitle = \u0026quot;PMF and CDF of Poisson(3) distribution.\u0026quot;,\rx = \u0026quot;Hits (x)\u0026quot;,\ry = \u0026quot;Density\u0026quot;) +\rgeom_line(data = df, aes(x = hits, y = prob))\r \rfigure\r\r\rThe Poisson distribution approximates the binomial distribution with Œª=np if n\u0026gt;=20 and p\u0026lt;=0.05.\nExample What is the distribution of successes from a sample of n = 50 when the probability of success is p = .03?\nlibrary(ggplot2)\rlibrary(dplyr)\rlibrary(tidyr)\roptions(scipen = 999, digits = 2) # sig digits\rn = 0:10\rdf \u0026lt;- data.frame(events = 0:10, Poisson = dpois(x = n, lambda = .03 * 50),\rBinomial = dbinom(x = n, size = 50, p = .03))\rdf_tidy \u0026lt;- gather(df, key = \u0026quot;Distribution\u0026quot;, value = \u0026quot;density\u0026quot;, -c(events))\rggplot(df_tidy, aes(x = factor(events), y = density, fill = Distribution)) +\rgeom_col(position = \u0026quot;dodge\u0026quot;) +\rlabs(title = \u0026quot;Poisson(15) and Binomial(50, .03)\u0026quot;,\rsubtitle = \u0026quot;Poisson approximates binomial when n \u0026gt;= 20 and p \u0026lt;= .05.\u0026quot;,\rx = \u0026quot;Events (x)\u0026quot;,\ry = \u0026quot;Density\u0026quot;)\r \rfigure\r\r\rExample Suppose the probability that a drug produces a certain side effect is p = = 0.1% and n = 1,000 patients in a clinical trial receive the drug. What is the probability 0 people experience the side effect?\n# The expected value is np\r1000 * .001\r#\u0026gt; [1] 1\r# The probability of measuring 0 when the expected value is 1\rdpois(x = 0, lambda = 1000 * .001) #\u0026gt; [1] 0.37\rlibrary(ggplot2)\rlibrary(dplyr)\roptions(scipen = 999, digits = 2) # sig digits\rx \u0026lt;- 0:10\rdensity \u0026lt;- dpois(x = x, lambda = 1000 * .001)\rprob \u0026lt;- ppois(q = x, lambda = 1000 * .001, lower.tail = TRUE)\rdf \u0026lt;- data.frame(x, density, prob)\rggplot(df, aes(x = x, y = density)) +\rgeom_col() +\rgeom_text(\raes(label = round(density,2), y = density + 0.01),\rposition = position_dodge(0.9),\rsize = 3,\rvjust = 0\r) +\rlabs(title = \u0026quot;Poisson(1)\u0026quot;,\rsubtitle = \u0026quot;PMF and CDF of Poisson(1) distribution.\u0026quot;,\rx = \u0026quot;Events (x)\u0026quot;,\ry = \u0026quot;Density\u0026quot;) +\rgeom_line(data = df, aes(x = x, y = prob))\r figure\r\r"},
{"uri": "/blogR//topic/simulation/simulation_1.html","title": "simulation_1",
	"tags": [],
	"description": "simulation_1",
	"content": "ÂùáÂãªÂàÜÈÖçÊäΩÊ®£ runif(n, min = 0, max = 1) runif(100, min = 0, max = 100)\nRandomNumbers \u0026lt;- runif(10000, min = 0, max = 100)\rhist(RandomNumbers)\r figure\r\r\rSampling from a normal distribution rnorm(n, mean = 0, sd = 1)\nnormalSample \u0026lt;- rnorm(10000, mean = 100, sd = 50)\rhist(normalSample)\r figure\r\r\rSimulating a coin toss Êì≤Á°¨Âπ£10Ê¨°,5H:5T,4H:6TÁöÑÊ©üÁéáÊòØÂ§öÂ∞ë?\nallHeads \u0026lt;- c()\rfor (i in 1:10000) {\rtotalHeads \u0026lt;- sum(round(runif(10, min = 0, max = 1)))\rallHeads \u0026lt;- c(allHeads,totalHeads)\r}\rx\u0026lt;-hist(allHeads) #üè∑üëèÂ¶ÇÊûúË¶Åprobability density functionÂâá hist(allHeads,‚úîfreq=FALSE)\r figure\r\r\rx #üè∑üëèÂ¶ÇÊûúÂè™Ë¶ÅÂúñÂΩ¢,‰∏çÁî®ÊåáÊ¥æÁµ¶ËÆäÊï∏x,Â∞±ÊòØË™™Âè™Ë¶Å‚úîhist(allHeads)\r#\u0026gt; $breaks\r#\u0026gt; [1] 0.0 0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5 6.0 6.5 7.0 7.5 8.0 8.5 9.0 9.5 10.0\r#\u0026gt; #\u0026gt; $counts\r#\u0026gt; [1] 15 76 0 469 0 1109 0 2139 0 2400 0 2032 0 1237 0 423 0 98 0 2\r#\u0026gt; #\u0026gt; $density\r#\u0026gt; [1] 0.0030 0.0152 0.0000 0.0938 0.0000 0.2218 0.0000 0.4278 0.0000 0.4800 0.0000 0.4064 0.0000 0.2474 0.0000 0.0846 0.0000 0.0196 0.0000 0.0004\r#\u0026gt; #\u0026gt; $mids\r#\u0026gt; [1] 0.25 0.75 1.25 1.75 2.25 2.75 3.25 3.75 4.25 4.75 5.25 5.75 6.25 6.75 7.25 7.75 8.25 8.75 9.25 9.75\r#\u0026gt; #\u0026gt; $xname\r#\u0026gt; [1] \u0026quot;allHeads\u0026quot;\r#\u0026gt; #\u0026gt; $equidist\r#\u0026gt; [1] TRUE\r#\u0026gt; #\u0026gt; attr(,\u0026quot;class\u0026quot;)\r#\u0026gt; [1] \u0026quot;histogram\u0026quot;\r ‰∏äÂúñÊòØ10Ê¨°‰∏≠Âá∫ÁèæHÁöÑ0,1,2..Ê¨°Êï∏„ÄÇ ‰ΩÜÊòØÁÇ∫ÁîöÈ∫ºÊü±ÁãÄ‰πãÈñìÊúâÁ©∫Ê†º?ÊèêÁ§∫\r #\u0026gt; $breaks \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëè0Âà∞10‰∏≠ÁöÑÂàÜÂâ≤Èªû\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; [1] 0.0 0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5 6.0 6.5 7.0 7.5 8.0 8.5 9.0 9.5 10.0\r#\u0026gt; #\u0026gt; $counts \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÊØèÂÄãÂàÜÂâ≤ÁöÑHÂÄãÊï∏\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; [1] 12 104 0 464 0 1163 0 2005 0 2443 0 2045 0 1207 0 449 0 102 0 6\r#\u0026gt; #\u0026gt; $density \u0026lt;span data-nopre class=\u0026quot;codenote nopre\u0026quot;\u0026gt;üè∑\u0026lt;span data-nopre class=\u0026quot;tooltiptext\u0026quot; \u0026gt;üëèÊØèÂÄãBINÁöÑÂØÜÂ∫¶\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\r#\u0026gt; [1] 0.0024 0.0208 0.0000 0.0928 0.0000 0.2326 0.0000 0.4010 0.0000 0.4886 0.0000 0.4090 0.0000 0.2414 0.0000 0.0898 0.0000 0.0204 0.0000 0.0012\r Âõ†ÁÇ∫Ëº∏Âá∫ÁÇ∫Êï¥Êï∏,ËÄåÂàÜÈöî‰ª•0.5ÁÇ∫ÂñÆ‰Ωç,Â∞éËá¥Êúâ‰∫õÂú∞ÊñπÊ≤íÊúâË≥áÊñô=0„ÄÇ\n\r‰øÆÊ≠£Âúñ‰∏≠‰∏çÊáâË©≤ÊúâÁöÑÁ©∫ÁôΩÈñìÈöô„ÄÇ\nhist(allHeads, freq = FALSE, breaks = 11) #üè∑üëèËá™Ë°åÊåáÂÆöÂàÜÂâ≤Èªû\r figure\r\r\rt-test tÊ™¢ÂÆö„ÄÇ\n ÂñÆ‰∏ÄÊ®£Êú¨ Áç®Á´ãÊ®£Êú¨ ÈÖçÂ∞çÊ®£Êú¨  Simulating a one-sample t-test ÂñÆÊ®£Êú¨t-testÁî®‰æÜÁúãÊüêÂÄãÊ®£Êú¨Âπ≥ÂùáÊòØÂê¶È°ØËëóÁï∞ÊñºÊØçÈ´îÂπ≥Âùá„ÄÇ Â¶ÇÊûú‰∏ÄÂÄãÁè≠Á¥öÊúâ10ÂÄãÂ≠∏ÁîüÈ§êËàáT/FËÄÉË©¶,ÁèæÂú®\ntestScores \u0026lt;- rnorm(10, mean = 50, sd = 20)\rtestScores[testScores \u0026gt; 100] \u0026lt;- 100 #üè∑üëè‰ΩÜÊòØÁèæÂú®ÂïèÈ°åÊòØÂ∏∏ÊÖãÂàÜÈÖçÊäΩÂà∞ÁöÑÂèØËÉΩÂ∞èÊñº0,‰πüÂèØËÉΩÂ§ßÊñº100„ÄÇ‰øÆÊ≠£ÊñπÊ≥ïÊòØ\u0026gt;100ÁöÑË®≠ÂÆöÁÇ∫100,Â∞èÊñº0ÁöÑË®≠ÂÆöÁÇ∫0„ÄÇ\rtestScores[testScores \u0026lt; 0] \u0026lt;- 0\rmean(testScores) #üè∑üëèÁúã‰∏Ä‰∏ãÈÄôÊ¨°ÊäΩÊ®£ÁöÑÂπ≥Âùá\r#\u0026gt; [1] 60.69769\rt.test(testScores,mu=50) #üè∑üëèone-sample t-test\r#\u0026gt; #\u0026gt; One Sample t-test\r#\u0026gt; #\u0026gt; data: testScores\r#\u0026gt; t = 2.0432, df = 9, p-value = 0.07139\r#\u0026gt; alternative hypothesis: true mean is not equal to 50\r#\u0026gt; 95 percent confidence interval:\r#\u0026gt; 48.85358 72.54181\r#\u0026gt; sample estimates:\r#\u0026gt; mean of x #\u0026gt; 60.69769\r testScores \u0026lt;- rnorm(10, mean = 80, sd = 20)\rtestScores[testScores \u0026gt; 100] \u0026lt;- 100\rtestScores[testScores \u0026lt; 0] \u0026lt;- 0\rt.test(testScores, mu = 50)\r#\u0026gt; #\u0026gt; One Sample t-test\r#\u0026gt; #\u0026gt; data: testScores\r#\u0026gt; t = 7.0639, df = 9, p-value = 5.895e-05\r#\u0026gt; alternative hypothesis: true mean is not equal to 50\r#\u0026gt; 95 percent confidence interval:\r#\u0026gt; 73.01384 94.69806\r#\u0026gt; sample estimates:\r#\u0026gt; mean of x #\u0026gt; 83.85595\r Áç®Á´ãÊ®£Êú¨ÁöÑt-test(independent samples t-test - two groups, between-subjects Alcohol \u0026lt;- rnorm(20, mean = 250, sd = 100)\rControl \u0026lt;- rnorm(20, mean = 150, sd = 100)\rAlcohol[Alcohol \u0026lt; 0] \u0026lt;- 0\rControl[Control \u0026lt; 0] \u0026lt;- 0\rt.test(Alcohol,Control)\r#\u0026gt; #\u0026gt; Welch Two Sample t-test\r#\u0026gt; #\u0026gt; data: Alcohol and Control\r#\u0026gt; t = 3.5651, df = 35.619, p-value = 0.001059\r#\u0026gt; alternative hypothesis: true difference in means is not equal to 0\r#\u0026gt; 95 percent confidence interval:\r#\u0026gt; 45.0944 164.2015\r#\u0026gt; sample estimates:\r#\u0026gt; mean of x mean of y #\u0026gt; 241.9983 137.3503\r Âú®R‰∏≠ÁöÑtÊ™¢ÂÆö,‰ΩøÁî®ÁöÑÊòØ Welch Two Sample t-test„ÄÇÂ¶ÇÊûúË¶ÅÂæóÂà∞ÂÉèÊòØEXCEL,SPSSÁöÑÈ°û‰ººÊï∏ÂÄº,ÂèØ‰ª•\nt.test(Alcohol,Control, var.equal = TRUE)\r#\u0026gt; #\u0026gt; Two Sample t-test\r#\u0026gt; #\u0026gt; data: Alcohol and Control\r#\u0026gt; t = 3.5651, df = 38, p-value = 0.001002\r#\u0026gt; alternative hypothesis: true difference in means is not equal to 0\r#\u0026gt; 95 percent confidence interval:\r#\u0026gt; 45.22513 164.07077\r#\u0026gt; sample estimates:\r#\u0026gt; mean of x mean of y #\u0026gt; 241.9983 137.3503\r ÊàêÂ∞çÊ®£Êú¨(paired samples)ÁöÑtÊ™¢ÂÆöt-test (two conditions, within-subjects) day1\u0026lt;-rnorm(20, mean = 20, sd = 5)\rday2\u0026lt;-rnorm(20, mean = 30, sd = 5)\rday1[day1\u0026lt;0]\u0026lt;-0\rday2[day2\u0026lt;0]\u0026lt;-0\rmean(day1)\r#\u0026gt; [1] 18.73943\rmean(day2)\r#\u0026gt; [1] 30.63218\rt.test(day1, day2, var.equal=TRUE, paired=TRUE)\r#\u0026gt; #\u0026gt; Paired t-test\r#\u0026gt; #\u0026gt; data: day1 and day2\r#\u0026gt; t = -6.0841, df = 19, p-value = 7.514e-06\r#\u0026gt; alternative hypothesis: true difference in means is not equal to 0\r#\u0026gt; 95 percent confidence interval:\r#\u0026gt; -15.984027 -7.801472\r#\u0026gt; sample estimates:\r#\u0026gt; mean of the differences #\u0026gt; -11.89275\r Finally, compute the paired-samples t-test using the t.test function. This will be the same as before, except the option for a paired test will be set to TRUE.\nGenerality of the t-test examples The above examples illustrate specific cases of simulating and analyzing data for one-sample, independent sample, and paired-sample t-tests. The code can be extended to simulate data for any kind of experiment or set of data that should be analyzed by these tests. The only changes that need to be made are the names of the variables, and the predictions for the number of subjects, and means, standard deviations, or other parameters of the sampling distribution chosen to model the data.\nFormatting data in R for more complex designs Áî¢ÁîüÁî®‰æÜÂàÜÊûêÂÄãÈ´î‰πãÈñì„ÄÅ‰πãÂÖßÁöÑ(between,within subject) ÂñÆ/Â§ö Âõ†Â≠êË®≠Ë®à(single/multi factor design) Ë∑ëANOVAÂà©Áî®ÁöÑÂáΩÊï∏ÊòØaov()„ÄÇÈÄôÂÄãÂáΩÊï∏ÈúÄË¶ÅË≥áÊñôÊï¥ÁêÜÊàêlong-formatÁöÑÂûãÊÖã(Âú®R‰∏≠,‰ΩøÁî®data farme) )\n\rÂ±ïÈñã\rüé∂Experimental designs involve manipulations and measurements. The manipulations are described by independent variables, and the measurements refer to dependent variables. Every independent variable has at least two levels, and possibly many more. In balanced designs there is one measurement (DV) for each of the levels of the independent variables. Thus, in order to represent the results of an experiment, it is necessary to organize the data so that the measurement for each level of each independent variable can be identified. Data is typically organized either in wide or long-format. ÂØ¶È©óË®≠Ë®àÂåÖÂê´ËôïÁêÜÂíåÊ∏¨Èáè(manipulations and measurements)„ÄÇËôïÁêÜÂ∞±ÊòØIV,Ê∏¨ÈáèÂ∞±ÊòØDV„ÄÇÊØèÂÄãIVÂèØËÉΩËá≥Â∞ëÊúâ2ÂÄãÂà∞Â§öÂÄãlevel„ÄÇÂú®balanced designs ‰∏≠,IV‰∏≠ÁöÑÊØèÂÄãLEVELÊúâ‰∏ÄÂÄãÊ∏¨Èáè(DV)„ÄÇ ÈÖçÂêà‰∏äËø∞ÁöÑÂØ¶È©óÁµêÊûú,Ë≥áÊñôÁ¥ÄÈåÑÁöÑÊñπÂºèÊúâÂØ¨(wide)ÂíåÈï∑(long)ÂÖ©Á®ÆÊ†ºÂºè„ÄÇ ÂØ¨Ë≥áÊñô Subjects L1 L2 L3   1 5 5 10  2 7 6 10  3 10 8 10  4 9 10 9  5 9 6 8     Èï∑Ë≥áÊñô Subjects IV DV   1 L1 5  2 L1 7  3 L1 10  4 L1 9  5 L1 9  1 L2 5  2 L2 6  3 L2 8  4 L2 10  5 L2 6  1 L3 10  2 L3 10  3 L3 6  4 L3 9  5 L3 8     Èï∑ÂØ¨Ë≥áÊñôÊåáÁöÑÊòØÂÄãÈ´îËôüÁ¢ºÊòØÂê¶ÊúâÈáçË§á„ÄÇ\nFor each of the following simulations we will be constructing our own sets of data in long format. For each simulation it will be necessary to determine the total number of subjects, the total number of levels for each IV, and the total number of observations of the DV. These constraints will be used to create and organize each of the data sets.\nSingle Factor ANOVAs: Data-Simulation and Analysis Simulating data for a one-way within subjects ANOVA with 3 levels ÊâìÂ≠óÈÄüÂ∫¶ÊòØÂê¶Èö®ËëóÊïôÂ≠∏ÊôÇÈñìËÄåËÆäÂåñ„ÄÇ20ÂÄãÂèóÊ∏¨ËÄÖ,DVÊòØÊØèÂàÜÈêòÁöÑÂ≠óÊï∏„ÄÇIVÊòØÁ¨¨1,2,3Â§©3ÂÄãLEVEL„ÄÇ\nÁî¢ÁîüÊ®°Êì¨Ë≥áÊñô\nday1 \u0026lt;- rnorm(20, mean = 20, sd = 5)\rday2 \u0026lt;- rnorm(20, mean = 30, sd = 5)\rday3 \u0026lt;- rnorm(20, mean = 40, sd = 5)\rday1[day1 \u0026lt; 0] \u0026lt;- 0 #üè∑üëèËÆìË≤†Êï∏ÊàêÁÇ∫0\rday2[day2 \u0026lt; 0] \u0026lt;- 0\rday3[day3 \u0026lt; 0] \u0026lt;- 0\rWPM \u0026lt;- c(day1,day2,day3)\r Âõ†ÁÇ∫Ë¶ÅÁî¢ÁîüÈï∑Ë≥áÊñô:\nSubjects \u0026lt;- c(seq(1,20), seq(1,20), seq(1,20)) #üè∑üëè ‰πüÂèØ‰ª•Âà©Áî®seq()ÂáΩÊï∏: Subjects\u0026lt;-rep(seq(1,20),3)\rSubjects\u0026lt;-factor(Subjects) #üè∑üëèÂõ†ÁÇ∫Ë¶ÅÈÄ≤Ë°åANOVA,ÊâÄ‰ª•ÂÄãÈ´îËÆäÊï∏ÂøÖÈ†àÊòØÂõ†Â≠ê(Âú®R‰∏≠ÁöÑÂ∞çÊáâÁÇ∫factor È°ûÂà•)\r We now have a variable called WPM that represents the DV, and a variable Subjects that represents the subject factor. The remaining factor is the IV for practice. This has three levels, day1, day2, and day3. Given the way we have organized the data in the WPM variable, we know that the first 20 numbers are for day1, the second 20 numbers are for day 2, and the final set of 20 numbers are for day 3. Thus, we need to create a variable with the term day1 listed 20 times, followed by the term day2 listed 20 times, and then the term day3 listed 20 times. It is easy to do this using the function rep.\nrep(\u0026quot;day1\u0026quot;,20)\r#\u0026gt; [1] \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot; \u0026quot;day1\u0026quot;\r The Practice factor can be created in the following way:\nPractice \u0026lt;- c(rep(\u0026quot;day1\u0026quot;,20), rep(\u0026quot;day2\u0026quot;,20), rep(\u0026quot;day3\u0026quot;,20))\r We have now created variables for every aspect of the design (Subjects, Practice, WPM). The next step is to combine these variables into a long-format table. This is done using the data.frame function. Data needs to be converted into a data frame format before using the aov function to compute the ANOVA. Fortunately, this is very easy. Let‚Äôs create the data frame and put it into a new variable called AllData\nAllData \u0026lt;- data.frame(Subjects,Practice,WPM)\r Á¨¨1ÂÄãÊ¨Ñ‰ΩçÊòØÂÄãÈ´îËÆäÊï∏(1-20Ëôü) Á¨¨2ÂÄãÊ¨Ñ‰ΩçÊòØThe second column should show the Practice variable, with the names of each of the levels repeated 20 times each, and the Á¨¨3Á¨¨3ÂÄãÊ¨Ñ‰ΩçÊòØÊØèÂàÜÈêòÊâìÂ≠óÂÄãÊï∏„ÄÇ\nAllData #\r \rÂ±ïÈñã\rSubjects Practice WPM   1 day1 23.93267  2 day1 26.56774  3 day1 18.34906  4 day1 24.72847  5 day1 15.87122  6 day1 17.80156  7 day1 18.81558  8 day1 21.43063  9 day1 17.20837  10 day1 16.30356  11 day1 15.50422  12 day1 29.43814  13 day1 14.03841  14 day1 18.78427  15 day1 22.72366  16 day1 19.32137  17 day1 20.20619  18 day1 22.03055  19 day1 25.62661  20 day1 17.10438  1 day2 28.07132  2 day2 32.13748  3 day2 34.29204  4 day2 29.09682  5 day2 24.61844  6 day2 26.59760  7 day2 24.51737  8 day2 29.48648  9 day2 42.25616  10 day2 31.73995  11 day2 33.70681  12 day2 31.84762  13 day2 35.88310  14 day2 30.76246  15 day2 28.30401  16 day2 45.64188  17 day2 35.44798  18 day2 28.38226  19 day2 28.74083  20 day2 28.82634  1 day3 36.40064  2 day3 39.35185  3 day3 42.09603  4 day3 41.48042  5 day3 32.77653  6 day3 37.06247  7 day3 39.23680  8 day3 43.31603  9 day3 29.86623  10 day3 33.93805  11 day3 37.58570  12 day3 46.68936  13 day3 38.55405  14 day3 35.34527  15 day3 35.75756  16 day3 43.64483  17 day3 36.46253  18 day3 37.89225  19 day3 46.44139  20 day3 36.25436    \r# The final step is to perform the one-way ANOVA. This will provide a test to determine whether there is a significant difference between the levels of the practice factor. Luckily, once the data has been formatted into a data frame, the ANOVA can be computed in one line of code using the aov function. Just like we did with the hist function, let‚Äôs store the results of aov function into a variable called ANOVAresults.\nANOVAresults \u0026lt;- aov(WPM~Practice + Error(Subjects/Practice), AllData)\r Next, use the summary function to print the results of ANOVA to the terminal.\nsummary(ANOVAresults)\r#\u0026gt; #\u0026gt; Error: Subjects\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F)\r#\u0026gt; Residuals 19 503.5 26.5 #\u0026gt; #\u0026gt; Error: Subjects:Practice\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; Practice 2 3379 1689.5 87.98 5.49e-15 ***\r#\u0026gt; Residuals 38 730 19.2 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\rmodel.tables(ANOVAresults,\u0026quot;means\u0026quot;) #\u0026gt; Tables of means\r#\u0026gt; Grand mean\r#\u0026gt; #\u0026gt; 30.10493 #\u0026gt; #\u0026gt; Practice #\u0026gt; Practice\r#\u0026gt; day1 day2 day3 #\u0026gt; 20.29 31.52 38.51\r Here is all the code for the simulation in one complete script:\nday1\u0026lt;-rnorm(20, mean = 20, sd = 5)\rday2\u0026lt;-rnorm(20, mean = 30, sd = 5)\rday3\u0026lt;-rnorm(20, mean = 40, sd = 5)\rday1[day1\u0026lt;0]\u0026lt;-0\rday2[day2\u0026lt;0]\u0026lt;-0\rday3[day3\u0026lt;0]\u0026lt;-0\rWPM\u0026lt;-c(day1,day2,day3)\rSubjects\u0026lt;-c(seq(1,20), seq(1,20), seq(1,20))\rSubjects\u0026lt;-factor(Subjects)\rPractice\u0026lt;-c(rep(\u0026quot;day1\u0026quot;,20), rep(\u0026quot;day2\u0026quot;,20), rep(\u0026quot;day3\u0026quot;,20))\rAllData\u0026lt;-data.frame(Subjects,Practice,WPM)\rANOVAresults\u0026lt;-aov(WPM~Practice + Error(Subjects/Practice), AllData)\rsummary(ANOVAresults)\r#\u0026gt; #\u0026gt; Error: Subjects\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F)\r#\u0026gt; Residuals 19 627.3 33.02 #\u0026gt; #\u0026gt; Error: Subjects:Practice\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; Practice 2 4802 2401 96.02 1.39e-15 ***\r#\u0026gt; Residuals 38 950 25 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\rmodel.tables(ANOVAresults,\u0026quot;means\u0026quot;) #\u0026gt; Tables of means\r#\u0026gt; Grand mean\r#\u0026gt; #\u0026gt; 30.02964 #\u0026gt; #\u0026gt; Practice #\u0026gt; Practice\r#\u0026gt; day1 day2 day3 #\u0026gt; 18.72 30.76 40.60\r \rÂØ´Á∑äÊπäÈªû\rWPM\u0026lt;-rnorm(60,c(20,30,40),5)\rWPM[WPM\u0026lt;0]\u0026lt;-0\rSubjects\u0026lt;-factor(rep(seq(1,20),each=3))\rPractice\u0026lt;-rep(c(\u0026quot;day1\u0026quot;,\u0026quot;day2\u0026quot;,\u0026quot;day3\u0026quot;),20)\rAllData\u0026lt;-data.frame(Subjects,Practice,WPM)\rANOVAresults\u0026lt;-aov(WPM~Practice + Error(Subjects/Practice), AllData)\rsummary(ANOVAresults)\rmodel.tables(ANOVAresults,\u0026quot;means\u0026quot;)   Simulating data for a one-way between subjects design with 3 levels Consider the following between-subjects design with 60 subjects. The task is a memory experiment. Participants in the encoding phase read a list of 20 words, and are given a later test to recall as many words from the list as possible. The IV is the amount of time between the encoding phase and the test phase, and termed Delay. Group 1 is given the memory test immediately after reading the word list. Group 2 is given the memory test 1 hour after reading the word list. Group 3 is given the memory test 2 hours after reading the word list. Each group is composed of 20 different subjects. The prediction is that memory recall performance should decrease with longer delays. Group 1 should perform better than Group 2. And Group 2 should perform better than Group 3.\nThe DV could be the number of words recalled, this number would range between 0 and 20. There are 20 subjects and 2 conditions, so the DV should have 60 observations. The variables for the DV, and Subjects and Delay factors can be constructed in a similar manner to the previous example. The major difference being that the Subjects factor will contain the numbers 1-60, reflecting the fact that 60 different subjects completed the experiment. The following code creates the complete data frame and runs the ANOVA.\nRecall\u0026lt;-c(rnorm(20,mean=17,sd=3),rnorm(20,mean=15,sd=3),rnorm(20,mean=12, sd=3))\rRecall[Recall\u0026gt;20]\u0026lt;-20\rRecall[Recall\u0026lt;0]\u0026lt;-0\rSubjects\u0026lt;-factor(seq(1,60))\rDelay\u0026lt;-c(rep(\u0026quot;Immediate\u0026quot;,20), rep(\u0026quot;1Hour\u0026quot;,20), rep(\u0026quot;2Hour\u0026quot;,20))\rAllData\u0026lt;-data.frame(Subjects,Recall,Delay)\rANOVAresults\u0026lt;-aov(Recall~Delay, AllData)\rsummary(ANOVAresults)\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; Delay 2 298.0 148.98 20.64 1.81e-07 ***\r#\u0026gt; Residuals 57 411.4 7.22 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\rmodel.tables(ANOVAresults,\u0026quot;means\u0026quot;)\r#\u0026gt; Tables of means\r#\u0026gt; Grand mean\r#\u0026gt; #\u0026gt; 13.89419 #\u0026gt; #\u0026gt; Delay #\u0026gt; Delay\r#\u0026gt; 1Hour 2Hour Immediate #\u0026gt; 14.098 11.069 16.516\r Using the aov function for within or between-subjects designs The aov function is used for within, between and mixed design ANOVAs. The aov formula has the following syntax:\naov(formula,dataframe) dataframe refers to the name of the variable containing the data. The formula parameter defines the nature of the ANOVA. Here are some examples of the formula for different single and multi-factor between subject designs. The term DV will refer the name of the dependent variable, and IV for the name of the independent variable.\nBetween subjects ANOVA formulas  Single-factor design  aov(DV~IV, dataframe)   2 IVs  aov(DV~IV1*IV2, dataframe)   3 IVs  aov(DV~IV1*IV2*IV3, dataframe)    The main differences between these formulas are the additional IV variables. Each additional variable is multiplied to the others.\nThe aov formula changes in an important way for within-subjects designs. This is because within-subjects designs use an error term that incorporates the Subjects variable. This error term needs to be explicitly defined in the aov formula. It is also important that the subjects variable in the dataframe is defined as a factor. Here are some examples:\nWithin subjects ANOVA formulas (all factors within)  Single-factor design  aov(DV~IV + Error(Subjects/IV), dataframe)   2 IVs  aov(DV~IV1*IV2 + Error(Subjects/IV1*IV2), dataframe)   3 IVs  aov(DV~IV1*IV2*IV3 + Error(Subjects/IV1*IV2*IV3), dataframe)    Mixed design ANOVAs with between and within factors For these examples IVB will refer to between subject variables, and IVW will refer to within subjects variables\n One between IV and one within IV  aov(DV~IVB*IVW + Error(Subjects/IVW), dataframe)   One between IV and two Within IVs  aov(DV~IVBIVW1IVW2 + Error(Subjects/(IVW1*IVW2), dataframe)   Two between IVs and two Within IVs  aov(DV~IVB1IVB2IVW1IVW2 + Error(Subjects/(IVW1IVW2)+(IVB1*IVB2), dataframe)    note: in this last example an additional error term is added for the interaction between the two between subject variables.\nSimulating data for multi-factor designs 2x2 between subjects design The following code assumes 20 subjects per group (80 total). IV1 has two levels. IV2 has two levels.\nDV\u0026lt;-rnorm(80,c(100,200,300,400),sd=10)\rIV1\u0026lt;-rep(c(\u0026quot;level1\u0026quot;,\u0026quot;level2\u0026quot;),each=2,20)\rIV2\u0026lt;-rep(c(\u0026quot;level1\u0026quot;,\u0026quot;level2\u0026quot;),each=1,40)\rAllData\u0026lt;-data.frame(DV,IV1,IV2)\rANOVAresults\u0026lt;-aov(DV~IV1*IV2, AllData)\rsummary(ANOVAresults)\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; IV1 1 792525 792525 8502.143 \u0026lt;2e-16 ***\r#\u0026gt; IV2 1 200700 200700 2153.089 \u0026lt;2e-16 ***\r#\u0026gt; IV1:IV2 1 134 134 1.443 0.233 #\u0026gt; Residuals 76 7084 93 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\rmodel.tables(ANOVAresults,\u0026quot;means\u0026quot;)\r#\u0026gt; Tables of means\r#\u0026gt; Grand mean\r#\u0026gt; #\u0026gt; 248.8962 #\u0026gt; #\u0026gt; IV1 #\u0026gt; IV1\r#\u0026gt; level1 level2 #\u0026gt; 149.4 348.4 #\u0026gt; #\u0026gt; IV2 #\u0026gt; IV2\r#\u0026gt; level1 level2 #\u0026gt; 198.81 298.98 #\u0026gt; #\u0026gt; IV1:IV2 #\u0026gt; IV2\r#\u0026gt; IV1 level1 level2\r#\u0026gt; level1 98.0 200.7 #\u0026gt; level2 299.6 397.2\r 2x2 within subjects designs The following code assumes 20 subjects participating in each condition. IV1 has two levels. IV2 has two levels.\nSubjects\u0026lt;-factor(rep(seq(1,20),each=4)) DV\u0026lt;-rnorm(80,c(100,200,300,400),sd=10)\rIV1\u0026lt;-rep(c(\u0026quot;level1\u0026quot;,\u0026quot;level2\u0026quot;),each=2,20)\rIV2\u0026lt;-rep(c(\u0026quot;level1\u0026quot;,\u0026quot;level2\u0026quot;),each=1,40)\rAllData\u0026lt;-data.frame(DV,IV1,IV2)\rANOVAresults\u0026lt;-aov(DV~IV1*IV2 + Error(Subjects/(IV1*IV2)), AllData)\rsummary(ANOVAresults)\r#\u0026gt; #\u0026gt; Error: Subjects\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F)\r#\u0026gt; Residuals 19 2254 118.6 #\u0026gt; #\u0026gt; Error: Subjects:IV1\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; IV1 1 753595 753595 6330 \u0026lt;2e-16 ***\r#\u0026gt; Residuals 19 2262 119 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r#\u0026gt; #\u0026gt; Error: Subjects:IV2\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; IV2 1 211097 211097 2574 \u0026lt;2e-16 ***\r#\u0026gt; Residuals 19 1558 82 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r#\u0026gt; #\u0026gt; Error: Subjects:IV1:IV2\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F)\r#\u0026gt; IV1:IV2 1 3.6 3.59 0.033 0.858\r#\u0026gt; Residuals 19 2071.5 109.03\rmodel.tables(ANOVAresults,\u0026quot;means\u0026quot;)\r#\u0026gt; Tables of means\r#\u0026gt; Grand mean\r#\u0026gt; #\u0026gt; 250.9521 #\u0026gt; #\u0026gt; IV1 #\u0026gt; IV1\r#\u0026gt; level1 level2 #\u0026gt; 153.9 348.0 #\u0026gt; #\u0026gt; IV2 #\u0026gt; IV2\r#\u0026gt; level1 level2 #\u0026gt; 199.58 302.32 #\u0026gt; #\u0026gt; IV1:IV2 #\u0026gt; IV2\r#\u0026gt; IV1 level1 level2\r#\u0026gt; level1 102.7 205.1 #\u0026gt; level2 296.4 399.6\r 2x2 mixed design (1 within, 1 between) The following code assumes 40 total subjects. 20 participate in each level of IVB, and all participate in each level of IVW. IVB has two levels, IVW has two levels\nSubjects\u0026lt;-factor(c(rep(seq(1,40),each=2)))\rDV\u0026lt;-rnorm(80,c(100,200,300,400),sd=10)\rIVB\u0026lt;-rep(c(\u0026quot;level1\u0026quot;,\u0026quot;level2\u0026quot;),each=2,20)\rIVW\u0026lt;-rep(c(\u0026quot;level1\u0026quot;,\u0026quot;level2\u0026quot;),each=1,40)\rAllData\u0026lt;-data.frame(DV,IVB,IVW)\rANOVAresults\u0026lt;-aov(DV~IVB*IVW + Error(Subjects/(IVW)), AllData)\rsummary(ANOVAresults)\r#\u0026gt; #\u0026gt; Error: Subjects\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; IVB 1 803558 803558 7620 \u0026lt;2e-16 ***\r#\u0026gt; Residuals 38 4007 105 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r#\u0026gt; #\u0026gt; Error: Subjects:IVW\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; IVW 1 183146 183146 1244.440 \u0026lt;2e-16 ***\r#\u0026gt; IVB:IVW 1 2 2 0.017 0.897 #\u0026gt; Residuals 38 5593 147 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\rmodel.tables(ANOVAresults,\u0026quot;means\u0026quot;)\r#\u0026gt; Tables of means\r#\u0026gt; Grand mean\r#\u0026gt; #\u0026gt; 250.7176 #\u0026gt; #\u0026gt; IVB #\u0026gt; IVB\r#\u0026gt; level1 level2 #\u0026gt; 150.5 350.9 #\u0026gt; #\u0026gt; IVW #\u0026gt; IVW\r#\u0026gt; level1 level2 #\u0026gt; 202.87 298.56 #\u0026gt; #\u0026gt; IVB:IVW #\u0026gt; IVW\r#\u0026gt; IVB level1 level2\r#\u0026gt; level1 102.5 198.5 #\u0026gt; level2 303.3 398.6\r Power analysis and sample-size planning by Monte Carlo simulation The above code blocks show examples of simulating data in a few different designs, and then analyzing the simulated data with an ANOVA. By repeating this process many times for any given design, we can estimate statistical properties of the design that should hold over the long run. For example, how often does the design produce a ‚Äòsignificant‚Äô (p\u0026lt;.05) effect? This can be estimated by running 1000s of independent simulations, computing and saving the p-value from each simulation, and then determining the proportion of p-values less than .05 from the distribution of simulated p-values. In principle, long-run expectations for any other statistic of a simulated design could be estimated in this way as well. In addition, design simulations can be constructed down to the level of individual trial data for individual subjects, which can aid in sample-size and cell-size planning. Some example monte-carlo simulations are presented below.\nMonte-Carlo one-sample T-test Simulation The following simulates 25 sample means from a normal distribution (mu=100, sd=10), and then conducts a one-sample t-test against the population mean of 100. This is equivalent to simulating the null. The simulation is repeated 1000 times, each time the observed p-value is saved.\nsims_to_run\u0026lt;-1000\rsave_p \u0026lt;- vector(length=sims_to_run)\rfor(i in 1:sims_to_run){\rsim_data \u0026lt;- rnorm(25,100,10)\rt.out \u0026lt;-t.test(sim_data,mu=100)\rsave_p[i] \u0026lt;- t.out$p.value\r}\rhist(save_p)\r figure\r\r\rproportion_sig\u0026lt;-length(save_p[save_p\u0026lt;.05])/sims_to_run\rproportion_sig\r#\u0026gt; [1] 0.05\r As expected, the histogram of simulated p-values is roughly uniform, indicating that all possible p-values are equally likely. In other words, chance would be expected to produce p\u0026lt;.05 about 5% of the time. The calculated proportion of significant values was 0.043. In general, as the number of simulated runs increases toward infinity, the estimated parameter should settle on it‚Äôs true expected value.\nMonte-Carlo paired T-test Simulation 25 subjects, with expected mean 100 in Condition 1 and mean 110 in Condition 2, with standard deviation 30. This simulation includes a programmed difference of 10, so there is a true effect.\nsims_to_run\u0026lt;-1000\rsave_p \u0026lt;- vector(length=sims_to_run)\rfor(i in 1:sims_to_run){\rcondition_1 \u0026lt;- rnorm(25,100,30)\rcondition_2 \u0026lt;- rnorm(25,110,30)\rt.out \u0026lt;-t.test(condition_1,condition_2,paired=TRUE,var.equal = TRUE)\rsave_p[i] \u0026lt;- t.out$p.value\r}\rhist(save_p)\r figure\r\r\rproportion_sig\u0026lt;-length(save_p[save_p\u0026lt;.05])/sims_to_run\rproportion_sig\r#\u0026gt; [1] 0.215\r [1] 0.223\nThe histogram of p-values is skewed left, so this design is more likely to produce p\u0026lt;.05 than not, but the statistical power (or proportion of significant simulations) is only 0.223.\nTo determine the number of subjects needed to achieve power = .8, you could fiddle with the number of subjects until you find the number, or you could add another loop to run multiple monte carlo simulations with difference numbers of subjects.\nsubject_numbers\u0026lt;-c(25,50,75,100,125,150,175,200)\rpower\u0026lt;-vector(length=length(subject_numbers))\rfor(subnum in 1:length(subject_numbers)){\rsims_to_run\u0026lt;-1000\rsave_p \u0026lt;- vector(length=sims_to_run)\rfor(i in 1:sims_to_run){\rcondition_1 \u0026lt;- rnorm(subject_numbers[subnum],100,30)\rcondition_2 \u0026lt;- rnorm(subject_numbers[subnum],110,30)\rt.out \u0026lt;-t.test(condition_1,condition_2,paired=TRUE,var.equal = TRUE)\rsave_p[i] \u0026lt;- t.out$p.value\r}\rpower[subnum]\u0026lt;-length(save_p[save_p\u0026lt;.05])/sims_to_run\r}\rpower_table\u0026lt;-data.frame(subject_numbers,power)\rkable(power_table)\r    subject_numbers power     25 0.211   50 0.369   75 0.517   100 0.636   125 0.732   150 0.795   175 0.881   200 0.908    subject_numbers\tpower 25\t0.213 50\t0.359 75\t0.503 100\t0.651 125\t0.747 150\t0.811 175\t0.871 200\t0.895\nMonte-Carlo One-way Repeated Measures Simulation The above simulations estimated individual subject sample means by drawing values directly from distributions. The individual trial data for each subject can also be simulated if desired. This can be useful for design planning as both the number of subjects and cell-size determine the power of the design. Depending on the situation, increasing the number of trials may do more for improving the sensitivity of the design than increasing the number of subjects, or vice-versa. To illustrate, the following example simulates individual trial data for subjects in a Stroop experiment. The retimes package is used to generate RT distributions.\nBefore simulating an entire experiment it is worth simulating a Stroop effect for a single simulated subject. This shows the variance of Stroop effects given programmed values for the mean difference between congruent and incongruent trials, values of mu, sigma, and tau for the base RT distributions, as well as number of trials.\nlibrary(retimes)\r#\u0026gt; Error in library(retimes): ‰∏çÂ≠òÂú®Âè´ 'retimes' ÈÄôÂÄãÂêçÁ®±ÁöÑÂ•ó‰ª∂\rlibrary(ggplot2)\rstroop_effects\u0026lt;-c()\rn_trials \u0026lt;- 144\rsim_mu \u0026lt;- 600\rsim_sigma \u0026lt;- 80\rsim_tau \u0026lt;- 150\rcongruency_effect \u0026lt;- 100\rfor(i in 1:1000){\rCongruentRTs \u0026lt;- rexgauss(n_trials,mu=sim_mu,sigma=sim_sigma,tau=sim_tau)\rIncongruentRTs \u0026lt;- rexgauss(n_trials,mu=sim_mu+congruency_effect,sigma=sim_sigma,tau=sim_tau)\rstroop_effects \u0026lt;- c(stroop_effects,mean(IncongruentRTs)-mean(CongruentRTs))\r}\r#\u0026gt; Error in rexgauss(n_trials, mu = sim_mu, sigma = sim_sigma, tau = sim_tau): Ê≤íÊúâÈÄôÂÄãÂáΩÂºè \u0026quot;rexgauss\u0026quot;\rqplot(stroop_effects)+xlab(\u0026quot;Simulated Stroop Effects\u0026quot;)+geom_bar(fill=\u0026quot;white\u0026quot;,color=\u0026quot;black\u0026quot;)\r figure\r\r\r ??? stat_bin() using bins = 30. Pick better value with binwidth. The histogram shows that under the simulated parameters, the programmed Stroop effect of 100ms can easily take a value -from 50 to 150. The variance in the simulated Stroop effect for a single subject is determined by the variance in the underlying RT distributions for the congruent and incongruent conditions.\n The following simulation expands on the above to model multiple subjects in a Stroop experiment. We start with a minimum number of 10 trials per condition, in an Experiment with 20 subjects, and programmed Stroop effect of 50ms.\nsims_to_run\u0026lt;-100\rn_trials \u0026lt;- 10\rsim_mu \u0026lt;- 600\rsim_sigma \u0026lt;- 80\rsim_tau \u0026lt;- 150\rcongruency_effect \u0026lt;- 50\rn_subjects \u0026lt;- 20\rsave_p\u0026lt;-vector(length=sims_to_run)\rfor(i in 1:sims_to_run){\rall_subjects\u0026lt;-data.frame()\rfor(sub in 1:n_subjects){\rCongruentRTs \u0026lt;- rexgauss(n_trials,mu=sim_mu,sigma=sim_sigma,tau=sim_tau)\rIncongruentRTs \u0026lt;- rexgauss(n_trials,mu=sim_mu+congruency_effect,sigma=sim_sigma,tau=sim_tau)\rtemp_subject \u0026lt;- data.frame(subject=rep(sub,n_trials*2),\rcondition=rep(c(\u0026quot;Congruent\u0026quot;,\u0026quot;Incongruent\u0026quot;),each=n_trials),\rRTs=c(CongruentRTs,IncongruentRTs))\rall_subjects\u0026lt;-rbind(all_subjects,temp_subject)\r}\rmean_subject_data\u0026lt;-aggregate(RTs~subject*condition,all_subjects,mean)\raov.out\u0026lt;-summary(aov(RTs~condition+Error(subject/condition),mean_subject_data))\rsave_p[i]\u0026lt;-aov.out[[3]][[1]][[5]][1]\r}\r#\u0026gt; Error in rexgauss(n_trials, mu = sim_mu, sigma = sim_sigma, tau = sim_tau): Ê≤íÊúâÈÄôÂÄãÂáΩÂºè \u0026quot;rexgauss\u0026quot;\rhist(save_p)\r#\u0026gt; Error in hist.default(save_p): 'x' ÂøÖÈ†àÊòØÊï∏ÂÄº\rproportion_sig\u0026lt;-length(save_p[save_p\u0026lt;.05])/sims_to_run\r Tith these minimum trial counts, the power is 0.26 to detect the Stroop effect. Estimated power will increase with increasing numbers of subjects and/or trials in the simulated design. The last simulation shows how power increases as function of increasing trial counts.\nsims_to_run\u0026lt;-100\rn_trials \u0026lt;- c(10,20,30,40,50,60,70)\rsim_mu \u0026lt;- 600\rsim_sigma \u0026lt;- 80\rsim_tau \u0026lt;- 150\rcongruency_effect \u0026lt;- 50\rn_subjects \u0026lt;- 20\rsave_p\u0026lt;-vector(length=sims_to_run)\rproportion_sig\u0026lt;-vector(length=length(n_trials))\rfor(trials in 1:length(n_trials)){\rfor(i in 1:sims_to_run){\rall_subjects\u0026lt;-data.frame()\rfor(sub in 1:n_subjects){\rCongruentRTs \u0026lt;- rexgauss(n_trials[trials],mu=sim_mu,sigma=sim_sigma,tau=sim_tau)\rIncongruentRTs \u0026lt;- rexgauss(n_trials[trials],mu=sim_mu+congruency_effect,sigma=sim_sigma,tau=sim_tau)\rtemp_subject \u0026lt;- data.frame(subject=rep(sub,n_trials[trials]*2),\rcondition=rep(c(\u0026quot;Congruent\u0026quot;,\u0026quot;Incongruent\u0026quot;),each=n_trials[trials]),\rRTs=c(CongruentRTs,IncongruentRTs))\rall_subjects\u0026lt;-rbind(all_subjects,temp_subject)\r}\rmean_subject_data\u0026lt;-aggregate(RTs~subject*condition,all_subjects,mean)\raov.out\u0026lt;-summary(aov(RTs~condition+Error(subject/condition),mean_subject_data))\rsave_p[i]\u0026lt;-aov.out[[3]][[1]][[5]][1]\r}\rproportion_sig[trials]\u0026lt;-length(save_p[save_p\u0026lt;.05])/sims_to_run\r}\r#\u0026gt; Error in rexgauss(n_trials[trials], mu = sim_mu, sigma = sim_sigma, tau = sim_tau): Ê≤íÊúâÈÄôÂÄãÂáΩÂºè \u0026quot;rexgauss\u0026quot;\rkable(data.frame(n_trials,proportion_sig))\r    n_trials proportion_sig     10 FALSE   20 FALSE   30 FALSE   40 FALSE   50 FALSE   60 FALSE   70 FALSE    Analysing data from a file This tutorial comes with a folder containing several data files. All of these files are .txt files that you can open and view in any text editor. Each of the files has data formatted in a specific way, called long format. The first line of each file contains headers or names for each of the columns of data in the file. For example, The SingleFactor_Between.txt file contains 61 lines of text. The first few lines should like something like this (except the text file will not include the number signs).\nAllData[1:5,]\r DV IVB IVW   103.36478 level1 level1  196.51718 level1 level2  305.92203 level2 level1  390.26036 level2 level2  92.85307 level1 level1     The Subjects column refers to individual subjects in the data file. Each number corresponds to a unique subject. The IV1 column refers to the single independent variable or factor in this data file. There are three levels: Group1, Group2, and Group3. If you scroll down the lines of the data file you will see that subjects 1-20 are associated with Group1, subjects 21-40 are associated with Group2, and subjects 41-60 are associated with Group3. The final column DV stands for the dependent variable, and the numbers in this column represent mean values for each subject in each condition.\nReading data into R There are several ways to import data into R. We focus on using the read.table function (but see also scan). To use read.table you will need to tell R where it can find your data files. In R studio look at the bottom right panel, and find the ‚ÄúFiles‚Äù tab. When you click on the ‚ÄúFiles‚Äù tab you should see the current working directory. Use the file section to navigate to the folder on your computer that contains the data files. When you have succesfully done this you will see the data files listed in the bottom-right window. Now you want to set the current working directoy to this folder (that contains the data files). Choose the option ‚ÄúMore‚Äù, listed underneath the ‚Äúfiles‚Äù tab. You should see an option to ‚Äúset as working directory‚Äù. Click this option. Now R will be able to find your data files.\nThe next step is to input the data file into a variable in R. If you have correctly set the working directory then type the second line of code into the R terminal on the bottom left window of R-studio, then press enter. The first line of code shows how the working directory can be set with a script.\nAllData\u0026lt;-read.table(\u0026quot;RFiles/SingleFactor_Between.txt\u0026quot;,header=TRUE,sep=\u0026quot;\\t\u0026quot;) You should now see a variable called AllData appear in the workspace (top right window). If you type AllData into the terminal and press enter, you should see R list your data file in the terminal.\n5.11 Running an ANOVA for a single-factor design between-subjects design We have already used the aov function to conduct ANOVAs on our simulated data sets. The same function is used to anlayse data inputted into R. In this case, the data file that we have inputted is already structured in long-format, and R reads the data in as a dataframe object. So, to conduct the ANOVA we simply need to write the following:\nsummary(aov(DV~IV1,AllData))\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; IV1 1 803558 803558 325.2 \u0026lt;2e-16 ***\r#\u0026gt; Residuals 78 192748 2471 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r In the above print-out, the Df column refers to degrees of freedom, Sum Sq refers to the sum of squares, Mean Sq refers to Mean squared error, F-value is the F-statistic, and Pr(\u0026gt;F) is the p-value.\nWe can see that the p-value is .0166, indicating significance. This means that at least one of the three groups is significantly different from the others. However, the ANOVA alone does not tell us either the means of each group, or which ones are significantly different from each other. This requires specific comparisons between levels.\nThe summary function does not provide descriptive statistics, so we are unable to see the means for each condition. One option to view the means is to use thethe aggregate function.\naggregate(DV~IV1,AllData,mean)\r \rIV1 DV   level1 150.4954  level2 350.9397     It is worth pointing out that although the summary function does not immediately display the means for each condition, it does create a data structure that represents this information. And, the means can be found using model.tables in the following way.\naovResults\u0026lt;-aov(DV~IV1,AllData)\rprint(model.tables(aovResults,\u0026quot;means\u0026quot;),digits=6)\r#\u0026gt; Tables of means\r#\u0026gt; Grand mean\r#\u0026gt; #\u0026gt; 250.7176 #\u0026gt; #\u0026gt; IV1 #\u0026gt; IV1\r#\u0026gt; level1 level2 #\u0026gt; 150.495 350.940\r We see that the mean for Group 1 is numerically smaller than the mean for Group 2, which is numerically smaller than the mean for Group 3. We can conclude, based on the ANOVA, that the largest and smallest means are different from each other, so we know that the mean for Group 1 was significantly smaller than the mean for Group 3. We need to perform a follow-up t-test to determine whether Group 1 is different from Group 2, and yet another test to determine if Group 2 is different from Group 3.\nThe design is between-subjects, so the appropriate t-test is an independent samples t-test. We can conduct this test comparing groups 1 and 2 using the t.test function as follows:\nt.test(AllData[AllData$IV1==\u0026quot;Group1\u0026quot;,]$DV,AllData[AllData$IV1==\u0026quot;Group2\u0026quot;,]$DV,var.equal=TRUE)\r#\u0026gt; Error in t.test.default(AllData[AllData$IV1 == \u0026quot;Group1\u0026quot;, ]$DV, AllData[AllData$IV1 == : not enough 'x' observations\r We see that the p-value is p=0.06831, which is not \u0026lt;.05. So, Group 1 is not significantly different than Group 2.\nWe can run an additional t-test comparing Group 2 and Group 3 using the following:\nt.test(AllData[AllData$IV1==\u0026quot;Group2\u0026quot;,]$DV,AllData[AllData$IV1==\u0026quot;Group3\u0026quot;,]$DV,var.equal=TRUE)\r#\u0026gt; Error in t.test.default(AllData[AllData$IV1 == \u0026quot;Group2\u0026quot;, ]$DV, AllData[AllData$IV1 == : not enough 'x' observations\r Again, we see that the difference is not significant (p=.284). So Group 2 is not significantly different from Group 3.\nPrettier results using kable and broom The results of anovas or t-tests aren‚Äôt appealing look to at when they are printed to the console, and often look cluttered when printed to a .pdf or .html file using Rmarkdown. The kable function from the package knitr, and the xtable function from the xtable package can help with improving the look and feel of ANOVA and other tables.\nlibrary(knitr)\rlibrary(xtable)\raov.out \u0026lt;- summary(aov(DV~IV1,AllData))\rkable(xtable(aov.out),format='markdown')\r     Df Sum Sq Mean Sq F value Pr(\u0026gt;F)     IV1 1 803558.0 803557.970 325.1783 0   Residuals 78 192748.2 2471.131 NA NA   Df\tSum Sq\tMean Sq\tF value\tPr(\u0026gt;F)        IV1\t2\t101780.0\t50890.02\t4.405401\t0.0166327        Residuals\t57\t658448.8\t11551.73\tNA\tNA        The results from t-tests can be prettified using broom         library(broom)\rkable(tidy(t.test(DV~IV1,AllData[AllData$IV1!=\u0026quot;Group1\u0026quot;,], paired=TRUE)))\r#\u0026gt; Error in model.frame.default(formula = DV ~ IV1, data = AllData[AllData$IV1 != : ËÆäÊï∏ÁöÑÈï∑Â∫¶‰∏ç‰∏ÄÊ®£('IV1')\r estimate\tstatistic\tp.value\tparameter\tconf.low\tconf.high\tmethod\talternative -33.88101\t-1.06247\t0.3013409\t19\t-100.6253\t32.86325\tPaired t-test\ttwo.sided\nWriting up the results The preceding section covered the steps of loading a data-file into R. The data-file was for a single-factor between subjects design with 3 levels, and 20 subjects per level. An ANOVA revealed a significant effect, and the post-hoc t-tests showed that the only significant result was between Group 1 and 2. With all of this information in hand it is now possible to write-up a complete results section for this analysis. Here is an example:\nMean reaction times for each subject in each condition were submitted to a one-way ANOVA. The main effect of group was significant, F(2,57) = 4.405, MSE = 11552, p\u0026lt;.016. The mean reaction times were 490 ms, 555 ms, and 589 ms, for groups one, two, and three, respectively. Follow-up comparisons showed that group one was not significantly different from group two, t(38)=1.876, p=.068. Similarly, group 2 was not significantly different from group 3, t(38)=1.086, p=.284.\n5.12 Running a between subjects ANOVA for a 2x2 Factorial design The data file 2x2Factorial_Between.txt contains simulated data for a classic memory experiment performed by Godden \u0026amp; Baddeley (1975). The purpose of their experiment was to test the role of contextual information in guiding memory retrieval. They had different groups of subjects encode a list of words for a later memory test in one of two contexts, either on land or under water (the subjects were expert divers). Thus, the first IV was encoding context (land vs. water). In a later memory test the subjects were asked to recall as many words as possible from the list. For the subjects who encoded the words in the land context, half of the subjects performed the recall test on land, and half performed under water. The same was true for the subjects who encoded the words in the under water context. Thus, the second IV was the context of the memory test (Land vs. Water). The purpose of the experiment was to determine whether memory performance would be better when the encoding and test contexts matched (e.g., encoded and tested on land, or encoded and tested under water), compared to when the encoding and test contexts mismathced (e.g., encoded on land but tested under water, or encoded under water but tested on land).\nThe file contains simulated data for 80 subjects. There were four total conditions, and twenty subjects completed each condition. For example, 20 subjects encoded on land and tested on land, 20 subjects encoded on land and tested under water, 20 subjects encoded on land tested under water, and 20 subjects encoded under water and tested under water. The design can be described as a 2 (Encoding context: land vs. water) x 2 (Testing context: land vs. water) between subjects experiment. The dependent variable was proportion of words correctly recalled. The proportion ranges from 0 (no words recalled) to 1 (all words correctly recalled).\nLet‚Äôs load the data file into R, then perform the necessary statistical tests to interpret the results. The final product will be a complete results section.\nLoad the data into R\nAllData\u0026lt;-read.table(\u0026quot;RFiles/2x2Factorial_Between.txt\u0026quot;,header=TRUE,sep=\u0026quot;\\t\u0026quot;) Perform a 2x2 ANOVA Note: Accuracy is the name of the column in the data file representing the DV, so it is used in the aov formula. Similarly, TestContext and EncodingContext are the names of the columns representing the IVs, so they are used in the aov formula.\nsummary(aov(Accuracy~TestContext*EncodingContext,AllData))\r#\u0026gt; Error in eval(predvars, data, env): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'Accuracy'\r We can see the ANOVA produced two main effects and one interaction. The main effect for test context was not signifcant, and the main effect for encoding context was not significant. However, the interaction between encoding and test context was significant. The p-value is expressed in scientific notation, meaning that 8.79e-13 is really 0.000000000000879. This is definetly p\u0026lt; .05.\nThe next step is to find the means for each main effect, and the means for the interaction.\nThe means for main effect of test context can be found as follows:\naggregate(Accuracy~TestContext,AllData,mean)\r#\u0026gt; Error in eval(predvars, data, env): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'Accuracy'\r The means for the main effect of encoding context can be found as follows:\naggregate(Accuracy~EncodingContext,AllData,mean)\r#\u0026gt; Error in eval(predvars, data, env): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'Accuracy'\r The means for the interaction between test and encoding context can be found as follows:\naggregate(Accuracy~TestContext*EncodingContext,AllData,mean)\r#\u0026gt; Error in eval(predvars, data, env): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'Accuracy'\r The ANOVA shows that the only the interaction is significant. The means for the interaction effect are displayed immediately above. There are four means, corresponding to each of the ways that the encoding context is paired with the test context. The next step is to interpret the pattern of this interaction. In some sense, the question here is the same as interpreting a significant result from ANOVA on a single-factor with 4-levels. A significant result in either case indicates that at least one of the means is different from the other three, but the ANOVA itself does not specify which means are different from each other. That is, the ANOVA alone does not explain the pattern of the means.\nInspecting the numbers we see what is known as a cross-over interaction. If these numbers were graphed in a line chart, we would see that the lines would cross-over. Indeed, the pattern of the cross-over interaction is exactly what was predicted. Remember, the main prediction of the study was that memory accuracy should be better when the encoding and test contexts match than when they mismatch. Memory performance was .83 and .77 in the matching conditions (land/land, water/water). Memory performance was .61 and .60 in the mismatching conditions (water/land, land/water). It is important to keep the predictions in mind when conducting the follow-up tests.\nThere are 6 possible comparisons that can be made to fully explain the interaction pattern. For example, the means between 1\u0026amp;2, 1\u0026amp;3, 1\u0026amp;4, 2\u0026amp;3, 2\u0026amp;4, and 3\u0026amp;4 can all be submitted to separate t-tests. Sometimes it is necessary to conduct all of the possible comparisons, but usually it is only necessary to conduct the comparisons most relevant to the predictions at hand.\nLet‚Äôs start with the subjects who encoded words on Land. They should have better memory when they were tested on land than under water. The t-test is:\nt.test(Accuracy~TestContext, data=AllData[AllData$EncodingContext==\u0026quot;Land\u0026quot;,], var.equal=TRUE)\r#\u0026gt; Error in eval(predvars, data, env): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'Accuracy'\r Next, the subjects who encoded words under water. They should have better memory memory when they were tested under water than on land. The t-test is:\nt.test(Accuracy~TestContext, data=AllData[AllData$EncodingContext==\u0026quot;Water\u0026quot;,], var.equal=TRUE)\r#\u0026gt; Error in eval(predvars, data, env): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'Accuracy'\r These two t-test verify the main predictions of the study. If you look at the original paper, you will see that the authors conducted additional tests to show that there were no significant differences between memory performance in the matching conditions (land/land vs. water/water), and no significant differences between memory performance in the non-matching conditions (land/water vs. water/land).\nWriting up the results section The preceding section produced ANOVA results for a 2x2 between-subjects design, and means for each main effect and interaction, as well as follow-up tests to explain the significant interaction. With all of this information in place it is possible to write-up a complete results section. Here is an example:\nThe mean proportions of correctly recalled words for each subject in each condition were submitted to a 2 (encoding context: land vs. water) x 2 (test context: land vs. water) between-subjects ANOVA. The main effect of encoding context was not significant, F\u0026lt;1. The main effect of test context not significant, F(1,76) = 1.190, MSE = .011, p = .279. The two-way interaction between encoding and test context was significant, F(1,76) = 73.495, MSE = .011, p \u0026lt; .001 . Planned comparisons showed that for participants who encoded words on land, proportion recall was higher when they tested on land (.83) than under water (.61), t(38) = 7.00, p\u0026lt; .001. Similarly, for participants who encoded words under water, proportion recall was higher when they tested under water (.79) than on land (.60), t(38) = 5.23, p\u0026lt; .001.\nNote: The above results section is written with a few guidelines in mind. When a result is not significant some authors decide to simply state that the result was not significant. Some journals may require the author to fully report the F-value, the MSE, and the p-value for all non-significant effects. In the above example, the full report is not given for the first non-significant effect because the F-value was less than 1. In this case, it is often appropriate to simply report that F was less than one. Also notice that the means for the nonsignificant effects were not given. Some journals may require that these means are listed. At the very least it is important that all of the important means can be reconstructed. In this case, the four means from the interaction effect are individually listed; thus, it is is possible for the reader to reconstruct the means for both of the main effects.\n5.13 Practice Problems 5.13.1 Single factor design with a within-subjects factor The datafile is titled SingleFactor_Within.txt\nThe data file contains simulated data for 20 subjects in a sequence learning task. The dependent variable is ReactionTime. The single independent variable is called Practice, and it has four levels, 1, 2, 3, and 4. Each level represents four different blocks of practicing the sequence. The general prediction is that reaction time should decrease across the four practice blocks. Use R to load the data file and conduct a repeated-measures ANOVA, compute the means for each of the practice blocks, and conduct the necessary paired-samples t-tests. Then write a complete results section for the example data.\nTo get you started the necessary R commands are listed below\nAllData\u0026lt;-read.table(\u0026quot;RFiles/SingleFactor_Within.txt\u0026quot;,header=TRUE,sep=\u0026quot;\\t\u0026quot;) summary(aov(ReactionTime~Practice + Error(as.character(Subjects)/Practice),AllData)) aggregate(ReactionTime~Practice,AllData,mean) t.test(AllData[AllData$Practice==\u0026quot;Block1\u0026quot;,]$ReactionTime,AllData[AllData$Practice==\u0026quot;Block2\u0026quot;,]$ReactionTime, paired=TRUE,var.equal=TRUE) note: for the t-test, change the terms Block1 and Block2 to make other comparisons (e.g., Block3 or Block4).\n5.13.2 2x2 within-subjects design The datafile is titled 2x2Factorial_Within.txt\nThe data file contains simulated for 20 subjects in a Stroop task. In a Stroop task, participants are presented with color words printed in congruent or incongruent ink-colors. For example, the word blue printed in BLUE color is a congruent item. The word red printed in BLUE is an incongruent item. In the standard task, participants are instructed to identify the ink-color and ignore the word. Typically, reactions are faster for congruent than incongruent items. In this experiment, participants completed the Stroop task with two different instructions. In one phase they were presented with congruent and incongruent items, and were told to identify the ink-color and ignore the word, this is called the NameColor condition. In the other phase, participants were presented with congruent and incongruent items, and were told to identify the word and ignore the ink-color, this is called the NameWord condition. The predictions are that RTs should generally be faster for congruent than incongruent trials. Also, RTs should generally be faster for the word naming task than the color naming task. Finally, there should be an interaction between congruency and task, such that the Stroop effect (difference between incongruent and congruent items) is larger for the name color task than the name word task.\nThere are two IVS. The first IV is Congruency, with the levels Congruent and Incongruent. The second IV is Task, with the levels NameColor and and Name Word. The DV is ReactionTime. Use R to load the data file, then conduct a repeated-measures ANOVA, compute the means for each of the main effects and the interaction, and conduct any necessary paired-sample t-tests. Then write a complete results section for the example data.\nTo get you started here are the neccessary R commands:\nAllData\u0026lt;-read.table(\u0026quot;RFiles/2x2Factorial_Within.txt\u0026quot;,header=TRUE,sep=\u0026quot;\\t\u0026quot;) summary(aov(ReactionTime~TaskCongruency + Error(as.character(Subjects)/(TaskCongruency)),AllData)) You can also put the results of the aov into a variable\naovResult\u0026lt;-aov(ReactionTime~TaskCongruency + Error(as.character(Subjects)/(TaskCongruency)),AllData) Then you can print all of the means for the main effects and interactions using the following:\nmodel.tables(aovResult,\u0026quot;means\u0026quot;) 5.14 Loading raw-data into R Using R to analyze the results from real experiments requires that raw data-files are loaded into R and then transformed into a long-format data frame. Depending on how the raw data is formatted this process can be fairly straightforward, or not. The following provides an example of how to load multiple subjects data files into R and then complete an analysis. The example is taken from a Stroop experiment conducted in PsychoPy. Each subject‚Äôs data file is saved as separate .csv files (comma separated value). Each .csv file contains the raw data from a 24 trial Stroop experiment with 12 congruent and 12 incongruent items. The data files are already organized in long-format. The first row contains the columns headers, and each remaining row contains the raw data for each trial. The data files are named Subject1.csv, Subject2.csv, and so on.\nThe following read.table will load a single file into a datafram. However, the working directory must first be set to the location of the file.\nSubject1\u0026lt;-read.table(\u0026quot;RFiles/PsychoPyStroop.csv\u0026quot;,header=TRUE,sep=\u0026quot;,\u0026quot;) The ultimate goal here is to load in all 8 subjects worth of data into a single dataframe. This is done using a for loop in R.\nfnames\u0026lt;-c(\u0026quot;RFiles/Subject1.csv\u0026quot;,\u0026quot;RFiles/Subject2.csv\u0026quot;,\u0026quot;RFiles/Subject3.csv\u0026quot;,\u0026quot;RFiles/Subject4.csv\u0026quot;,\u0026quot;RFiles/Subject5.csv\u0026quot;,\u0026quot;RFiles/Subject6.csv\u0026quot;,\u0026quot;RFiles/Subject7.csv\u0026quot;,\u0026quot;RFiles/Subject8.csv\u0026quot;)\rAllSubjectData\u0026lt;-data.frame()\rfor (i in 1:length(fnames)){\rSubjectData\u0026lt;-read.table(fnames[i],header=TRUE,sep=\u0026quot;,\u0026quot;)\rAllSubjectData\u0026lt;-rbind(AllSubjectData,SubjectData)\r}\r#\u0026gt; Warning in file(file, \u0026quot;rt\u0026quot;): ÁÑ°Ê≥ïÈñãÂïüÊ™îÊ°à 'RFiles/Subject1.csv' ÔºöNo such file or directory\r#\u0026gt; Error in file(file, \u0026quot;rt\u0026quot;): ÁÑ°Ê≥ïÈñãÂïüÈÄ£Êé•\rCongruencyMeans\u0026lt;-aggregate(KeypressTime.rt~participant*congruency,data=AllSubjectData,mean)\r#\u0026gt; Error in eval(predvars, data, env): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'KeypressTime.rt'\rANOVAresults\u0026lt;-aov(KeypressTime.rt~factor(congruency) + Error(as.character(participant)/factor(congruency)),CongruencyMeans)\r#\u0026gt; Error in terms.formula(formula, \u0026quot;Error\u0026quot;, data = data): Êâæ‰∏çÂà∞Áâ©‰ª∂ 'CongruencyMeans'\rsummary(ANOVAresults)\r#\u0026gt; #\u0026gt; Error: Subjects\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; IVB 1 803558 803558 7620 \u0026lt;2e-16 ***\r#\u0026gt; Residuals 38 4007 105 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r#\u0026gt; #\u0026gt; Error: Subjects:IVW\r#\u0026gt; Df Sum Sq Mean Sq F value Pr(\u0026gt;F) #\u0026gt; IVW 1 183146 183146 1244.440 \u0026lt;2e-16 ***\r#\u0026gt; IVB:IVW 1 2 2 0.017 0.897 #\u0026gt; Residuals 38 5593 147 #\u0026gt; ---\r#\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\rmodel.tables(ANOVAresults,\u0026quot;means\u0026quot;)\r#\u0026gt; Tables of means\r#\u0026gt; Grand mean\r#\u0026gt; #\u0026gt; 250.7176 #\u0026gt; #\u0026gt; IVB #\u0026gt; IVB\r#\u0026gt; level1 level2 #\u0026gt; 150.5 350.9 #\u0026gt; #\u0026gt; IVW #\u0026gt; IVW\r#\u0026gt; level1 level2 #\u0026gt; 202.87 298.56 #\u0026gt; #\u0026gt; IVB:IVW #\u0026gt; IVW\r#\u0026gt; IVB level1 level2\r#\u0026gt; level1 102.5 198.5 #\u0026gt; level2 303.3 398.6\r"},
{"uri": "/blogR//topic/simulation/central.html","title": "‰∏≠Â§Æ",
	"tags": [],
	"description": "ÂåÖÊã¨‰∏≠Â§ÆÊ•µÈôê",
	"content": "Â§ßÊï∏Ê≥ïÂâáÁöÑÂØ¶È©ó x \u0026lt;-rnorm(1000, 10, 1)\ry \u0026lt;-cumsum(x)/(1:1000)\rplot(y, t ='l')\rabline(h =10)\r figure\r\r\rtest Âì°Â∑•ÁöÑËñ™Ê∞¥ÂàÜÈÖçÔºåÂö¥ÈáçÊá∑Áñë‰∏çÊòØÂ∏∏ÊÖãÂàÜÈÖç\n100: -\u0026gt;\n mu\u0026lt;-100 sd\u0026lt;-100 se(stander error) \u0026lt;- /sd/sqrt(100)  1.96\n-1.96*/se , /mu , 1.96* /se\nboot strapping ÊääÊàëÂÄëÂæóÂà∞ÁöÑ100ÂÄãÊ®£Êú¨ÔºåÈáçË§áÊäΩ1000Ôºå(ÊØèÊ¨°ÂøÖÈ†àÊäΩ100ÂÄã)ÁÑ∂ÂæåÂæóÂà∞1000ÂÄãÂπ≥Âùá mu,sd percentile(2.5) , mu, percentile(97.5)\nN\u0026lt;-10\rmetasample\u0026lt;-rnorm(N,5,2)\rbmu\u0026lt;-numeric(1000)\rfor(i in 1:1000){\rrndno\u0026lt;-as.integer(runif(N)*N)+1 smp\u0026lt;-metasample[rndno]\rbmu[i]\u0026lt;-mean(smp)\r}\rp\u0026lt;-density(bmu)\rplot(p)\rqq\u0026lt;-quantile(bmu)\rrug(qq,col=\u0026quot;red\u0026quot;)\r figure\r\r\rqq\r#\u0026gt; 0% 25% 50% 75% 100% #\u0026gt; 3.636512 4.819111 5.199519 5.669025 8.134128\r N\u0026lt;-100\rmetasample\u0026lt;-rnorm(N,5,2)\rbmu\u0026lt;-numeric(1000)\rfor(i in 1:1000){\rrndno\u0026lt;-as.integer(runif(N)*N)+1 smp\u0026lt;-metasample[rndno]\rbmu[i]\u0026lt;-mean(smp)\r}\rp\u0026lt;-density(bmu)\rplot(p)\rqq\u0026lt;-quantile(bmu)\rrug(qq,col=\u0026quot;red\u0026quot;)\r figure\r\r\rqq\r#\u0026gt; 0% 25% 50% 75% 100% #\u0026gt; 4.600009 5.114932 5.242487 5.367068 5.825660\r N\u0026lt;-100\rmetasample\u0026lt;-rnorm(N,5,2)\rhinfo\u0026lt;-hist(metasample)\rlx\u0026lt;-seq(min(metasample),max(metasample),length=100)\rly\u0026lt;-dnorm(lx,mean(metasample),sd(metasample))\rsy\u0026lt;-ly*(diff(lx)[1])*N lines(lx,sy,col=\u0026quot;blue\u0026quot;)\r figure\r\r\rN\u0026lt;-100\rmetasample\u0026lt;-rnorm(N,5,2)\rhinfo\u0026lt;-hist(metasample)\rly\u0026lt;-dnorm(hinfo$mids,mean(metasample),sd(metasample))\rsy\u0026lt;-ly*(diff(hinfo$mids)[1])*N lines(hinfo$mids,sy,col=\u0026quot;blue\u0026quot;)\r figure\r\r\rrv Theorem: If X is a continuous r.v. with CDF \\( F_X(x) \\), then \\( U = F_X(X) \u0018\\sim U(0,1) \\).\n„ÄêÊåáÊï∏ÂàÜ‰Ωà‰∫ÇÊï∏„ÄëÈÄôÊòØÈÄÜÊñπÊ≥ï\n\\( PDF: f(x)=Œª e^{-Œªx} \\)\n\\( CDF: 1-e^{-Œªx} \\)\n\\( R.V. X=-1/Œª lnU \\sim E(Œª) \\)\n\\[ Œªe^{-Œªx}=u \\] \\[ -Œª^2e^{-Œªx}dx=du\\] algorithm poisson random number (Knuth): init: Let L ‚Üê e‚àíŒª, k ‚Üê 0 and p ‚Üê 1. do: k ‚Üê k + 1. Generate uniform random number u in [0,1] and let p ‚Üê p √ó u. while p \u0026gt; L. return k ‚àí 1.\n„ÄêPoisson„ÄëÈõ¢Êï£ÂàÜÈÖç \\( f_X (k;Œª)=P({X=k})=\\frac{Œª^k}{k!} e^{-Œª} \\)\n(L04) ÊºîÁÆóÊ≥ï Âõ†ÁÇ∫ \\( P_{i+1}=P(X=i+1)=Œª/((i+1)!) e^{-Œª}=Œª/(i+1)(Œª^i/i!)e^{-Œª}=Œª/(i+1) p_i \\)\n \\( U \\sim U(0,1) \\) \\( i=0,p=e^{-Œª},F=p \\) Â¶ÇÊûúU\u0026lt;FÔºåÂâáX=i ÔºåÂê¶Ââágoto 4 (ÁõÆÂâçÁöÑiÊòØÂê¶Ë¶ÅËº∏Âá∫ÔºåÂ¶ÇÊûúU\u0026lt;Á¥ØÁ©çÁöÑFÔºåÂâáÁÇ∫yes) \\( p=Œª \\frac{p}{i+1},F=F+p,i=i+1 \\) goto 3 "},
{"uri": "/blogR//topic/interesting.html","title": "interesting",
	"tags": [],
	"description": "",
	"content": "seems interesting   Ëá™ÂãïÂåñ  "}]
